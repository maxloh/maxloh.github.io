{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/remarkable/lib/common/utils.js","webpack:///./node_modules/remarkable/lib/ruler.js","webpack:///./node_modules/remarkable/lib/helpers/parse_link_label.js","webpack:///./node_modules/remarkable/lib/rules_inline/state_inline.js","webpack:///./node_modules/remarkable/lib/common/entities.js","webpack:///./node_modules/remarkable/lib/helpers/parse_link_destination.js","webpack:///./node_modules/remarkable/lib/helpers/normalize_link.js","webpack:///./node_modules/remarkable/lib/helpers/parse_link_title.js","webpack:///./node_modules/remarkable/lib/helpers/normalize_reference.js","webpack:///./node_modules/photoswipe/dist/photoswipe.js","webpack:///./node_modules/photoswipe/dist/photoswipe-ui-default.js","webpack:///./node_modules/remarkable/index.js","webpack:///./node_modules/intersection-observer/intersection-observer.js","webpack:///./node_modules/remarkable/lib/index.js","webpack:///./node_modules/remarkable/lib/renderer.js","webpack:///./node_modules/remarkable/lib/rules.js","webpack:///./node_modules/remarkable/lib/parser_core.js","webpack:///./node_modules/remarkable/lib/rules_core/block.js","webpack:///./node_modules/remarkable/lib/rules_core/abbr.js","webpack:///./node_modules/remarkable/lib/rules_core/references.js","webpack:///./node_modules/remarkable/lib/rules_core/inline.js","webpack:///./node_modules/remarkable/lib/rules_core/footnote_tail.js","webpack:///./node_modules/remarkable/lib/rules_core/abbr2.js","webpack:///./node_modules/remarkable/lib/rules_core/replacements.js","webpack:///./node_modules/remarkable/lib/rules_core/smartquotes.js","webpack:///./node_modules/remarkable/lib/rules_core/linkify.js","webpack:///./node_modules/autolinker/dist/Autolinker.js","webpack:///./node_modules/remarkable/lib/parser_block.js","webpack:///./node_modules/remarkable/lib/rules_block/state_block.js","webpack:///./node_modules/remarkable/lib/rules_block/code.js","webpack:///./node_modules/remarkable/lib/rules_block/fences.js","webpack:///./node_modules/remarkable/lib/rules_block/blockquote.js","webpack:///./node_modules/remarkable/lib/rules_block/hr.js","webpack:///./node_modules/remarkable/lib/rules_block/list.js","webpack:///./node_modules/remarkable/lib/rules_block/footnote.js","webpack:///./node_modules/remarkable/lib/rules_block/heading.js","webpack:///./node_modules/remarkable/lib/rules_block/lheading.js","webpack:///./node_modules/remarkable/lib/rules_block/htmlblock.js","webpack:///./node_modules/remarkable/lib/common/html_blocks.js","webpack:///./node_modules/remarkable/lib/rules_block/table.js","webpack:///./node_modules/remarkable/lib/rules_block/deflist.js","webpack:///./node_modules/remarkable/lib/rules_block/paragraph.js","webpack:///./node_modules/remarkable/lib/parser_inline.js","webpack:///./node_modules/remarkable/lib/rules_inline/text.js","webpack:///./node_modules/remarkable/lib/rules_inline/newline.js","webpack:///./node_modules/remarkable/lib/rules_inline/escape.js","webpack:///./node_modules/remarkable/lib/rules_inline/backticks.js","webpack:///./node_modules/remarkable/lib/rules_inline/del.js","webpack:///./node_modules/remarkable/lib/rules_inline/ins.js","webpack:///./node_modules/remarkable/lib/rules_inline/mark.js","webpack:///./node_modules/remarkable/lib/rules_inline/emphasis.js","webpack:///./node_modules/remarkable/lib/rules_inline/sub.js","webpack:///./node_modules/remarkable/lib/rules_inline/sup.js","webpack:///./node_modules/remarkable/lib/rules_inline/links.js","webpack:///./node_modules/remarkable/lib/rules_inline/footnote_inline.js","webpack:///./node_modules/remarkable/lib/rules_inline/footnote_ref.js","webpack:///./node_modules/remarkable/lib/rules_inline/autolink.js","webpack:///./node_modules/remarkable/lib/common/url_schemas.js","webpack:///./node_modules/remarkable/lib/rules_inline/htmltag.js","webpack:///./node_modules/remarkable/lib/common/html_re.js","webpack:///./node_modules/remarkable/lib/rules_inline/entity.js","webpack:///./node_modules/remarkable/lib/configs/default.js","webpack:///./node_modules/remarkable/lib/configs/full.js","webpack:///./node_modules/remarkable/lib/configs/commonmark.js","webpack:///./src/js/animation.js","webpack:///./src/js/functions.js","webpack:///./src/js/navbar.js","webpack:///./src/js/app.js","webpack:///./src/js/gallery.js","webpack:///./src/js/resources.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hasOwn","has","UNESCAPE_MD_RE","isValidEntityCode","fromCodePoint","surrogate1","surrogate2","String","fromCharCode","NAMED_ENTITY_RE","DIGITAL_ENTITY_TEST_RE","entities","replaceEntityPattern","match","code","charCodeAt","test","toLowerCase","parseInt","slice","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","ch","assign","obj","sources","arguments","forEach","source","TypeError","keys","isString","toString","typeOf","unescapeMd","str","indexOf","replace","replaceEntities","escapeHtml","Ruler","this","__rules__","__cache__","__find__","len","length","__compile__","self","chains","rule","enabled","alt","altName","push","chain","fn","at","options","idx","opt","Error","before","beforeName","ruleName","splice","after","afterName","enable","list","strict","Array","isArray","disable","getRules","chainName","state","start","level","found","marker","labelEnd","max","posMax","oldPos","pos","oldFlag","isInLabel","labelUnmatchedScopes","src","parser","skipToken","StateInline","parserInline","env","outTokens","tokens","pending","pendingLevel","cache","linkLevel","linkContent","pushPending","type","content","token","cacheSet","val","cacheGet","normalizeLink","link","validateLink","url","normalized","decodeURI","err","encodeURI","trim","toUpperCase","template","UiClass","items","framework","features","target","listener","unbind","methodName","split","createEl","classes","tag","el","document","createElement","className","getScrollY","yOffset","window","pageYOffset","undefined","documentElement","scrollTop","removeClass","reg","RegExp","addClass","hasClass","getChildByClass","parentEl","childClassName","node","firstChild","nextSibling","arraySearch","array","extend","o1","o2","preventOverwrite","prop","easing","sine","out","k","Math","sin","PI","inOut","cos","cubic","detectFeatures","helperStyle","style","vendor","oldIE","all","addEventListener","touch","requestAnimationFrame","raf","caf","cancelAnimationFrame","pointerEvent","navigator","msPointerEnabled","ua","userAgent","platform","v","isOldIOSPhone","androidversion","parseFloat","isOldAndroid","androidVersion","isMobileOpera","styleCheckItem","styleName","styleChecks","vendors","a","charAt","lastTime","currTime","Date","getTime","timeToCall","id","setTimeout","clearTimeout","svg","createElementNS","createSVGRect","evName","_handleEv","handleEvent","_options","allowPanToNext","spacing","bgOpacity","mouseUsed","loop","pinchToClose","closeOnScroll","closeOnVerticalDrag","verticalDragRange","hideAnimationDuration","showAnimationDuration","showHideOpacity","focus","escKey","arrowKeys","mainScrollEndFriction","panEndFriction","isClickableElement","tagName","getDoubleTapZoom","isMouseClick","item","initialZoomLevel","maxSpreadZoom","modal","scaleMode","_isOpen","_isDestroying","_closedByScroll","_currentItemIndex","_containerStyle","_containerShiftIndex","_upMoveEvents","_downEvents","_globalEventHandlers","_currZoomLevel","_startZoomLevel","_translatePrefix","_translateSufix","_updateSizeInterval","_itemsNeedUpdate","_itemHolders","_prevItemIndex","_dragStartEvent","_dragMoveEvent","_dragEndEvent","_dragCancelEvent","_transformKey","_pointerEventEnabled","_likelyTouchDevice","_requestAF","_cancelAF","_initalClassName","_initalWindowScrollY","_oldIE","_currentWindowScrollY","_features","_orientationChangeTimeout","_gestureStartTime","_gestureCheckSpeedTime","_releaseAnimData","_isZoomingIn","_verticalDragInitiated","_oldAndroidTouchEndTimeout","_isDragging","_isMultitouch","_zoomStarted","_moved","_dragAnimFrame","_mainScrollShifted","_currentPoints","_isZooming","_startPointsDistance","_currPanBounds","_currZoomElementStyle","_mainScrollAnimating","_direction","_isFirstMove","_opacityChanged","_bgOpacity","_wasOverInitialZoom","_tempCounter","_currPanDist","x","y","_startPanOffset","_panOffset","_viewportSize","_currPositionIndex","_offset","_slideSize","_indexDiff","_isFixedPosition","_modules","_windowVisibleSize","_renderMaxResolution","_registerModule","publicMethods","_getLoopedId","index","numSlides","_getNumItems","_listeners","_listen","_shout","listeners","args","shift","apply","_getCurrentTime","_applyBgOpacity","opacity","bg","_applyZoomTransform","styleObj","zoom","currItem","fitRatio","_applyCurrentZoomPan","allowRenderResolution","_setImageSize","_applyZoomPanToItem","container","initialPosition","_setTranslateX","elStyle","_moveMainScroll","dragging","newSlideIndexOffset","delta","round","_mainScrollPos","_calculatePanOffset","axis","zoomLevel","_midZoomPoint","_equalizePoints","p1","p2","_roundPoint","_mouseMoveTimeout","_onFirstMouseMove","_calculatePanBounds","update","bounds","_calculateItemSize","_getMinZoomLevel","_getMaxZoomLevel","w","_modifyDestPanOffset","destPanBounds","destPanOffset","destZoomLevel","min","_onKeyDown","e","keydownAction","keyCode","ctrlKey","altKey","shiftKey","metaKey","preventDefault","returnValue","_onGlobalClick","stopPropagation","_updatePageScrollOffset","setScrollOffset","_animations","_numAnimations","_stopAnimation","_registerStartAnimation","_stopAllAnimations","_animateProp","b","endProp","easingFn","onUpdate","onComplete","startAnimTime","animloop","shout","listen","viewportSize","isMainScrollAnimating","getZoomLevel","getCurrentIndex","isDragging","isZooming","applyZoomPan","panX","panY","init","transform","scrollWrap","itemHolders","children","wrap","display","allow3dTransform","perspective","left","zoomRatio","h","width","height","top","_setupTransforms","resize","updateSize","orientationchange","clientWidth","scroll","keydown","click","oldPhone","animationName","ui","isNaN","_getItemAt","setAttribute","position","rootClasses","mainClass","setContent","updateCurrItem","setInterval","close","_showOrHide","destroy","_showOrHideTimeout","clearInterval","_stopDragUpdateLoop","panTo","force","event","goTo","diff","next","prev","updateCurrZoomItem","emulateSetContent","zoomElement","center","invalidateCurrItems","needsUpdate","beforeAnimation","tempHolder","diffAbs","abs","NUM_HOLDERS","pop","unshift","prevItem","windowScrollY","innerWidth","innerHeight","clientHeight","holder","hIndex","cleanSlide","zoomTo","centerPoint","speed","updateFn","initialPanOffset","now","_currPoint","_startPoint","_currPointers","_startMainScrollPos","_posPoints","_tempPoint","_currZoomedItemIndex","_centerPoint","_lastReleaseTime","_currCenterPoint","_calculatePointsDistance","sqrt","_dragUpdateLoop","_renderMovement","_closestElement","getAttribute","parentNode","_preventObj","_preventDefaultEventBehaviour","isDown","prevent","_convertTouchToPoint","pageX","pageY","identifier","_findCenterOfPoints","pCenter","_calculateVerticalDragOpacityRatio","_ePoint1","_ePoint2","_tempPointsArr","_getTouchPoints","touches","_panOrMoveMainScroll","panFriction","startOverDiff","newPanPos","newMainScrollPos","newOffset","dir","newMainScrollPosition","mainScrollDiff","_onDragStart","button","_initialZoomRunning","pointerIndex","pointerId","startPointsList","numPoints","_onDragMove","touchesList","_isEqualPoints","pointsDistance","_calculateZoomLevel","zoomFriction","minZoomLevel","maxZoomLevel","percent","opacityRatio","time","_pushPosPoint","_onDragRelease","releasePoint","4","2","3","pointerType","gestureType","touchList","changedTouches","releaseTimeDiff","_initDragReleaseAnimationData","calculateSwipeSpeed","initalPanY","initialBgOpacity","_finishSwipeMainScrollGesture","_completePanGesture","_completeZoomGesture","lastFlickDuration","tempReleasePos","lastFlickOffset","lastFlickDist","lastFlickSpeed","slowDownRatio","slowDownRatioReverse","speedDecelerationRatio","speedDecelerationRatioAbs","distanceOffset","backAnimDestination","backAnimStarted","calculateOverBoundsAnimOffset","calculateAnimOffset","timeDiff","panAnimLoop","zoomPan","lastNow","animData","itemChanged","itemsDiff","nextCircle","totalShiftDist","isFastLastFlick","finishAnimDuration","animateToX","animateToDist","touchesDistance","initialOpacity","initGestures","addEventNames","pref","down","move","up","cancel","maxTouchPoints","msMaxTouchPoints","likelyTouchDevice","mousedown","mousemove","mouseup","_items","_initialContentSet","img","completeFn","thumbBounds","initialLayout","getThumbBoundsFn","closeWithRaf","fadeEverything","duration","removeAttribute","loadError","miniImg","webkitBackfaceVisibility","initalBgOpacity","_tempPanAreaSize","_imagesToAppendPool","_controllerDefaultOptions","errorMsg","forceProgressiveLoading","preload","getNumItemsFn","isInitial","vGap","bottom","hRatio","vRatio","realPanElementW","realPanElementH","_calculateSingleItemPanBounds","_appendImage","baseDiv","preventAnimation","keepPlaceholder","imageAppended","appendChild","loaded","placeholder","_preloadImage","loading","loadComplete","onload","onerror","_checkForError","cleanUp","innerHTML","maxRes","lastChild","_appendImagesPool","poolItem","clearPlaceholder","lazyLoadItem","initController","getItemAt","isNext","preloadBefore","preloadAfter","preloader","allowProgressiveImg","screen","html","placeholderClassName","msrc","tapTimer","_wheelDelta","tapReleasePoint","_dispatchTapEvent","origEvent","createEvent","eDetail","initCustomEvent","dispatchEvent","initTap","onTapStart","onTapRelease","touch0","touch1","p0","initDesktopZoom","setupDesktopZoom","onInit","events","handleMouseWheel","mouseZoomedIn","hasDraggingClass","updateZoomable","removeDraggingClass","deltaY","deltaMode","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","detail","newPanX","newPanY","toggleDesktopZoom","doubleTapZoomLevel","zoomOut","_historyUpdateTimeout","_hashChangeTimeout","_hashAnimCheckTimeout","_hashChangedByScript","_hashChangedByHistory","_hashReseted","_initialHash","_historyChanged","_closedFromURL","_urlChangedOnce","_windowLoc","_supportsPushState","_historyDefaultOptions","history","galleryUID","_getHash","hash","substring","_cleanHistoryTimeouts","_parseItemIndexFromURL","params","vars","pair","galleryPIDs","searchfor","pid","_updateHash","newHash","newURL","href","location","title","initHistory","updateURL","onHashChange","returnToOriginal","back","pushState","pathname","search","pswp","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_initalCloseOnScrollValue","_isIdle","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_blockControlsTap","_idleInterval","_idleTimer","_overlayUIUpdated","_controlsVisible","_shareModalHidden","_defaultUIOptions","barsSize","closeElClasses","timeToIdle","timeToIdleOutside","loadingIndicatorDelay","addCaptionHTMLFn","captionEl","closeEl","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","label","download","getImageURLForShare","getPageURLForShare","getTextForShare","indexIndicatorSep","fitControlsWidth","_onControlsTap","_onIdleMouseMove","uiElement","clickedClass","srcElement","_uiElements","onTap","tapDelay","_togglePswpClass","cName","add","_countNumItems","hasOneSlide","_toggleShareModalClass","_toggleShareModal","_updateShareURLs","_openWindowPopup","hasAttribute","open","shareButtonData","image_url","page_url","share_text","shareButtonOut","encodeURIComponent","parseShareButtonOut","onclick","_hasCloseClass","_idleIncrement","setIdle","_onMouseLeaveWindow","from","relatedTarget","toElement","nodeName","_toggleLoadingIndicator","hide","_applyNavBarGaps","gap","bars","insertBefore","captionSize","option","isFullscreen","exit","enter","pinchControlsHidden","hideControls","showControls","point","preventObj","onGlobalTap","onMouseOver","eventK","updateFullscreen","removeChild","classAttr","loopThroughChildElements","sChildren","topBar","_setupUIElements","getFullscreenAPI","naturalWidth","isIdle","updateIndexIndicator","supportsFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","api","dE","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","IntersectionObserverEntry","intersectionRatio","startDoc","doc","frame","getFrameElement","ownerDocument","registry","crossOriginUpdater","crossOriginRect","IntersectionObserver","THROTTLE_TIMEOUT","POLL_INTERVAL","USE_MUTATION_OBSERVER","_setupCrossOriginUpdater","boundingClientRect","intersectionRect","convertFromParentRect","right","observer","_checkForIntersections","_resetCrossOriginUpdater","observe","_observationTargets","some","element","nodeType","_registerInstance","entry","_monitorIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","_unmonitorAllIntersections","takeRecords","records","_queuedEntries","_initThresholds","opt_threshold","threshold","sort","_parseRootMargin","opt_rootMargin","margins","map","margin","parts","exec","unit","win","defaultView","_monitoringDocuments","callback","monitoringInterval","domObserver","addEvent","MutationObserver","attributes","childList","characterData","subtree","_monitoringUnsubscribes","removeEvent","rootDoc","root","itemDoc","unsubscribe","unsubscribes","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","targetRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","rootBounds","newEntry","performance","_hasCrossedThreshold","isIntersecting","_callback","getComputedStyle","rect1","rect2","parent","getParentNode","atRoot","parentRect","parentComputedStyle","frameRect","frameIntersect","body","overflow","isDoc","_expandRectByRootMargin","rect","_rootMarginValues","newRect","oldRatio","newRatio","thresholds","containsDeep","frameElement","ensureDOMRect","targetArea","intersectionArea","Number","toFixed","opt_options","timeout","timer","rootMargin","join","opt_useCapture","attachEvent","removeEventListener","detatchEvent","parentBoundingRect","parentIntersectionRect","child","assignedSlot","host","Renderer","ParserCore","ParserBlock","ParserInline","config","StateCore","instance","inlineMode","inline","block","renderer","typographer","Remarkable","preset","core","ruler","configure","set","presets","components","rules","use","plugin","parse","process","render","parseInline","renderInline","utils","getBreak","_rules","result","blockquote_open","blockquote_close","fence","fences","fenceName","langClass","langPrefix","fence_custom","highlight","concat","heading_open","hLevel","heading_close","hr","xhtmlOut","bullet_list_open","bullet_list_close","list_item_open","list_item_close","ordered_list_open","order","ordered_list_close","paragraph_open","tight","paragraph_close","addBreak","link_open","linkTarget","link_close","image","table_open","table_close","thead_open","thead_close","tbody_open","tbody_close","tr_open","tr_close","th_open","align","th_close","td_open","td_close","strong_open","strong_close","em_open","em_close","del_open","del_close","ins_open","ins_close","mark_open","mark_close","sub","sup","hardbreak","softbreak","breaks","text","htmlblock","htmltag","abbr_open","abbr_close","footnote_ref","subId","footnote_block_open","footnote_block_close","footnote_open","footnote_close","footnote_anchor","dl_open","dt_open","dd_open","dl_close","dt_close","dd_close","nextToken","Core","lines","parseLinkLabel","parseAbbr","abbreviations","parseLinkDestination","parseLinkTitle","normalizeReference","parseReference","references","tok","j","lastParagraph","current","currentLabel","insideRef","refTokens","footnotes","count","regEscape","nodes","regText","blockTokens","abbrRegExp","substr","lastIndex","RARE_RE","SCOPED_ABBR_RE","SCOPED_ABBR","inlineTokens","blkIdx","QUOTE_TEST_RE","QUOTE_RE","PUNCT_RE","isLetter","replaceAt","thisLevel","lastSpace","nextSpace","canOpen","canClose","isSingle","stack","OUTER","single","quotes","Autolinker","LINK_SCAN_RE","isLinkClose","createLinkifier","links","autolinker","stripPrefix","email","twitter","replaceFn","linker","getType","matchedText","getUrl","getEmail","ln","htmlLinkLevel","linkifier","linkify","alphaNumericChars","emailRegex","domainNameRegex","tldRegex","attrValueRegex","nameEqualsValueRegex","alphaNumericCharsStr","cfg","version","urls","normalizeUrlsCfg","phone","hashtag","newWindow","truncate","normalizeTruncateCfg","htmlParser","matchers","tagBuilder","textOrHtml","constructor","schemeMatches","wwwMatches","tldMatches","Util","defaults","POSITIVE_INFINITY","htmlNodes","getHtmlParser","anchorTagStackCount","matches","getTagName","isClosing","textNodeMatches","parseText","getText","getOffset","compactMatches","removeUnwantedMatches","endIdx","getMatchedText","remove","getUrlMatchType","offset","getMatchers","numMatchers","textMatches","parseMatches","numTextMatches","setOffset","newHtml","createMatchReturnVal","replaceFnResult","HtmlTag","toAnchorString","buildTag","HtmlParser","matchersNs","matcher","getTagBuilder","Hashtag","serviceName","Email","Phone","Twitter","Url","AnchorTagBuilder","abstractMethod","trimRegex","dest","superclass","protoProps","subclass","superclassProto","F","subclassProto","ellipsis","truncateLen","ellipsisChars","arr","splitAndCapture","splitRegex","global","lastIdx","whitespaceRegex","innerHtml","setTagName","setAttr","attrName","attrValue","getAttrs","getAttr","setAttrs","attrs","tagAttrs","setClass","cssClass","newClass","getClass","newClasses","removeClasses","setInnerHtml","getInnerHtml","attrsStr","buildAttrsStr","attrsArr","RegexLib","alphaCharsStr","build","createAttrs","getAnchorHref","processAnchorText","getAnchorText","matchType","anchorHref","createCssClass","anchorText","doTruncate","truncateLength","truncateLocation","TruncateSmart","TruncateMiddle","TruncateEnd","htmlRegex","htmlCharacterEntitiesRegex","currentResult","textAndEntityNodes","tagText","commentText","isClosingTag","inBetweenTagsText","parseTextAndEntityNodes","createCommentNode","createElementNode","textAndEntityTokens","textToken","entityToken","createTextNode","createEntityNode","CommentNode","comment","ElementNode","closing","EntityNode","TextNode","HtmlNode","getComment","Match","getServiceName","getHashtag","number","plusSign","getNumber","twitterHandle","getTwitterHandle","urlMatchType","protocolUrlMatch","protocolRelativeMatch","urlPrefixRegex","protocolRelativeRegex","protocolPrepended","stripProtocolRelativePrefix","stripUrlPrefix","removeTrailingSlash","Matcher","matcherRegex","nonWordCharRegex","prevChar","cleanNumber","urlSuffixRegex","wordCharRegExp","openParensRe","closeParensRe","matchStr","schemeUrlMatch","wwwUrlMatch","wwwProtocolRelativeMatch","tldProtocolRelativeMatch","UrlMatchValidator","isValid","matchHasUnbalancedClosingParen","matchHasInvalidCharAfterTld","openParensMatch","closeParensMatch","urlMatch","res","hasFullProtocolRegex","uriSchemeRegex","hasWordCharAfterProtocolRegex","ipRegex","isValidUriScheme","urlMatchDoesNotHaveProtocolOrDot","urlMatchDoesNotHaveAtLeastOneWordChar","isValidIpAddress","uriSchemeMatch","newRegex","uriScheme","availableLength","end","floor","ceil","buildUrl","urlObj","scheme","path","query","fragment","buildSegment","segment","remainingAvailableLength","remainingAvailableLengthHalf","startOffset","endOffset","urlSub","parse_url","matchQuery","pathAndQuery","StateBlock","tokenize","startLine","endLine","line","hasEmptyLines","skipEmptyLines","tShift","blkIndent","isEmpty","parentType","TABS_SCAN_RE","NEWLINES_RE","SPACES_RE","lineStart","lastTabPos","lineMax","indent","indent_found","bMarks","eMarks","ddIndent","skipSpaces","skipChars","skipCharsBack","getLines","begin","keepLastLF","first","last","queue","nextLine","silent","mem","haveEndMarker","lastLineEmpty","oldTShift","oldBMarks","oldIndent","oldParentType","terminatorRules","terminate","maxNesting","cnt","skipBulletListMarker","skipOrderedListMarker","oldTight","posAfterMarker","indentAfterMarker","markerValue","markerCharCode","isOrdered","contentStart","listTokIdx","prevEmptyEnd","listLines","itemLines","markTightParagraphs","oldBMark","refs","tmp","block_names","HTML_TAG_OPEN_RE","HTML_TAG_CLOSE_RE","lc","html_blocks","getLine","lineText","rows","cell","aligns","tableLines","tbodyLines","skipMarker","ddLine","dtLine","oldDDIndent","cached_pos","ok","isTerminatorChar","pmax","ESCAPED","matchStart","matchEnd","lastChar","nextChar","isAlphaNum","scanDelims","can_open","can_close","delims","startCount","oldCount","newCount","UNESCAPE_RE","labelStart","ref","isImage","footnoteId","oldLength","footnoteSubId","url_schemas","EMAIL_RE","AUTOLINK_RE","tail","linkMatch","emailMatch","fullUrl","HTML_TAG_RE","regex","attr_value","attribute","open_tag","DIGITAL_RE","NAMED_RE","css","styles","querySelector","getPropertyValue","setProperty","delay","navbar","getElementById","section","querySelectorAll","animationObserver","entries","classList","initAnimation","navbarHeight","navbarObserver","getElementsByClassName","attributeFilter","lastIndexOf","scrollY","currentTranslateY","behavior","pageCenter","scrollHandler","activeLink","viewport","elementFromPoint","closest","transitionDuration","interval","initNavbar","openPhotoSwipe","imgElement","galleryClass","pswpElement","currentSrc","naturalHeight","PhotoSwipe","PhotoSwipeUI_Default","pageYScroll","insertAdjacentHTML","initPhotoSwipe","fetch","origin","then","response"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,I,+BCpErD,IAAIC,EAAStB,OAAOkB,UAAUC,eAE9B,SAASI,EAAIP,EAAQH,GACnB,QAAOG,GACHM,EAAO7B,KAAKuB,EAAQH,GA0B1B,IAAIW,EAAiB,6CASrB,SAASC,EAAkB9B,GAGzB,QAAIA,GAAK,OAAUA,GAAK,WAEpBA,GAAK,OAAUA,GAAK,SACH,QAAZ,MAAJA,IAA2C,QAAZ,MAAJA,OAE5BA,GAAK,GAAQA,GAAK,KACZ,KAANA,MACAA,GAAK,IAAQA,GAAK,QAClBA,GAAK,KAAQA,GAAK,QAElBA,EAAI,eAIV,SAAS+B,EAAc/B,GAErB,GAAIA,EAAI,MAAQ,CAEd,IAAIgC,EAAa,QADjBhC,GAAK,QAC2B,IAC5BiC,EAAa,OAAc,KAAJjC,GAE3B,OAAOkC,OAAOC,aAAaH,EAAYC,GAEzC,OAAOC,OAAOC,aAAanC,GAG7B,IAAIoC,EAAoB,6BACpBC,EAAyB,qCACzBC,EAAW,EAAQ,GAEvB,SAASC,EAAqBC,EAAOtC,GACnC,IAAIuC,EAAO,EAEX,OAAIb,EAAIU,EAAUpC,GACToC,EAASpC,GACgB,KAAvBA,EAAKwC,WAAW,IAAsBL,EAAuBM,KAAKzC,IAKvE4B,EAJJW,EAAiC,MAA1BvC,EAAK,GAAG0C,cACbC,SAAS3C,EAAK4C,MAAM,GAAI,IAExBD,SAAS3C,EAAK4C,MAAM,GAAI,KAEjBf,EAAcU,GAGlBD,EAWT,IAAIO,EAAsB,SACtBC,EAAyB,UACzBC,EAAoB,CACtB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,UAGP,SAASC,EAAkBC,GACzB,OAAOF,EAAkBE,GAY3B1D,EAAQ2D,OA7GR,SAAgBC,GACd,IAAIC,EAAU,GAAGR,MAAMhD,KAAKyD,UAAW,GAcvC,OAZAD,EAAQE,SAAQ,SAAUC,GACxB,GAAKA,EAAL,CAEA,GAAsB,iBAAXA,EACT,MAAM,IAAIC,UAAUD,EAAS,kBAG/BpD,OAAOsD,KAAKF,GAAQD,SAAQ,SAAUtC,GACpCmC,EAAInC,GAAOuC,EAAOvC,UAIfmC,GA+FT5D,EAAQmE,SA5HR,SAAkBP,GAChB,MAAuB,oBALzB,SAAgBA,GACd,OAAOhD,OAAOkB,UAAUsC,SAAS/D,KAAKuD,GAI/BS,CAAOT,IA4HhB5D,EAAQmC,IAAoBA,EAC5BnC,EAAQsE,WA1FR,SAAoBC,GAClB,OAAIA,EAAIC,QAAQ,MAAQ,EAAYD,EAC7BA,EAAIE,QAAQrC,EAAgB,OAyFrCpC,EAAQqC,kBAAoBA,EAC5BrC,EAAQsC,cAAoBA,EAC5BtC,EAAQ0E,gBApCR,SAAyBH,GACvB,OAAIA,EAAIC,QAAQ,KAAO,EAAYD,EAE5BA,EAAIE,QAAQ9B,EAAiBG,IAkCtC9C,EAAQ2E,WAhBR,SAAoBJ,GAClB,OAAIjB,EAAoBJ,KAAKqB,GACpBA,EAAIE,QAAQlB,EAAwBE,GAEtCc,I,6BCnHT,SAASK,IAQPC,KAAKC,UAAY,GAOjBD,KAAKE,UAAY,KAWnBH,EAAM9C,UAAUkD,SAAW,SAAUvE,GAInC,IAHA,IAAIwE,EAAMJ,KAAKC,UAAUI,OACrBhF,GAAK,EAEF+E,KACL,GAAIJ,KAAKC,YAAY5E,GAAGO,OAASA,EAC/B,OAAOP,EAGX,OAAQ,GASV0E,EAAM9C,UAAUqD,YAAc,WAC5B,IAAIC,EAAOP,KACPQ,EAAS,CAAE,IAGfD,EAAKN,UAAUf,SAAQ,SAAUuB,GAC1BA,EAAKC,SAIVD,EAAKE,IAAIzB,SAAQ,SAAU0B,GACrBJ,EAAOb,QAAQiB,GAAW,GAC5BJ,EAAOK,KAAKD,SAKlBL,EAAKL,UAAY,GAEjBM,EAAOtB,SAAQ,SAAU4B,GACvBP,EAAKL,UAAUY,GAAS,GACxBP,EAAKN,UAAUf,SAAQ,SAAUuB,GAC1BA,EAAKC,UAINI,GAASL,EAAKE,IAAIhB,QAAQmB,GAAS,GAGvCP,EAAKL,UAAUY,GAAOD,KAAKJ,EAAKM,YAmBtChB,EAAM9C,UAAU+D,GAAK,SAAUpF,EAAMmF,EAAIE,GACvC,IAAIC,EAAMlB,KAAKG,SAASvE,GACpBuF,EAAMF,GAAW,GAErB,IAAa,IAATC,EACF,MAAM,IAAIE,MAAM,0BAA4BxF,GAG9CoE,KAAKC,UAAUiB,GAAKH,GAAKA,EACzBf,KAAKC,UAAUiB,GAAKP,IAAMQ,EAAIR,KAAO,GACrCX,KAAKE,UAAY,MAanBH,EAAM9C,UAAUoE,OAAS,SAAUC,EAAYC,EAAUR,EAAIE,GAC3D,IAAIC,EAAMlB,KAAKG,SAASmB,GACpBH,EAAMF,GAAW,GAErB,IAAa,IAATC,EACF,MAAM,IAAIE,MAAM,0BAA4BE,GAG9CtB,KAAKC,UAAUuB,OAAON,EAAK,EAAG,CAC5BtF,KAAM2F,EACNb,SAAS,EACTK,GAAIA,EACJJ,IAAKQ,EAAIR,KAAO,KAGlBX,KAAKE,UAAY,MAanBH,EAAM9C,UAAUwE,MAAQ,SAAUC,EAAWH,EAAUR,EAAIE,GACzD,IAAIC,EAAMlB,KAAKG,SAASuB,GACpBP,EAAMF,GAAW,GAErB,IAAa,IAATC,EACF,MAAM,IAAIE,MAAM,0BAA4BM,GAG9C1B,KAAKC,UAAUuB,OAAON,EAAM,EAAG,EAAG,CAChCtF,KAAM2F,EACNb,SAAS,EACTK,GAAIA,EACJJ,IAAKQ,EAAIR,KAAO,KAGlBX,KAAKE,UAAY,MAYnBH,EAAM9C,UAAU4D,KAAO,SAAUU,EAAUR,EAAIE,GAC7C,IAAIE,EAAMF,GAAW,GAErBjB,KAAKC,UAAUY,KAAK,CAClBjF,KAAM2F,EACNb,SAAS,EACTK,GAAIA,EACJJ,IAAKQ,EAAIR,KAAO,KAGlBX,KAAKE,UAAY,MAWnBH,EAAM9C,UAAU0E,OAAS,SAAUC,EAAMC,GACvCD,EAAQE,MAAMC,QAAQH,GAElBA,EADA,CAAEA,GAIFC,GACF7B,KAAKC,UAAUf,SAAQ,SAAUuB,GAC/BA,EAAKC,SAAU,KAKnBkB,EAAK1C,SAAQ,SAAUtD,GACrB,IAAIsF,EAAMlB,KAAKG,SAASvE,GACxB,GAAIsF,EAAM,EACR,MAAM,IAAIE,MAAM,oCAAsCxF,GAExDoE,KAAKC,UAAUiB,GAAKR,SAAU,IAC7BV,MAEHA,KAAKE,UAAY,MAWnBH,EAAM9C,UAAU+E,QAAU,SAAUJ,IAClCA,EAAQE,MAAMC,QAAQH,GAElBA,EADA,CAAEA,IAID1C,SAAQ,SAAUtD,GACrB,IAAIsF,EAAMlB,KAAKG,SAASvE,GACxB,GAAIsF,EAAM,EACR,MAAM,IAAIE,MAAM,oCAAsCxF,GAExDoE,KAAKC,UAAUiB,GAAKR,SAAU,IAC7BV,MAEHA,KAAKE,UAAY,MAWnBH,EAAM9C,UAAUgF,SAAW,SAAUC,GAInC,OAHuB,OAAnBlC,KAAKE,WACPF,KAAKM,cAEAN,KAAKE,UAAUgC,IAAc,IAOtC9G,EAAOD,QAAU4E,G,6BCnQjB3E,EAAOD,QAAU,SAAwBgH,EAAOC,GAC9C,IAAIC,EAAOC,EAAOC,EACdC,GAAY,EACZC,EAAMN,EAAMO,OACZC,EAASR,EAAMS,IACfC,EAAUV,EAAMW,UAEpB,GAAIX,EAAMW,UAAa,OAAQ,EAE/B,GAAIX,EAAMY,qBAER,OADAZ,EAAMY,wBACE,EAOV,IAJAZ,EAAMS,IAAMR,EAAQ,EACpBD,EAAMW,WAAY,EAClBT,EAAQ,EAEDF,EAAMS,IAAMH,GAAK,CAEtB,GAAe,MADfF,EAASJ,EAAMa,IAAI5E,WAAW+D,EAAMS,MAElCP,SACK,GAAe,KAAXE,GAEK,MADdF,EACiB,CACfC,GAAQ,EACR,MAIJH,EAAMc,OAAOC,UAAUf,GAczB,OAXIG,GACFE,EAAWL,EAAMS,IACjBT,EAAMY,qBAAuB,GAE7BZ,EAAMY,qBAAuBV,EAAQ,EAIvCF,EAAMS,IAAMD,EACZR,EAAMW,UAAYD,EAEXL,I,6BCrDT,SAASW,EAAYH,EAAKI,EAAcnC,EAASoC,EAAKC,GACpDtD,KAAKgD,IAAMA,EACXhD,KAAKqD,IAAMA,EACXrD,KAAKiB,QAAUA,EACfjB,KAAKiD,OAASG,EACdpD,KAAKuD,OAASD,EACdtD,KAAK4C,IAAM,EACX5C,KAAK0C,OAAS1C,KAAKgD,IAAI3C,OACvBL,KAAKqC,MAAQ,EACbrC,KAAKwD,QAAU,GACfxD,KAAKyD,aAAe,EAEpBzD,KAAK0D,MAAQ,GAKb1D,KAAK8C,WAAY,EAIjB9C,KAAK2D,UAAY,EAGjB3D,KAAK4D,YAAc,GAEnB5D,KAAK+C,qBAAuB,EAM9BI,EAAYlG,UAAU4G,YAAc,WAClC7D,KAAKuD,OAAO1C,KAAK,CACfiD,KAAM,OACNC,QAAS/D,KAAKwD,QACdnB,MAAOrC,KAAKyD,eAEdzD,KAAKwD,QAAU,IAMjBL,EAAYlG,UAAU4D,KAAO,SAAUmD,GACjChE,KAAKwD,SACPxD,KAAK6D,cAGP7D,KAAKuD,OAAO1C,KAAKmD,GACjBhE,KAAKyD,aAAezD,KAAKqC,OAO3Bc,EAAYlG,UAAUgH,SAAW,SAAUrH,EAAKsH,GAC9C,IAAK,IAAI7I,EAAI2E,KAAK0D,MAAMrD,OAAQhF,GAAKuB,EAAKvB,IACxC2E,KAAK0D,MAAM7C,KAAK,GAGlBb,KAAK0D,MAAM9G,GAAOsH,GAKpBf,EAAYlG,UAAUkH,SAAW,SAAUvH,GACzC,OAAOA,EAAMoD,KAAK0D,MAAMrD,OAASL,KAAK0D,MAAM9G,GAAO,GAGrDxB,EAAOD,QAAUgI,G,6BCpEjB/H,EAAOD,QAAU,CACf,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,GAAK,IACL,IAAM,IACN,IAAM,KACN,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,MAAQ,IACR,MAAQ,IACR,GAAK,IACL,IAAM,KACN,IAAM,KACN,OAAS,IACT,OAAS,IACT,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,OAAS,IACT,KAAO,IACP,SAAW,IACX,KAAO,IACP,IAAM,IACN,KAAO,IACP,MAAQ,IACR,OAAS,IACT,SAAW,IACX,SAAW,IACX,SAAW,IACX,SAAW,IACX,SAAW,IACX,SAAW,IACX,SAAW,IACX,SAAW,IACX,MAAQ,IACR,QAAU,IACV,SAAW,IACX,OAAS,IACT,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,GAAK,IACL,OAAS,IACT,IAAM,IACN,IAAM,IACN,KAAO,IACP,KAAO,IACP,cAAgB,IAChB,OAAS,IACT,SAAW,IACX,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,OAAS,IACT,IAAM,IACN,MAAQ,IACR,QAAU,IACV,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,SAAW,IACX,MAAQ,IACR,SAAW,IACX,YAAc,IACd,UAAY,IACZ,QAAU,IACV,UAAY,IACZ,UAAY,IACZ,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,SAAW,IACX,KAAO,IACP,SAAW,IACX,MAAQ,IACR,IAAM,IACN,IAAM,IACN,MAAQ,IACR,OAAS,IACT,QAAU,IACV,QAAU,IACV,QAAU,IACV,MAAQ,IACR,OAAS,IACT,WAAa,IACb,KAAO,IACP,KAAO,IACP,KAAO,IACP,QAAU,IACV,IAAM,KACN,IAAM,KACN,OAAS,IACT,QAAU,IACV,OAAS,IACT,QAAU,IACV,SAAW,IACX,UAAY,IACZ,SAAW,IACX,QAAU,IACV,gBAAkB,IAClB,cAAgB,IAChB,SAAW,IACX,OAAS,IACT,SAAW,IACX,OAAS,IACT,aAAe,IACf,YAAc,IACd,cAAgB,IAChB,kBAAoB,IACpB,kBAAoB,IACpB,mBAAqB,IACrB,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,IAAM,KACN,QAAU,KACV,KAAO,IACP,KAAO,IACP,KAAO,KACP,KAAO,KACP,IAAM,IACN,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,SAAW,IACX,QAAU,IACV,SAAW,IACX,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,KAAO,IACP,KAAO,KACP,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,KAAO,KACP,MAAQ,IACR,SAAW,IACX,KAAO,IACP,OAAS,IACT,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,OAAS,IACT,SAAW,IACX,OAAS,IACT,OAAS,IACT,OAAS,IACT,qBAAuB,IACvB,KAAO,KACP,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,QAAU,IACV,KAAO,IACP,KAAO,IACP,MAAQ,IACR,QAAU,IACV,QAAU,IACV,KAAO,IACP,UAAY,IACZ,UAAY,IACZ,IAAM,IACN,IAAM,KACN,KAAO,IACP,KAAO,IACP,MAAQ,IACR,UAAY,IACZ,IAAM,IACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,OAAS,IACT,gBAAkB,IAClB,iBAAmB,IACnB,WAAa,IACb,YAAc,IACd,YAAc,IACd,UAAY,IACZ,SAAW,IACX,SAAW,IACX,YAAc,IACd,WAAa,IACb,YAAc,IACd,KAAO,IACP,KAAO,IACP,SAAW,IACX,OAAS,IACT,QAAU,IACV,yBAA2B,IAC3B,sBAAwB,IACxB,gBAAkB,IAClB,MAAQ,IACR,SAAW,IACX,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,QAAU,IACV,MAAQ,IACR,OAAS,IACT,KAAO,IACP,OAAS,IACT,WAAa,IACb,UAAY,IACZ,KAAO,IACP,QAAU,IACV,UAAY,IACZ,OAAS,IACT,OAAS,IACT,gBAAkB,IAClB,KAAO,IACP,KAAO,KACP,OAAS,IACT,UAAY,IACZ,KAAO,IACP,KAAO,IACP,OAAS,IACT,gCAAkC,IAClC,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,KAAO,IACP,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,QAAU,IACV,IAAM,IACN,IAAM,IACN,SAAW,IACX,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,KAAO,KACP,OAAS,IACT,QAAU,IACV,YAAc,IACd,YAAc,IACd,SAAW,IACX,WAAa,IACb,OAAS,IACT,eAAiB,IACjB,gBAAkB,IAClB,MAAQ,IACR,MAAQ,IACR,SAAW,IACX,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,GAAK,IACL,GAAK,IACL,QAAU,IACV,MAAQ,IACR,SAAW,IACX,QAAU,IACV,IAAM,IACN,IAAM,IACN,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,OAAS,IACT,IAAM,KACN,IAAM,KACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,iBAAmB,IACnB,eAAiB,IACjB,uBAAyB,IACzB,iBAAmB,IACnB,iBAAmB,IACnB,KAAO,IACP,QAAU,IACV,QAAU,IACV,YAAc,IACd,MAAQ,IACR,IAAM,IACN,cAAgB,IAChB,QAAU,IACV,MAAQ,IACR,IAAM,IACN,OAAS,IACT,cAAgB,IAChB,OAAS,IACT,KAAO,IACP,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,KACP,KAAO,KACP,IAAM,IACN,IAAM,IACN,OAAS,IACT,MAAQ,IACR,SAAW,IACX,SAAW,IACX,SAAW,IACX,QAAU,IACV,UAAY,IACZ,eAAiB,IACjB,sBAAwB,IACxB,UAAY,IACZ,gBAAkB,IAClB,gBAAkB,IAClB,qBAAuB,IACvB,cAAgB,IAChB,oBAAsB,IACtB,yBAA2B,IAC3B,qBAAuB,IACvB,iBAAmB,IACnB,eAAiB,IACjB,cAAgB,IAChB,kBAAoB,IACpB,kBAAoB,IACpB,UAAY,IACZ,UAAY,IACZ,UAAY,IACZ,aAAe,IACf,iBAAmB,IACnB,UAAY,IACZ,eAAiB,IACjB,gBAAkB,IAClB,iBAAmB,IACnB,oBAAsB,IACtB,kBAAoB,IACpB,eAAiB,IACjB,kBAAoB,IACpB,mBAAqB,IACrB,gBAAkB,IAClB,mBAAqB,IACrB,QAAU,IACV,aAAe,IACf,SAAW,IACX,OAAS,IACT,OAAS,IACT,KAAO,KACP,KAAO,KACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,OAAS,IACT,OAAS,IACT,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,KAAO,IACP,KAAO,IACP,SAAW,IACX,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,IAAM,IACN,IAAM,IACN,MAAQ,IACR,KAAO,IACP,KAAO,IACP,KAAO,IACP,GAAK,IACL,MAAQ,IACR,IAAM,KACN,IAAM,KACN,GAAK,IACL,OAAS,IACT,OAAS,IACT,IAAM,IACN,OAAS,IACT,GAAK,IACL,QAAU,IACV,SAAW,IACX,IAAM,IACN,IAAM,IACN,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,SAAW,IACX,iBAAmB,IACnB,OAAS,IACT,qBAAuB,IACvB,KAAO,IACP,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,KAAO,IACP,OAAS,IACT,MAAQ,IACR,KAAO,IACP,QAAU,IACV,QAAU,IACV,MAAQ,IACR,OAAS,IACT,QAAU,IACV,MAAQ,IACR,WAAa,IACb,YAAc,IACd,MAAQ,IACR,OAAS,IACT,WAAa,IACb,OAAS,IACT,YAAc,IACd,MAAQ,IACR,QAAU,IACV,SAAW,IACX,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,IACP,MAAQ,IACR,KAAO,IACP,KAAO,IACP,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,OAAS,IACT,YAAc,IACd,aAAe,IACf,aAAe,IACf,cAAgB,IAChB,IAAM,IACN,IAAM,IACN,OAAS,IACT,OAAS,IACT,MAAQ,IACR,OAAS,IACT,IAAM,KACN,IAAM,KACN,MAAQ,IACR,kBAAoB,IACpB,sBAAwB,IACxB,MAAQ,KACR,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,KACP,KAAO,KACP,OAAS,IACT,OAAS,IACT,KAAO,IACP,MAAQ,IACR,WAAa,IACb,SAAW,IACX,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,KACP,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,IAAM,IACN,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,KAAO,IACP,KAAO,IACP,GAAK,IACL,GAAK,IACL,IAAM,IACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,SAAW,IACX,IAAM,IACN,MAAQ,IACR,OAAS,IACT,QAAU,IACV,SAAW,IACX,KAAO,KACP,OAAS,IACT,IAAM,KACN,IAAM,KACN,GAAK,IACL,GAAK,IACL,IAAM,IACN,MAAQ,IACR,KAAO,IACP,KAAO,IACP,GAAK,IACL,IAAM,IACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,SAAW,IACX,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,MAAQ,IACR,aAAe,IACf,iBAAmB,IACnB,iBAAmB,IACnB,eAAiB,IACjB,YAAc,IACd,kBAAoB,IACpB,aAAe,IACf,KAAO,KACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,GAAK,IACL,GAAK,IACL,GAAK,IACL,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,QAAU,IACV,UAAY,IACZ,OAAS,IACT,OAAS,IACT,UAAY,IACZ,WAAa,IACb,QAAU,IACV,OAAS,IACT,UAAY,KACZ,KAAO,KACP,MAAQ,IACR,OAAS,IACT,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,QAAU,IACV,MAAQ,IACR,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,UAAY,IACZ,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,KACN,aAAe,IACf,SAAW,IACX,SAAW,IACX,MAAQ,IACR,OAAS,IACT,cAAgB,IAChB,eAAiB,IACjB,KAAO,IACP,KAAO,KACP,OAAS,IACT,eAAiB,IACjB,KAAO,IACP,KAAO,KACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,aAAe,IACf,UAAY,IACZ,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,GAAK,IACL,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,KAAO,IACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,IAAM,IACN,IAAM,IACN,IAAM,KACN,OAAS,IACT,OAAS,IACT,GAAK,IACL,OAAS,IACT,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,GAAK,IACL,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,WAAa,IACb,SAAW,IACX,SAAW,IACX,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,QAAU,IACV,GAAK,IACL,OAAS,IACT,MAAQ,IACR,SAAW,IACX,OAAS,IACT,IAAM,IACN,IAAM,IACN,OAAS,IACT,SAAW,IACX,SAAW,IACX,SAAW,IACX,aAAe,IACf,SAAW,IACX,QAAU,IACV,eAAiB,IACjB,eAAiB,IACjB,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,OAAS,IACT,KAAO,IACP,KAAO,KACP,KAAO,IACP,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,GAAK,IACL,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,IAAM,KACN,IAAM,KACN,MAAQ,IACR,KAAO,KACP,KAAO,KACP,KAAO,KACP,KAAO,KACP,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,IAAM,KACN,IAAM,KACN,OAAS,IACT,KAAO,IACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,KAAO,KACP,KAAO,KACP,KAAO,KACP,KAAO,KACP,MAAQ,IACR,OAAS,IACT,OAAS,IACT,SAAW,IACX,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,MAAQ,IACR,OAAS,IACT,IAAM,IACN,WAAa,IACb,MAAQ,IACR,KAAO,IACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,QAAU,IACV,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,QAAU,IACV,OAAS,IACT,IAAM,IACN,OAAS,IACT,OAAS,IACT,KAAO,IACP,MAAQ,KACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,MAAQ,IACR,QAAU,IACV,QAAU,IACV,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,KAAO,IACP,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,OAAS,IACT,QAAU,IACV,SAAW,IACX,KAAO,IACP,GAAK,IACL,GAAK,IACL,iBAAmB,IACnB,UAAY,IACZ,UAAY,IACZ,UAAY,IACZ,aAAe,IACf,oBAAsB,IACtB,cAAgB,IAChB,YAAc,IACd,kBAAoB,IACpB,kBAAoB,IACpB,eAAiB,IACjB,kBAAoB,IACpB,UAAY,IACZ,gBAAkB,IAClB,cAAgB,IAChB,eAAiB,IACjB,eAAiB,IACjB,eAAiB,IACjB,eAAiB,IACjB,gBAAkB,IAClB,kBAAoB,IACpB,oBAAsB,IACtB,gBAAkB,IAClB,QAAU,IACV,aAAe,IACf,cAAgB,IAChB,eAAiB,IACjB,aAAe,IACf,gBAAkB,IAClB,kBAAoB,IACpB,iBAAmB,IACnB,gBAAkB,IAClB,aAAe,IACf,gBAAkB,IAClB,WAAa,IACb,cAAgB,IAChB,IAAM,IACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,SAAW,IACX,IAAM,IACN,MAAQ,IACR,OAAS,IACT,QAAU,IACV,SAAW,IACX,KAAO,KACP,OAAS,IACT,WAAa,IACb,QAAU,IACV,UAAY,IACZ,WAAa,IACb,iBAAmB,IACnB,cAAgB,IAChB,YAAc,IACd,QAAU,IACV,SAAW,IACX,QAAU,IACV,eAAiB,IACjB,UAAY,IACZ,OAAS,IACT,OAAS,IACT,IAAM,KACN,IAAM,KACN,GAAK,IACL,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,KAAO,IACP,KAAO,IACP,GAAK,IACL,GAAK,IACL,MAAQ,IACR,SAAW,IACX,WAAa,IACb,OAAS,IACT,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,WAAa,IACb,KAAO,IACP,SAAW,IACX,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,cAAgB,IAChB,cAAgB,IAChB,cAAgB,IAChB,mBAAqB,IACrB,mBAAqB,IACrB,mBAAqB,IACrB,WAAa,IACb,eAAiB,IACjB,eAAiB,IACjB,eAAiB,IACjB,cAAgB,IAChB,eAAiB,IACjB,MAAQ,IACR,KAAO,KACP,KAAO,KACP,OAAS,IACT,QAAU,IACV,OAAS,IACT,OAAS,IACT,eAAiB,IACjB,gBAAkB,IAClB,IAAM,IACN,QAAU,IACV,KAAO,IACP,KAAO,IACP,OAAS,IACT,MAAQ,IACR,SAAW,IACX,MAAQ,IACR,OAAS,IACT,IAAM,IACN,MAAQ,IACR,OAAS,IACT,KAAO,IACP,KAAO,KACP,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,GAAK,IACL,GAAK,IACL,GAAK,IACL,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,QAAU,IACV,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,SAAW,IACX,QAAU,IACV,UAAY,KACZ,KAAO,KACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,QAAU,IACV,IAAM,IACN,IAAM,IACN,OAAS,IACT,WAAa,IACb,WAAa,IACb,SAAW,IACX,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,MAAQ,IACR,MAAQ,IACR,cAAgB,IAChB,YAAc,IACd,UAAY,IACZ,IAAM,KACN,IAAM,KACN,IAAM,IACN,MAAQ,IACR,IAAM,IACN,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,OAAS,IACT,OAAS,IACT,QAAU,IACV,UAAY,IACZ,KAAO,IACP,KAAO,IACP,OAAS,IACT,OAAS,IACT,KAAO,KACP,KAAO,KACP,GAAK,IACL,KAAO,IACP,KAAO,KACP,OAAS,IACT,GAAK,IACL,GAAK,IACL,SAAW,IACX,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,KAAO,KACP,IAAM,IACN,KAAO,KACP,MAAQ,KACR,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,QAAU,IACV,SAAW,IACX,KAAO,IACP,MAAQ,KACR,OAAS,KACT,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,SAAW,KACX,KAAO,IACP,IAAM,IACN,IAAM,IACN,MAAQ,IACR,GAAK,IACL,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,MAAQ,KACR,oBAAsB,IACtB,mBAAqB,IACrB,kBAAoB,IACpB,sBAAwB,IACxB,OAAS,IACT,OAAS,IACT,MAAQ,KACR,qBAAuB,IACvB,eAAiB,IACjB,QAAU,KACV,OAAS,IACT,QAAU,IACV,IAAM,KACN,IAAM,KACN,IAAM,KACN,IAAM,IACN,KAAO,IACP,MAAQ,KACR,UAAY,KACZ,KAAO,KACP,IAAM,KACN,MAAQ,IACR,IAAM,KACN,IAAM,IACN,KAAO,IACP,KAAO,KACP,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,GAAK,IACL,IAAM,IACN,KAAO,IACP,IAAM,IACN,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,IAAM,KACN,IAAM,IACN,WAAa,IACb,WAAa,IACb,gBAAkB,IAClB,gBAAkB,IAClB,KAAO,IACP,MAAQ,KACR,UAAY,KACZ,KAAO,KACP,MAAQ,IACR,IAAM,KACN,MAAQ,IACR,IAAM,KACN,IAAM,IACN,MAAQ,IACR,OAAS,IACT,KAAO,KACP,KAAO,IACP,QAAU,IACV,iBAAmB,IACnB,KAAO,IACP,KAAO,KACP,IAAM,IACN,IAAM,IACN,aAAe,IACf,UAAY,IACZ,qBAAuB,IACvB,WAAa,IACb,SAAW,IACX,cAAgB,KAChB,UAAY,IACZ,WAAa,IACb,gBAAkB,IAClB,oBAAsB,KACtB,kBAAoB,KACpB,eAAiB,IACjB,qBAAuB,KACvB,gBAAkB,IAClB,gBAAkB,KAClB,aAAe,KACf,MAAQ,IACR,SAAW,KACX,OAAS,KACT,QAAU,IACV,QAAU,IACV,QAAU,IACV,gBAAkB,IAClB,mBAAqB,KACrB,qBAAuB,IACvB,QAAU,IACV,aAAe,IACf,eAAiB,IACjB,YAAc,KACd,kBAAoB,KACpB,aAAe,IACf,wBAA0B,KAC1B,kBAAoB,KACpB,MAAQ,IACR,QAAU,IACV,QAAU,IACV,QAAU,IACV,YAAc,IACd,iBAAmB,KACnB,sBAAwB,IACxB,kBAAoB,IACpB,iBAAmB,IACnB,oBAAsB,KACtB,sBAAwB,IACxB,gBAAkB,KAClB,qBAAuB,IACvB,kBAAoB,KACpB,uBAAyB,IACzB,UAAY,KACZ,eAAiB,IACjB,YAAc,IACd,iBAAmB,KACnB,sBAAwB,IACxB,iBAAmB,KACnB,YAAc,KACd,iBAAmB,IACnB,SAAW,IACX,cAAgB,IAChB,kBAAoB,IACpB,cAAgB,IAChB,eAAiB,IACjB,KAAO,IACP,UAAY,IACZ,OAAS,KACT,MAAQ,KACR,QAAU,IACV,IAAM,IACN,OAAS,IACT,KAAO,KACP,MAAQ,IACR,QAAU,KACV,MAAQ,IACR,MAAQ,IACR,OAAS,KACT,OAAS,KACT,YAAc,IACd,YAAc,IACd,MAAQ,IACR,OAAS,IACT,IAAM,IACN,OAAS,IACT,KAAO,KACP,KAAO,KACP,KAAO,KACP,UAAY,IACZ,eAAiB,IACjB,KAAO,IACP,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,QAAU,IACV,KAAO,IACP,MAAQ,KACR,MAAQ,IACR,QAAU,KACV,UAAY,IACZ,WAAa,KACb,MAAQ,IACR,QAAU,KACV,KAAO,IACP,MAAQ,KACR,MAAQ,IACR,QAAU,KACV,UAAY,IACZ,WAAa,KACb,KAAO,IACP,OAAS,IACT,OAAS,IACT,KAAO,IACP,cAAgB,IAChB,gBAAkB,IAClB,eAAiB,IACjB,iBAAmB,IACnB,GAAK,IACL,GAAK,IACL,IAAM,IACN,OAAS,IACT,MAAQ,IACR,KAAO,KACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,KACP,KAAO,KACP,OAAS,IACT,QAAU,IACV,OAAS,IACT,KAAO,KACP,KAAO,KACP,QAAU,KACV,OAAS,IACT,QAAU,KACV,MAAQ,KACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,MAAQ,IACR,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,IAAM,KACN,IAAM,KACN,KAAO,IACP,OAAS,IACT,OAAS,IACT,IAAM,IACN,MAAQ,IACR,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,IAAM,IACN,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,QAAU,IACV,KAAO,IACP,OAAS,IACT,KAAO,KACP,KAAO,KACP,KAAO,IACP,qBAAuB,IACvB,eAAiB,IACjB,MAAQ,IACR,MAAQ,IACR,GAAK,IACL,GAAK,IACL,MAAQ,IACR,IAAM,IACN,MAAQ,IACR,QAAU,IACV,KAAO,IACP,KAAO,IACP,OAAS,IACT,KAAO,IACP,QAAU,IACV,IAAM,IACN,GAAK,IACL,KAAO,KACP,KAAO,IACP,OAAS,IACT,OAAS,IACT,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,SAAW,IACX,KAAO,IACP,KAAO,IACP,MAAQ,IACR,QAAU,IACV,UAAY,IACZ,YAAc,IACd,gBAAkB,IAClB,IAAM,IACN,KAAO,IACP,SAAW,IACX,OAAS,IACT,MAAQ,IACR,KAAO,IACP,SAAW,IACX,IAAM,IACN,IAAM,IACN,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,QAAU,IACV,IAAM,KACN,IAAM,KACN,IAAM,IACN,IAAM,IACN,KAAO,IACP,OAAS,IACT,MAAQ,IACR,GAAK,IACL,GAAK,IACL,UAAY,IACZ,IAAM,IACN,OAAS,IACT,QAAU,IACV,OAAS,IACT,KAAO,IACP,SAAW,IACX,MAAQ,IACR,QAAU,IACV,OAAS,IACT,OAAS,IACT,MAAQ,IACR,UAAY,IACZ,OAAS,IACT,QAAU,IACV,QAAU,IACV,GAAK,IACL,cAAgB,IAChB,SAAW,IACX,KAAO,IACP,KAAO,KACP,MAAQ,IACR,GAAK,IACL,GAAK,IACL,KAAO,IACP,MAAQ,IACR,IAAM,IACN,IAAM,IACN,KAAO,IACP,WAAa,IACb,YAAc,IACd,SAAW,IACX,cAAgB,IAChB,mBAAqB,IACrB,cAAgB,IAChB,OAAS,IACT,YAAc,IACd,SAAW,IACX,SAAW,IACX,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,KAAO,IACP,OAAS,IACT,KAAO,IACP,QAAU,IACV,SAAW,IACX,SAAW,IACX,SAAW,IACX,KAAO,IACP,WAAa,IACb,aAAe,IACf,OAAS,IACT,MAAQ,IACR,OAAS,IACT,KAAO,KACP,KAAO,KACP,IAAM,IACN,IAAM,IACN,OAAS,IACT,IAAM,KACN,IAAM,KACN,KAAO,IACP,KAAO,IACP,KAAO,KACP,OAAS,IACT,KAAO,KACP,KAAO,KACP,YAAc,IACd,QAAU,IACV,MAAQ,IACR,QAAU,IACV,KAAO,IACP,KAAO,IACP,MAAQ,IACR,KAAO,KACP,OAAS,IACT,OAAS,IACT,MAAQ,IACR,SAAW,IACX,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,KAAO,IACP,KAAO,IACP,KAAO,IACP,OAAS,IACT,MAAQ,IACR,QAAU,IACV,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,QAAU,IACV,OAAS,IACT,OAAS,IACT,MAAQ,IACR,OAAS,IACT,OAAS,IACT,MAAQ,IACR,UAAY,IACZ,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,MAAQ,IACR,QAAU,IACV,QAAU,IACV,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,KAAO,IACP,IAAM,IACN,IAAM,IACN,KAAO,IACP,QAAU,IACV,MAAQ,IACR,OAAS,IACT,KAAO,IACP,GAAK,IACL,KAAO,IACP,QAAU,IACV,SAAW,IACX,MAAQ,IACR,KAAO,IACP,IAAM,IACN,IAAM,IACN,eAAiB,IACjB,mBAAqB,IACrB,qBAAuB,IACvB,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,KACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,IAAM,IACN,IAAM,IACN,KAAO,IACP,kBAAoB,IACpB,WAAa,IACb,WAAa,IACb,WAAa,IACb,cAAgB,IAChB,oBAAsB,IACtB,eAAiB,IACjB,aAAe,IACf,mBAAqB,IACrB,mBAAqB,IACrB,gBAAkB,IAClB,mBAAqB,IACrB,WAAa,IACb,iBAAmB,IACnB,eAAiB,IACjB,gBAAkB,IAClB,kBAAoB,IACpB,iBAAmB,IACnB,gBAAkB,IAClB,SAAW,IACX,cAAgB,IAChB,eAAiB,IACjB,gBAAkB,IAClB,cAAgB,IAChB,iBAAmB,IACnB,mBAAqB,IACrB,kBAAoB,IACpB,iBAAmB,IACnB,cAAgB,IAChB,iBAAmB,IACnB,YAAc,IACd,eAAiB,IACjB,KAAO,IACP,aAAe,IACf,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,OAAS,IACT,WAAa,IACb,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,KACP,OAAS,IACT,QAAU,IACV,aAAe,IACf,KAAO,IACP,OAAS,IACT,SAAW,IACX,MAAQ,IACR,YAAc,IACd,OAAS,IACT,KAAO,IACP,KAAO,KACP,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,SAAW,IACX,YAAc,IACd,QAAU,IACV,GAAK,IACL,OAAS,IACT,OAAS,IACT,MAAQ,IACR,GAAK,IACL,GAAK,IACL,KAAO,IACP,OAAS,IACT,OAAS,IACT,MAAQ,IACR,IAAM,IACN,IAAM,IACN,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,OAAS,IACT,SAAW,IACX,MAAQ,IACR,IAAM,IACN,IAAM,IACN,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,KAAO,IACP,KAAO,IACP,OAAS,IACT,SAAW,IACX,MAAQ,IACR,KAAO,IACP,IAAM,KACN,IAAM,KACN,OAAS,IACT,MAAQ,IACR,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,eAAiB,IACjB,eAAiB,IACjB,SAAW,IACX,cAAgB,IAChB,gBAAkB,IAClB,aAAe,IACf,IAAM,IACN,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,IAAM,IACN,OAAS,IACT,KAAO,IACP,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,QAAU,IACV,MAAQ,IACR,YAAc,IACd,cAAgB,IAChB,OAAS,IACT,SAAW,IACX,KAAO,IACP,MAAQ,IACR,IAAM,IACN,KAAO,IACP,MAAQ,KACR,OAAS,IACT,OAAS,IACT,IAAM,IACN,KAAO,IACP,OAAS,IACT,KAAO,KACP,KAAO,KACP,OAAS,IACT,UAAY,IACZ,KAAO,IACP,MAAQ,IACR,OAAS,KACT,MAAQ,IACR,OAAS,KACT,KAAO,IACP,MAAQ,IACR,OAAS,IACT,SAAW,IACX,WAAa,IACb,MAAQ,IACR,OAAS,IACT,SAAW,IACX,WAAa,IACb,IAAM,IACN,OAAS,IACT,OAAS,IACT,mBAAqB,IACrB,aAAe,IACf,kBAAoB,IACpB,eAAiB,IACjB,oBAAsB,IACtB,YAAc,IACd,OAAS,IACT,KAAO,IACP,MAAQ,IACR,KAAO,KACP,KAAO,KACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,MAAQ,IACR,gBAAkB,IAClB,YAAc,IACd,MAAQ,IACR,IAAM,IACN,IAAM,IACN,OAAS,IACT,KAAO,IACP,KAAO,IACP,QAAU,IACV,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,QAAU,IACV,OAAS,IACT,OAAS,IACT,SAAW,IACX,UAAY,IACZ,YAAc,IACd,UAAY,IACZ,WAAa,IACb,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,WAAa,IACb,YAAc,IACd,SAAW,IACX,cAAgB,IAChB,mBAAqB,IACrB,cAAgB,IAChB,OAAS,IACT,YAAc,IACd,SAAW,IACX,SAAW,IACX,QAAU,IACV,SAAW,IACX,IAAM,IACN,IAAM,IACN,KAAO,IACP,IAAM,IACN,IAAM,IACN,KAAO,IACP,KAAO,IACP,KAAO,IACP,OAAS,IACT,QAAU,IACV,KAAO,IACP,KAAO,IACP,QAAU,IACV,SAAW,IACX,cAAgB,IAChB,QAAU,IACV,QAAU,IACV,QAAU,IACV,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,OAAS,IACT,OAAS,IACT,SAAW,IACX,UAAY,IACZ,UAAY,IACZ,WAAa,IACb,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,QAAU,IACV,OAAS,IACT,MAAQ,IACR,IAAM,KACN,OAAS,IACT,IAAM,IACN,IAAM,IACN,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,KAAO,IACP,OAAS,IACT,IAAM,KACN,IAAM,KACN,OAAS,IACT,UAAY,IACZ,UAAY,IACZ,MAAQ,IACR,MAAQ,IACR,SAAW,IACX,OAAS,IACT,YAAc,IACd,SAAW,IACX,WAAa,KACb,OAAS,IACT,UAAY,IACZ,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,WAAa,IACb,eAAiB,IACjB,WAAa,IACb,MAAQ,IACR,OAAS,IACT,SAAW,IACX,OAAS,IACT,KAAO,IACP,KAAO,IACP,IAAM,IACN,OAAS,IACT,OAAS,IACT,KAAO,KACP,KAAO,KACP,QAAU,IACV,KAAO,IACP,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,SAAW,IACX,aAAe,IACf,aAAe,IACf,eAAiB,IACjB,UAAY,IACZ,cAAgB,IAChB,gBAAkB,IAClB,OAAS,IACT,KAAO,IACP,SAAW,IACX,UAAY,IACZ,QAAU,IACV,MAAQ,IACR,QAAU,IACV,SAAW,IACX,KAAO,KACP,KAAO,KACP,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,MAAQ,IACR,iBAAmB,IACnB,kBAAoB,IACpB,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,KAAO,IACP,SAAW,IACX,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,MAAQ,IACR,OAAS,IACT,OAAS,IACT,MAAQ,IACR,OAAS,IACT,IAAM,KACN,IAAM,KACN,OAAS,IACT,OAAS,IACT,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,SAAW,IACX,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,SAAW,IACX,WAAa,IACb,aAAe,IACf,iBAAmB,IACnB,MAAQ,IACR,UAAY,IACZ,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,QAAU,IACV,QAAU,IACV,QAAU,IACV,WAAa,IACb,iBAAmB,IACnB,YAAc,IACd,YAAc,IACd,YAAc,IACd,cAAgB,IAChB,cAAgB,IAChB,eAAiB,IACjB,MAAQ,IACR,eAAiB,IACjB,gBAAkB,IAClB,KAAO,IACP,KAAO,IACP,MAAQ,IACR,QAAU,IACV,QAAU,IACV,MAAQ,IACR,WAAa,IACb,WAAa,IACb,OAAS,IACT,SAAW,IACX,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,MAAQ,IACR,OAAS,IACT,OAAS,IACT,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,IACP,QAAU,IACV,OAAS,IACT,WAAa,IACb,SAAW,IACX,WAAa,IACb,OAAS,IACT,MAAQ,IACR,UAAY,IACZ,KAAO,IACP,KAAO,IACP,OAAS,IACT,SAAW,IACX,aAAe,KACf,cAAgB,KAChB,aAAe,KACf,cAAgB,KAChB,SAAW,IACX,gBAAkB,IAClB,iBAAmB,IACnB,KAAO,IACP,KAAO,IACP,MAAQ,IACR,IAAM,IACN,IAAM,IACN,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,IAAM,IACN,IAAM,IACN,OAAS,IACT,MAAQ,IACR,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,YAAc,IACd,aAAe,IACf,kBAAoB,IACpB,cAAgB,IAChB,cAAgB,IAChB,IAAM,KACN,IAAM,KACN,MAAQ,IACR,MAAQ,KACR,MAAQ,KACR,KAAO,KACP,KAAO,KACP,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,KACT,OAAS,IACT,QAAU,IACV,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,OAAS,IACT,OAAS,IACT,IAAM,KACN,IAAM,KACN,KAAO,KACP,KAAO,KACP,GAAK,IACL,GAAK,IACL,OAAS,IACT,KAAO,KACP,KAAO,KACP,KAAO,IACP,MAAQ,IACR,KAAO,IACP,MAAQ,IACR,IAAM,KACN,IAAM,KACN,MAAQ,IACR,MAAQ,IACR,GAAK,IACL,GAAK,IACL,MAAQ,IACR,MAAQ,IACR,KAAO,IACP,KAAO,IACP,MAAQ,IACR,KAAO,KACP,KAAO,KACP,OAAS,IACT,OAAS,IACT,MAAQ,IACR,MAAQ,IACR,KAAO,KACP,KAAO,KACP,OAAS,IACT,OAAS,IACT,MAAQ,IACR,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,KAAO,IACP,KAAO,IACP,MAAQ,IACR,MAAQ,IACR,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,KACN,IAAM,KACN,KAAO,IACP,KAAO,IACP,KAAO,KACP,KAAO,KACP,KAAO,KACP,KAAO,KACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,KAAO,IACP,OAAS,IACT,OAAS,IACT,OAAS,IACT,OAAS,IACT,IAAM,IACN,IAAM,IACN,KAAO,IACP,KAAO,IACP,OAAS,IACT,eAAiB,IACjB,KAAO,IACP,KAAO,IACP,IAAM,IACN,IAAM,KACN,KAAO,IACP,KAAO,IACP,QAAU,IACV,KAAO,IACP,KAAO,KACP,KAAO,KACP,KAAO,KACP,IAAM,IACN,KAAO,M,6BCjlET,IAAIiJ,EAAgB,EAAQ,GACxB3E,EAAgB,EAAQ,GAAmBA,WAa/CrE,EAAOD,QAAU,SAA8BgH,EAAOS,GACpD,IAAIzE,EAAMkE,EAAOgC,EACbjC,EAAQQ,EACRH,EAAMN,EAAMO,OAEhB,GAAkC,KAA9BP,EAAMa,IAAI5E,WAAWwE,GAAuB,CAE9C,IADAA,IACOA,EAAMH,GAAK,CAEhB,GAAa,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,IACE,OAAO,EACrC,GAAa,KAATzE,EAEF,OADAkG,EAAOD,EAAc3E,EAAW0C,EAAMa,IAAIxE,MAAM4D,EAAQ,EAAGQ,OACtDT,EAAMc,OAAOqB,aAAaD,KAC/BlC,EAAMS,IAAMA,EAAM,EAClBT,EAAMyB,YAAcS,GACb,GAEI,KAATlG,GAAyByE,EAAM,EAAIH,EACrCG,GAAO,EAITA,IAIF,OAAO,EAMT,IADAP,EAAQ,EACDO,EAAMH,GAGE,MAFbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,OAKxBzE,EAAO,IAAiB,MAATA,IAEnB,GAAa,KAATA,GAAyByE,EAAM,EAAIH,EACrCG,GAAO,MADT,CAKA,GAAa,KAATzE,KACFkE,EACY,EAAK,MAGnB,GAAa,KAATlE,KACFkE,EACY,EAAK,MAGnBO,IAGF,OAAIR,IAAUQ,IAEdyB,EAAO5E,EAAW0C,EAAMa,IAAIxE,MAAM4D,EAAOQ,MACpCT,EAAMc,OAAOqB,aAAaD,KAE/BlC,EAAMyB,YAAcS,EACpBlC,EAAMS,IAAMA,GACL,M,6BChFT,IAAI/C,EAAkB,EAAQ,GAAmBA,gBAEjDzE,EAAOD,QAAU,SAAuBoJ,GACtC,IAAIC,EAAa3E,EAAgB0E,GAGjC,IACEC,EAAaC,UAAUD,GACvB,MAAOE,IACT,OAAOC,UAAUH,K,6BCRnB,IAAI/E,EAAa,EAAQ,GAAmBA,WAa5CrE,EAAOD,QAAU,SAAwBgH,EAAOS,GAC9C,IAAIzE,EACAiE,EAAQQ,EACRH,EAAMN,EAAMO,OACZH,EAASJ,EAAMa,IAAI5E,WAAWwE,GAElC,GAAe,KAAXL,GAAsC,KAAXA,GAAsC,KAAXA,EAA2B,OAAO,EAO5F,IALAK,IAGe,KAAXL,IAAmBA,EAAS,IAEzBK,EAAMH,GAAK,CAEhB,IADAtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,MACfL,EAGX,OAFAJ,EAAMS,IAAMA,EAAM,EAClBT,EAAMyB,YAAcnE,EAAW0C,EAAMa,IAAIxE,MAAM4D,EAAQ,EAAGQ,KACnD,EAEI,KAATzE,GAAyByE,EAAM,EAAIH,EACrCG,GAAO,EAITA,IAGF,OAAO,I,6BC1CTxH,EAAOD,QAAU,SAA4BuE,GAI3C,OAAOA,EAAIkF,OAAOhF,QAAQ,OAAQ,KAAKiF,gB,gBCNzC;;;4CAKgB,0BAAd,EAMO,WAER,aAuoHA,OAtoHiB,SAASC,EAAUC,EAASC,EAAO/D,GAUrD,IAAIgE,EAAY,CACfC,SAAU,KACVrI,KAAM,SAASsI,EAAQrB,EAAMsB,EAAUC,GACtC,IAAIC,GAAcD,EAAS,SAAW,OAAS,gBAC/CvB,EAAOA,EAAKyB,MAAM,KAClB,IAAI,IAAIlK,EAAI,EAAGA,EAAIyI,EAAKzD,OAAQhF,IAC5ByI,EAAKzI,IACP8J,EAAOG,GAAaxB,EAAKzI,GAAI+J,GAAU,IAI1CrD,QAAS,SAAShD,GACjB,OAAQA,aAAe+C,OAExB0D,SAAU,SAASC,EAASC,GAC3B,IAAIC,EAAKC,SAASC,cAAcH,GAAO,OAIvC,OAHGD,IACFE,EAAGG,UAAYL,GAETE,GAERI,WAAY,WACX,IAAIC,EAAUC,OAAOC,YACrB,YAAmBC,IAAZH,EAAwBA,EAAUJ,SAASQ,gBAAgBC,WAEnEhB,OAAQ,SAASF,EAAQrB,EAAMsB,GAC9BH,EAAUpI,KAAKsI,EAAOrB,EAAKsB,GAAS,IAErCkB,YAAa,SAASX,EAAIG,GACzB,IAAIS,EAAM,IAAIC,OAAO,UAAYV,EAAY,WAC7CH,EAAGG,UAAYH,EAAGG,UAAUlG,QAAQ2G,EAAK,KAAK3G,QAAQ,SAAU,IAAIA,QAAQ,SAAU,KAEvF6G,SAAU,SAASd,EAAIG,GACjBb,EAAUyB,SAASf,EAAGG,KAC1BH,EAAGG,YAAcH,EAAGG,UAAY,IAAM,IAAMA,IAG9CY,SAAU,SAASf,EAAIG,GACtB,OAAOH,EAAGG,WAAa,IAAIU,OAAO,UAAYV,EAAY,WAAWzH,KAAKsH,EAAGG,YAE9Ea,gBAAiB,SAASC,EAAUC,GAEnC,IADA,IAAIC,EAAOF,EAASG,WACdD,GAAM,CACX,GAAI7B,EAAUyB,SAASI,EAAMD,GAC5B,OAAOC,EAERA,EAAOA,EAAKE,cAGdC,YAAa,SAASC,EAAO5K,EAAOM,GAEnC,IADA,IAAIvB,EAAI6L,EAAM7G,OACRhF,KACL,GAAG6L,EAAM7L,GAAGuB,KAASN,EACpB,OAAOjB,EAGT,OAAQ,GAET8L,OAAQ,SAASC,EAAIC,EAAIC,GACxB,IAAK,IAAIC,KAAQF,EAChB,GAAIA,EAAGnK,eAAeqK,GAAO,CAC5B,GAAGD,GAAoBF,EAAGlK,eAAeqK,GACxC,SAEDH,EAAGG,GAAQF,EAAGE,KAIjBC,OAAQ,CACPC,KAAM,CACLC,IAAK,SAASC,GACb,OAAOC,KAAKC,IAAIF,GAAKC,KAAKE,GAAK,KAEhCC,MAAO,SAASJ,GACf,QAAUC,KAAKI,IAAIJ,KAAKE,GAAKH,GAAK,GAAK,IAGzCM,MAAO,CACNP,IAAK,SAASC,GACb,QAASA,EAAIA,EAAIA,EAAI,KAqCxBO,eAAgB,WACf,GAAGjD,EAAUC,SACZ,OAAOD,EAAUC,SAElB,IACCiD,EADclD,EAAUO,WACD4C,MACvBC,EAAS,GACTnD,EAAW,GAiBZ,GAdAA,EAASoD,MAAQ1C,SAAS2C,MAAQ3C,SAAS4C,iBAE3CtD,EAASuD,MAAQ,iBAAkBxC,OAEhCA,OAAOyC,wBACTxD,EAASyD,IAAM1C,OAAOyC,sBACtBxD,EAAS0D,IAAM3C,OAAO4C,sBAGvB3D,EAAS4D,eAAkB7C,OAAmB,cAAK8C,UAAUC,kBAKzD9D,EAAS4D,aAAc,CAE1B,IAAIG,EAAKF,UAAUG,UASnB,GAAI,cAAc7K,KAAK0K,UAAUI,UAAW,CAC3C,IAAIC,EAAKL,UAAoB,WAAE7K,MAAM,0BAClCkL,GAAKA,EAAE/I,OAAS,IAClB+I,EAAI7K,SAAS6K,EAAE,GAAI,MACX,GAAKA,EAAI,IAChBlE,EAASmE,eAAgB,GAS5B,IAAInL,EAAQ+K,EAAG/K,MAAM,uBACjBoL,EAAkBpL,EAAQA,EAAM,GAAK,GACzCoL,EAAiBC,WAAWD,KACP,IACjBA,EAAiB,MACnBpE,EAASsE,cAAe,GAEzBtE,EAASuE,eAAiBH,GAE3BpE,EAASwE,cAAgB,yBAAyBrL,KAAK4K,GAUxD,IALA,IAECU,EACAC,EAHGC,EAAc,CAAC,YAAa,cAAe,iBAC9CC,EAAU,CAAC,GAAI,SAAS,MAAM,KAAK,KAI5BzO,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BgN,EAASyB,EAAQzO,GAEjB,IAAI,IAAI0O,EAAI,EAAGA,EAAI,EAAGA,IACrBJ,EAAiBE,EAAYE,GAG7BH,EAAYvB,GAAUA,EAChBsB,EAAeK,OAAO,GAAGnF,cAAgB8E,EAAenL,MAAM,GAC9DmL,IAEFzE,EAASyE,IAAmBC,KAAazB,IAC5CjD,EAASyE,GAAkBC,GAI1BvB,IAAWnD,EAASyD,MACtBN,EAASA,EAAO/J,cAChB4G,EAASyD,IAAM1C,OAAOoC,EAAO,yBAC1BnD,EAASyD,MACXzD,EAAS0D,IAAM3C,OAAOoC,EAAO,yBACzBpC,OAAOoC,EAAO,iCAKrB,IAAInD,EAASyD,IAAK,CACjB,IAAIsB,EAAW,EACf/E,EAASyD,IAAM,SAAS5H,GACvB,IAAImJ,GAAW,IAAIC,MAAOC,UACtBC,EAAazC,KAAKnF,IAAI,EAAG,IAAMyH,EAAWD,IAC1CK,EAAKrE,OAAOsE,YAAW,WAAaxJ,EAAGmJ,EAAWG,KAAgBA,GAEtE,OADAJ,EAAWC,EAAWG,EACfC,GAERpF,EAAS0D,IAAM,SAAS0B,GAAME,aAAaF,IAS5C,OALApF,EAASuF,MAAQ7E,SAAS8E,mBACpB9E,SAAS8E,gBAAgB,6BAA8B,OAAOC,cAEpE1F,EAAUC,SAAWA,EAEdA,IAITD,EAAUiD,iBAGPjD,EAAUC,SAASoD,QAErBrD,EAAUpI,KAAO,SAASsI,EAAQrB,EAAMsB,EAAUC,GAEjDvB,EAAOA,EAAKyB,MAAM,KAQlB,IANA,IACCqF,EADGtF,GAAcD,EAAS,SAAW,UAAY,QAEjDwF,EAAY,WACXzF,EAAS0F,YAAYtP,KAAK4J,IAGpB/J,EAAI,EAAGA,EAAIyI,EAAKzD,OAAQhF,IAE/B,GADAuP,EAAS9G,EAAKzI,GAGb,GAAuB,iBAAb+J,GAAyBA,EAAS0F,YAAa,CACxD,GAAIzF,GAGH,IAAID,EAAS,QAAUwF,GACtB,OAAO,OAHRxF,EAAS,QAAUwF,GAAUC,EAO9B1F,EAAOG,GAAa,KAAOsF,EAAQxF,EAAS,QAAUwF,SAEtDzF,EAAOG,GAAa,KAAOsF,EAAQxF,KAcxC,IAAI7E,EAAOP,KAWP+K,EAAW,CACdC,gBAAe,EACfC,QAAS,IACTC,UAAW,EACXC,WAAW,EACXC,MAAM,EACNC,cAAc,EACdC,eAAe,EACfC,qBAAqB,EACrBC,kBAAmB,IACnBC,sBAAuB,IACvBC,sBAAuB,IACvBC,iBAAiB,EACjBC,OAAO,EACPC,QAAQ,EACRC,WAAW,EACXC,sBAAuB,IACvBC,eAAgB,IAChBC,mBAAoB,SAAStG,GACtB,MAAsB,MAAfA,EAAGuG,SAEdC,iBAAkB,SAASC,EAAcC,GACxC,OAAGD,GAGKC,EAAKC,iBAAmB,GAFxB,EAEkC,MAG3CC,cAAe,KAClBC,OAAO,EAGPC,UAAW,OAEZxH,EAAUkC,OAAO4D,EAAU9J,GAO3B,IAIIyL,EACHC,EACAC,EACAC,EACAC,EACAC,EAIAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAIAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGAC,EA47BGC,EACHC,EAUAC,EAIAC,EACAC,EACAC,EAIAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,GAEAC,GACAC,GAGAC,GACAC,GACAC,GACAC,GACAC,GAqFAC,GA/lCAC,GATQ,CAACC,EAAE,EAAEC,EAAE,GAUfC,GAVQ,CAACF,EAAE,EAAEC,EAAE,GAWfE,GAXQ,CAACH,EAAE,EAAEC,EAAE,GAefG,GAAgB,GAOhBC,GAAqB,EACrBC,GAAU,GACVC,GAxBQ,CAACP,EAAE,EAAEC,EAAE,GA2BfO,GAAa,EAObC,IAAmB,EAEnBC,GAAW,GAQXC,GAAqB,GACrBC,IAAuB,EAKvBC,GAAkB,SAASpV,EAAMR,GAChC6J,EAAUkC,OAAO5G,EAAMnF,EAAO6V,eAC9BJ,GAAShQ,KAAKjF,IAGfsV,GAAe,SAASC,GACvB,IAAIC,EAAYC,KAChB,OAAGF,EAAQC,EAAY,EACfD,EAAQC,EACLD,EAAQ,EACXC,EAAYD,EAEbA,GAIRG,GAAa,GACbC,GAAU,SAAS3V,EAAMmF,GAIxB,OAHIuQ,GAAW1V,KACd0V,GAAW1V,GAAQ,IAEb0V,GAAW1V,GAAMiF,KAAKE,IAE9ByQ,GAAS,SAAS5V,GACjB,IAAI6V,EAAYH,GAAW1V,GAE3B,GAAG6V,EAAW,CACb,IAAIC,EAAO5P,MAAM7E,UAAUuB,MAAMhD,KAAKyD,WACtCyS,EAAKC,QAEL,IAAI,IAAItW,EAAI,EAAGA,EAAIoW,EAAUpR,OAAQhF,IACpCoW,EAAUpW,GAAGuW,MAAMrR,EAAMmR,KAK5BG,GAAkB,WACjB,OAAO,IAAI1H,MAAOC,WAEnB0H,GAAkB,SAASC,GAC1BhC,GAAagC,EACbxR,EAAKyR,GAAG5J,MAAM2J,QAAUA,EAAUhH,EAASG,WAG5C+G,GAAsB,SAASC,EAAS/B,EAAEC,EAAE+B,EAAK9F,KAC5C0E,IAAyB1E,GAAQA,IAAS9L,EAAK6R,YAClDD,GAAe9F,EAAOA,EAAKgG,SAAW9R,EAAK6R,SAASC,UAGrDH,EAASnE,GAAiBV,EAAmB8C,EAAI,OAASC,EAAI,KAAO9C,EAAkB,UAAY6E,EAAO,KAE3GG,GAAuB,SAAUC,GAC7B7C,KAEC6C,IACCpF,EAAiB5M,EAAK6R,SAASC,SAC7BtB,KACHyB,GAAcjS,EAAK6R,UAAU,GAAO,GACpCrB,IAAuB,GAGrBA,KACFyB,GAAcjS,EAAK6R,UACnBrB,IAAuB,IAM1BkB,GAAoBvC,GAAuBY,GAAWH,EAAGG,GAAWF,EAAGjD,KAGzEsF,GAAsB,SAASpG,GAC3BA,EAAKqG,WAEPT,GAAoB5F,EAAKqG,UAAUtK,MAC9BiE,EAAKsG,gBAAgBxC,EACrB9D,EAAKsG,gBAAgBvC,EACrB/D,EAAKC,iBACLD,IAGPuG,GAAiB,SAASzC,EAAG0C,GAC5BA,EAAQ9E,GAAiBV,EAAmB8C,EAAI,UAAY7C,GAE7DwF,GAAkB,SAAS3C,EAAG4C,GAE7B,IAAIhI,EAASK,MAAQ2H,EAAU,CAC9B,IAAIC,EAAsBnG,GAAqB6D,GAAWP,EAAIK,GAAqBL,GAAKO,GAAWP,EAClG8C,EAAQrL,KAAKsL,MAAM/C,EAAIgD,GAAehD,IAElC6C,EAAsB,GAAKC,EAAQ,GACtCD,GAAuB3B,KAAiB,GAAK4B,EAAQ,KACtD9C,EAAIgD,GAAehD,EAAI8C,EAAQlI,EAASgB,uBAI1CoH,GAAehD,EAAIA,EACnByC,GAAezC,EAAGrD,IAEnBsG,GAAsB,SAASC,EAAMC,GACpC,IAAI7X,EAAI8X,GAAcF,GAAQ5C,GAAQ4C,GACtC,OAAOhD,GAAgBgD,GAAQnD,GAAamD,GAAQ5X,EAAIA,GAAM6X,EAAYlG,IAG3EoG,GAAkB,SAASC,EAAIC,GAC9BD,EAAGtD,EAAIuD,EAAGvD,EACVsD,EAAGrD,EAAIsD,EAAGtD,EACPsD,EAAGpJ,KACLmJ,EAAGnJ,GAAKoJ,EAAGpJ,KAGbqJ,GAAc,SAASxW,GACtBA,EAAEgT,EAAIvI,KAAKsL,MAAM/V,EAAEgT,GACnBhT,EAAEiT,EAAIxI,KAAKsL,MAAM/V,EAAEiT,IAGpBwD,GAAoB,KACpBC,GAAoB,WAGhBD,KACF3O,EAAUI,OAAOO,SAAU,YAAaiO,IACxC5O,EAAUwB,SAAS3B,EAAU,mBAC7BiG,EAASI,WAAY,EACrBqG,GAAO,cAERoC,GAAoBrJ,YAAW,WAC9BqJ,GAAoB,OAClB,MAwCJE,GAAsB,SAASR,EAAWS,GACzC,IAAIC,EAASC,GAAoB1T,EAAK6R,SAAU7B,GAAe+C,GAI/D,OAHGS,IACFtE,GAAiBuE,GAEXA,GAGRE,GAAmB,SAAS7H,GAI3B,OAHIA,IACHA,EAAO9L,EAAK6R,UAEN/F,EAAKC,kBAEb6H,GAAmB,SAAS9H,GAI3B,OAHIA,IACHA,EAAO9L,EAAK6R,UAEN/F,EAAK+H,EAAI,EAAIrJ,EAASwB,cAAgB,GAI9C8H,GAAuB,SAAShB,EAAMiB,EAAeC,EAAeC,GACnE,OAAGA,IAAkBjU,EAAK6R,SAAS9F,kBAClCiI,EAAclB,GAAQ9S,EAAK6R,SAASO,gBAAgBU,IAC7C,IAEPkB,EAAclB,GAAQD,GAAoBC,EAAMmB,GAE7CD,EAAclB,GAAQiB,EAAcG,IAAIpB,IAC1CkB,EAAclB,GAAQiB,EAAcG,IAAIpB,IACjC,GACEkB,EAAclB,GAAQiB,EAAc7R,IAAI4Q,KACjDkB,EAAclB,GAAQiB,EAAc7R,IAAI4Q,IACjC,KA0DVqB,GAAa,SAASC,GACrB,IAAIC,EAAgB,GACjB7J,EAASc,QAAwB,KAAd8I,EAAEE,QACvBD,EAAgB,QACP7J,EAASe,YACD,KAAd6I,EAAEE,QACJD,EAAgB,OACO,KAAdD,EAAEE,UACXD,EAAgB,SAIfA,IAGGD,EAAEG,SAAYH,EAAEI,QAAWJ,EAAEK,UAAaL,EAAEM,UAC7CN,EAAEO,eACJP,EAAEO,iBAEFP,EAAEQ,aAAc,EAEjB5U,EAAKqU,QAKRQ,GAAiB,SAAST,GACrBA,IAKDxF,GAAUD,GAAgBS,IAAwBb,KACpD6F,EAAEO,iBACFP,EAAEU,oBAIJC,GAA0B,WACzB/U,EAAKgV,gBAAgB,EAAGtQ,EAAUc,eAUhCyP,GAAc,GACjBC,GAAiB,EACjBC,GAAiB,SAAS9Z,GACtB4Z,GAAY5Z,KACX4Z,GAAY5Z,GAAM+M,KACpBwF,EAAWqH,GAAY5Z,GAAM+M,KAE9B8M,YACOD,GAAY5Z,KAGrB+Z,GAA0B,SAAS/Z,GAC/B4Z,GAAY5Z,IACd8Z,GAAe9Z,GAEZ4Z,GAAY5Z,KACf6Z,KACAD,GAAY5Z,GAAQ,KAGtBga,GAAqB,WACpB,IAAK,IAAIrO,KAAQiO,GAEZA,GAAYtY,eAAgBqK,IAC/BmO,GAAenO,IAKlBsO,GAAe,SAASja,EAAMka,EAAGC,EAASpa,EAAGqa,EAAUC,EAAUC,GAChE,IAAuC3Z,EAAnC4Z,EAAgBtE,KACpB8D,GAAwB/Z,GAExB,IAAIwa,EAAW,WACd,GAAKZ,GAAY5Z,GAAQ,CAMxB,IAJAW,EAAIsV,KAAoBsE,IAIdxa,EAMT,OALA+Z,GAAe9Z,GACfqa,EAASF,QACNG,GACFA,KAIFD,GAAWF,EAAUD,GAAKE,EAASzZ,EAAEZ,GAAKma,GAE1CN,GAAY5Z,GAAM+M,IAAMuF,EAAWkI,KAGrCA,KAKEnF,GAAgB,CAGnBoF,MAAO7E,GACP8E,OAAQ/E,GACRgF,aAAchG,GACdtP,QAAS8J,EAETyL,sBAAuB,WACtB,OAAO7G,IAER8G,aAAc,WACb,OAAOtJ,GAERuJ,gBAAiB,WAChB,OAAO7J,GAER8J,WAAY,WACX,OAAO3H,GAER4H,UAAW,WACV,OAAOrH,GAERgG,gBAAiB,SAASpF,EAAEC,GAC3BK,GAAQN,EAAIA,EACZ5B,EAAwBkC,GAAQL,EAAIA,EACpCoB,GAAO,qBAAsBf,KAE9BoG,aAAc,SAASvD,EAAUwD,EAAKC,EAAKxE,GAC1CjC,GAAWH,EAAI2G,EACfxG,GAAWF,EAAI2G,EACf5J,EAAiBmG,EACjBhB,GAAsBC,IAGvByE,KAAM,WAEL,IAAGtK,IAAWC,EAAd,CAIA,IAAItR,EAEJkF,EAAK0E,UAAYA,EACjB1E,EAAKuE,SAAWA,EAChBvE,EAAKyR,GAAK/M,EAAU0B,gBAAgB7B,EAAU,YAE9CsJ,EAAmBtJ,EAASgB,UAC5B4G,GAAU,EAEV8B,EAAYvJ,EAAUiD,iBACtBgG,EAAaM,EAAU7F,IACvBwF,EAAYK,EAAU5F,IACtBmF,EAAgBS,EAAUyI,UAC1B3I,EAASE,EAAUlG,MAEnB/H,EAAK2W,WAAajS,EAAU0B,gBAAgB7B,EAAU,qBACtDvE,EAAKmS,UAAYzN,EAAU0B,gBAAgBpG,EAAK2W,WAAY,mBAE5DpK,EAAkBvM,EAAKmS,UAAUtK,MAGjC7H,EAAK4W,YAAc1J,EAAe,CACjC,CAAC9H,GAAGpF,EAAKmS,UAAU0E,SAAS,GAAKC,KAAK,EAAGlG,OAAQ,GACjD,CAACxL,GAAGpF,EAAKmS,UAAU0E,SAAS,GAAKC,KAAK,EAAGlG,OAAQ,GACjD,CAACxL,GAAGpF,EAAKmS,UAAU0E,SAAS,GAAKC,KAAK,EAAGlG,OAAQ,IAIlD1D,EAAa,GAAG9H,GAAGyC,MAAMkP,QAAU7J,EAAa,GAAG9H,GAAGyC,MAAMkP,QAAU,OApOpD,WAElB,GAAGvJ,EAAe,CAEjB,IAAIwJ,EAAmB/I,EAAUgJ,cAAgBvJ,EAGjD,OAFAZ,EAAmB,aAAekK,EAAmB,MAAQ,UAC7DjK,EAAkBkB,EAAUgJ,YAAc,SAAW,KAOtDzJ,EAAgB,OAChB9I,EAAUwB,SAAS3B,EAAU,YAE7B8N,GAAiB,SAASzC,EAAG0C,GAC5BA,EAAQ4E,KAAOtH,EAAI,MAEpBsC,GAAsB,SAASpG,GAE9B,IAAIqL,EAAYrL,EAAKgG,SAAW,EAAI,EAAIhG,EAAKgG,SAC5CjV,EAAIiP,EAAKqG,UAAUtK,MACnBgM,EAAIsD,EAAYrL,EAAK+H,EACrBuD,EAAID,EAAYrL,EAAKsL,EAEtBva,EAAEwa,MAAQxD,EAAI,KACdhX,EAAEya,OAASF,EAAI,KACfva,EAAEqa,KAAOpL,EAAKsG,gBAAgBxC,EAAI,KAClC/S,EAAE0a,IAAMzL,EAAKsG,gBAAgBvC,EAAI,MAGlCkC,GAAuB,WACtB,GAAG5C,GAAuB,CAEzB,IAAItS,EAAIsS,GACPrD,EAAO9L,EAAK6R,SACZsF,EAAYrL,EAAKgG,SAAW,EAAI,EAAIhG,EAAKgG,SACzC+B,EAAIsD,EAAYrL,EAAK+H,EACrBuD,EAAID,EAAYrL,EAAKsL,EAEtBva,EAAEwa,MAAQxD,EAAI,KACdhX,EAAEya,OAASF,EAAI,KAGfva,EAAEqa,KAAOnH,GAAWH,EAAI,KACxB/S,EAAE0a,IAAMxH,GAAWF,EAAI,OAwLzB2H,GAGA7K,EAAuB,CACtB8K,OAAQzX,EAAK0X,WAKbC,kBAAmB,WAClB1N,aAAaiE,GACbA,EAA4BlE,YAAW,WACnCgG,GAAcJ,IAAM5P,EAAK2W,WAAWiB,aACtC5X,EAAK0X,eAEJ,MAEJG,OAAQ9C,GACR+C,QAAS3D,GACT4D,MAAOlD,IAKR,IAAImD,EAAW/J,EAAUnF,eAAiBmF,EAAUhF,cAAgBgF,EAAU9E,cAM9E,IALI8E,EAAUgK,eAAkBhK,EAAUyI,YAAasB,IACtDxN,EAASW,sBAAwBX,EAASU,sBAAwB,GAI/DpQ,EAAI,EAAGA,EAAIwV,GAASxQ,OAAQhF,IAC/BkF,EAAK,OAASsQ,GAASxV,MAIrB0J,IACOxE,EAAKkY,GAAK,IAAI1T,EAAQxE,EAAM0E,IAClC+R,OAGJxF,GAAO,eACP3E,EAAoBA,GAAqB9B,EAASoG,OAAS,GAEvDuH,MAAM7L,IAAsBA,EAAoB,GAAKA,GAAqBwE,QAC7ExE,EAAoB,GAErBtM,EAAK6R,SAAWuG,GAAY9L,IAGzB2B,EAAUnF,eAAiBmF,EAAUhF,gBACvCoH,IAAmB,GAGpB9L,EAAS8T,aAAa,cAAe,SAClC7N,EAASyB,QACPoE,GAIH9L,EAASsD,MAAMyQ,SAAW,SAH1B/T,EAASsD,MAAMyQ,SAAW,WAC1B/T,EAASsD,MAAM0P,IAAM7S,EAAUc,aAAe,YAMnBI,IAA1BoI,IACFiD,GAAO,iBACPjD,EAAwBF,EAAuBpJ,EAAUc,cAI1D,IAAI+S,EAAc,cAiBlB,IAhBG/N,EAASgO,YACXD,GAAe/N,EAASgO,UAAY,KAElChO,EAASY,kBACXmN,GAAe,0BAEhBA,GAAe7K,EAAqB,cAAgB,gBACpD6K,GAAetK,EAAUgK,cAAgB,uBAAyB,GAClEM,GAAetK,EAAU/D,IAAM,aAAe,GAC9CxF,EAAUwB,SAAS3B,EAAUgU,GAE7BvY,EAAK0X,aAGLlL,GAAwB,EACxB4D,GAAa,KACTtV,EAAI,EAAGA,EA9mBE,EA8mBeA,IAC3BuX,IAAiBvX,EAAE0R,GAAwB2D,GAAWP,EAAG1C,EAAapS,GAAGsK,GAAGyC,OAGzEkG,GACHrJ,EAAUpI,KAAK0D,EAAK2W,WAAYjK,EAAa1M,GAG9CgR,GAAQ,oBAAoB,WAC3BhR,EAAKyY,WAAWvL,EAAa,GAAIZ,EAAkB,GACnDtM,EAAKyY,WAAWvL,EAAa,GAAIZ,EAAkB,GAEnDY,EAAa,GAAG9H,GAAGyC,MAAMkP,QAAU7J,EAAa,GAAG9H,GAAGyC,MAAMkP,QAAU,QAEnEvM,EAASa,OAIX9G,EAAS8G,QA1ZX3G,EAAUpI,KAAK+I,SAAU,UAAWrF,GAEjCiO,EAAUyI,WAEZhS,EAAUpI,KAAK0D,EAAK2W,WAAY,QAAS3W,GAItCwK,EAASI,WACZlG,EAAUpI,KAAK+I,SAAU,YAAaiO,IAGvC5O,EAAUpI,KAAKoJ,OAAQ,kCAAmC1F,GAE1DiR,GAAO,iBAoZPjR,EAAKyY,WAAWvL,EAAa,GAAIZ,GAEjCtM,EAAK0Y,iBAELzH,GAAO,aAEHZ,KAWHrD,EAAsB2L,aAAY,WAC7BzD,IAAmBzG,GAAgBO,GAAepC,IAAmB5M,EAAK6R,SAAS9F,kBACtF/L,EAAK0X,eAEJ,MAGJhT,EAAUwB,SAAS3B,EAAU,mBAI9BqU,MAAO,WACFzM,IAIJA,GAAU,EACVC,GAAgB,EAChB6E,GAAO,SAnbPvM,EAAUI,OAAOY,OAAQ,kCAAmC1F,GAC5D0E,EAAUI,OAAOY,OAAQ,SAAUiH,EAAqBkL,QACxDnT,EAAUI,OAAOO,SAAU,UAAWrF,GACtC0E,EAAUI,OAAOO,SAAU,YAAaiO,IAErCrF,EAAUyI,WACZhS,EAAUI,OAAO9E,EAAK2W,WAAY,QAAS3W,GAGzCyO,GACF/J,EAAUI,OAAOY,OAAQ+G,EAAezM,GAGzCiK,aAAaiE,GAEb+C,GAAO,gBAuaP4H,GAAY7Y,EAAK6R,SAAU,MAAM,EAAM7R,EAAK8Y,WAI7CA,QAAS,WACR7H,GAAO,WAEJ8H,IACF9O,aAAa8O,IAGdxU,EAAS8T,aAAa,cAAe,QACrC9T,EAASgB,UAAYsI,EAElBb,GACFgM,cAAchM,GAGftI,EAAUI,OAAO9E,EAAK2W,WAAYjK,EAAa1M,GAG/C0E,EAAUI,OAAOY,OAAQ,SAAU1F,GAEnCiZ,KAEA5D,KAEAtE,GAAa,MASdmI,MAAO,SAAStJ,EAAEC,EAAEsJ,GACfA,IACAvJ,EAAIV,GAAegF,IAAItE,EACzBA,EAAIV,GAAegF,IAAItE,EACdA,EAAIV,GAAehN,IAAI0N,IAChCA,EAAIV,GAAehN,IAAI0N,GAGrBC,EAAIX,GAAegF,IAAIrE,EACzBA,EAAIX,GAAegF,IAAIrE,EACdA,EAAIX,GAAehN,IAAI2N,IAChCA,EAAIX,GAAehN,IAAI2N,IAIzBE,GAAWH,EAAIA,EACfG,GAAWF,EAAIA,EACfkC,MAGDxH,YAAa,SAAU6J,GACtBA,EAAIA,GAAK1O,OAAO0T,MACbzM,EAAqByH,EAAE7Q,OACzBoJ,EAAqByH,EAAE7Q,MAAM6Q,IAK/BiF,KAAM,SAASzI,GAId,IAAI0I,GAFJ1I,EAAQD,GAAaC,IAEFtE,EACnB8D,GAAakJ,EAEbhN,EAAoBsE,EACpB5Q,EAAK6R,SAAWuG,GAAY9L,GAC5B2D,IAAsBqJ,EAEtB/G,GAAgBpC,GAAWP,EAAIK,IAG/BoF,KACAjG,IAAuB,EAEvBpP,EAAK0Y,kBAENa,KAAM,WACLvZ,EAAKqZ,KAAM/M,EAAoB,IAEhCkN,KAAM,WACLxZ,EAAKqZ,KAAM/M,EAAoB,IAIhCmN,mBAAoB,SAASC,GAM5B,GALGA,GACFzI,GAAO,eAAgB,GAIrB/D,EAAa,GAAG9H,GAAGyR,SAAS/W,OAAQ,CACtC,IAAI6Z,EAAczM,EAAa,GAAG9H,GAAGyR,SAAS,GAE7C1H,GADGzK,EAAUyB,SAASwT,EAAa,mBACXA,EAAY9R,MAEZ,UAGzBsH,GAAwB,KAGzBD,GAAiBlP,EAAK6R,SAAS4B,OAC/B5G,EAAkBD,EAAiB5M,EAAK6R,SAAS9F,iBAEjDgE,GAAWH,EAAIV,GAAe0K,OAAOhK,EACrCG,GAAWF,EAAIX,GAAe0K,OAAO/J,EAElC6J,GACFzI,GAAO,gBAKT4I,oBAAqB,WACpB5M,GAAmB,EACnB,IAAI,IAAInS,EAAI,EAAGA,EAxyBF,EAwyBmBA,IAC3BoS,EAAapS,GAAGgR,OACnBoB,EAAapS,GAAGgR,KAAKgO,aAAc,IAKtCpB,eAAgB,SAASqB,GAExB,GAAkB,IAAf3J,GAAH,CAIA,IACC4J,EADGC,EAAU5S,KAAK6S,IAAI9J,IAGvB,KAAG2J,GAAmBE,EAAU,GAAhC,CAKAja,EAAK6R,SAAWuG,GAAY9L,GAC5BkE,IAAuB,EAEvBS,GAAO,eAAgBb,IAEpB6J,GAl0BU,IAm0BZzN,GAAwB4D,IAAcA,GAAa,GAn0BvC,KAo0BZ6J,EAp0BY,GAs0Bb,IAAI,IAAInf,EAAI,EAAGA,EAAImf,EAASnf,IACxBsV,GAAa,GACf4J,EAAa9M,EAAakE,QAC1BlE,EAAaiN,GAAiBH,EAE9BxN,IACA6F,IAAiB7F,EAAqB,GAAK2D,GAAWP,EAAGoK,EAAW5U,GAAGyC,OACvE7H,EAAKyY,WAAWuB,EAAY1N,EAAoB2N,EAAUnf,EAAI,EAAI,KAElEkf,EAAa9M,EAAakN,MAC1BlN,EAAamN,QAASL,GAEtBxN,IACA6F,GAAgB7F,EAAuB2D,GAAWP,EAAGoK,EAAW5U,GAAGyC,OACnE7H,EAAKyY,WAAWuB,EAAY1N,EAAoB2N,EAAUnf,EAAI,EAAI,IAMpE,GAAGqU,IAAkD,IAAzB9H,KAAK6S,IAAI9J,IAAmB,CAEvD,IAAIkK,EAAWlC,GAAWjL,GACvBmN,EAASvO,mBAAqBa,IAChC8G,GAAmB4G,EAAWtK,IAC9BiC,GAAcqI,GACdpI,GAAqBoI,IAMvBlK,GAAa,EAEbpQ,EAAKyZ,qBAELtM,EAAiBb,EAEjB2E,GAAO,kBAMRyG,WAAY,SAASyB,GAEpB,IAAI9I,IAAoB7F,EAASyB,MAAO,CACvC,IAAIsO,EAAgB7V,EAAUc,aAK9B,GAJGwI,IAA0BuM,IAC5BhW,EAASsD,MAAM0P,IAAMgD,EAAgB,KACrCvM,EAAwBuM,IAErBpB,GAAS5I,GAAmBX,IAAMlK,OAAO8U,YAAcjK,GAAmBV,IAAMnK,OAAO+U,YAC1F,OAEDlK,GAAmBX,EAAIlK,OAAO8U,WAC9BjK,GAAmBV,EAAInK,OAAO+U,YAG9BlW,EAASsD,MAAMyP,OAAS/G,GAAmBV,EAAI,KAmBhD,GAdAG,GAAcJ,EAAI5P,EAAK2W,WAAWiB,YAClC5H,GAAcH,EAAI7P,EAAK2W,WAAW+D,aAElC3F,KAEA5E,GAAWP,EAAII,GAAcJ,EAAIvI,KAAKsL,MAAM3C,GAAcJ,EAAIpF,EAASE,SACvEyF,GAAWN,EAAIG,GAAcH,EAE7B0C,GAAgBpC,GAAWP,EAAIK,IAE/BgB,GAAO,qBAIqBrL,IAAzB4G,EAAoC,CAMtC,IAJA,IAAImO,EACH7O,EACA8O,EAEO9f,EAAI,EAAGA,EA15BH,EA05BoBA,IAC/B6f,EAASzN,EAAapS,GACtBuX,IAAiBvX,EAAE0R,GAAwB2D,GAAWP,EAAG+K,EAAOvV,GAAGyC,OAEnE+S,EAAStO,EAAkBxR,EAAE,EAE1B0P,EAASK,MAAQiG,KAAiB,IACpC8J,EAASjK,GAAaiK,KAIvB9O,EAAOsM,GAAYwC,MAIN3N,GAAoBnB,EAAKgO,cAAgBhO,EAAK2H,SAE1DzT,EAAK6a,WAAY/O,GAEjB9L,EAAKyY,WAAYkC,EAAQC,GAGhB,IAAN9f,IACFkF,EAAK6R,SAAW/F,EAChB9L,EAAKyZ,oBAAmB,IAGzB3N,EAAKgO,aAAc,IAEQ,IAAlBa,EAAO/J,OAAgBgK,GAAU,GAE1C5a,EAAKyY,WAAYkC,EAAQC,GAEvB9O,GAAQA,EAAKqG,YACfuB,GAAmB5H,EAAMkE,IACzBiC,GAAcnG,GACdoG,GAAqBpG,IAIvBmB,GAAmB,EAGpBJ,EAAkBD,EAAiB5M,EAAK6R,SAAS9F,kBACjDmD,GAAiBlP,EAAK6R,SAAS4B,UAG9B1D,GAAWH,EAAIV,GAAe0K,OAAOhK,EACrCG,GAAWF,EAAIX,GAAe0K,OAAO/J,EACrCkC,IAAsB,IAGvBd,GAAO,WAIR6J,OAAQ,SAAS7G,EAAe8G,EAAaC,EAAOvF,EAAUwF,GAS1DF,IACFlO,EAAkBD,EAClBoG,GAAcpD,EAAIvI,KAAK6S,IAAIa,EAAYnL,GAAKG,GAAWH,EACvDoD,GAAcnD,EAAIxI,KAAK6S,IAAIa,EAAYlL,GAAKE,GAAWF,EACvDoD,GAAgBnD,GAAiBC,KAGlC,IAAIgE,EAAgBR,GAAoBU,GAAe,GACtDD,EAAgB,GAEjBF,GAAqB,IAAKC,EAAeC,EAAeC,GACxDH,GAAqB,IAAKC,EAAeC,EAAeC,GAExD,IAAIlI,EAAmBa,EACnBsO,EACAnL,GAAWH,EADXsL,EAEAnL,GAAWF,EAGfuD,GAAYY,GAEZ,IAAI0B,EAAW,SAASyF,GACZ,IAARA,GACFvO,EAAiBqH,EACjBlE,GAAWH,EAAIoE,EAAcpE,EAC7BG,GAAWF,EAAImE,EAAcnE,IAE7BjD,GAAkBqH,EAAgBlI,GAAoBoP,EAAMpP,EAC5DgE,GAAWH,GAAKoE,EAAcpE,EAAIsL,GAAsBC,EAAMD,EAC9DnL,GAAWF,GAAKmE,EAAcnE,EAAIqL,GAAsBC,EAAMD,GAG5DD,GACFA,EAASE,GAGVpJ,GAA8B,IAARoJ,IAGpBH,EACF1F,GAAa,eAAgB,EAAG,EAAG0F,EAAOvF,GAAY/Q,EAAUuC,OAAOC,KAAKM,MAAOkO,GAEnFA,EAAS,KAwBX9Y,GAAI,GACJuW,GAAK,GACLT,GAAQ,GACR0I,GAAa,GACbC,GAAc,GACdC,GAAgB,GAChBC,GAAsB,GAEtBC,GAAa,GACbC,GAAa,GAKbC,GAAuB,EACvBC,GA7/BQ,CAAC/L,EAAE,EAAEC,EAAE,GA8/Bf+L,GAAmB,EAYnBhJ,GA1gCQ,CAAChD,EAAE,EAAEC,EAAE,GA6gCfmD,GA7gCQ,CAACpD,EAAE,EAAEC,EAAE,GA8gCfgM,GA9gCQ,CAACjM,EAAE,EAAEC,EAAE,GA2hCfiM,GAA2B,SAAS5I,EAAIC,GAGvC,OAFAsI,GAAW7L,EAAIvI,KAAK6S,IAAKhH,EAAGtD,EAAIuD,EAAGvD,GACnC6L,GAAW5L,EAAIxI,KAAK6S,IAAKhH,EAAGrD,EAAIsD,EAAGtD,GAC5BxI,KAAK0U,KAAKN,GAAW7L,EAAI6L,GAAW7L,EAAI6L,GAAW5L,EAAI4L,GAAW5L,IAE1EoJ,GAAsB,WAClBpK,IACFjB,EAAUiB,GACVA,EAAiB,OAGnBmN,GAAkB,WACdvN,IACFI,EAAiBlB,EAAWqO,IAC5BC,OAQFC,GAAkB,SAAS9W,EAAI5E,GAC5B,SAAI4E,GAAMA,IAAOC,aAKdD,EAAG+W,aAAa,UAAY/W,EAAG+W,aAAa,SAAS/c,QAAQ,sBAAwB,KAIpFoB,EAAG4E,GACCA,EAGD8W,GAAgB9W,EAAGgX,WAAY5b,KAGzC6b,GAAc,GACdC,GAAgC,SAASlI,EAAGmI,GAI3C,OAHGF,GAAYG,SAAWN,GAAgB9H,EAAExP,OAAQ4F,EAASkB,oBAE7DuF,GAAO,mBAAoBmD,EAAGmI,EAAQF,IAC/BA,GAAYG,SAGpBC,GAAuB,SAASvU,EAAOtL,GAItC,OAHAA,EAAEgT,EAAI1H,EAAMwU,MACZ9f,EAAEiT,EAAI3H,EAAMyU,MACZ/f,EAAEmN,GAAK7B,EAAM0U,WACNhgB,GAERigB,GAAsB,SAAS3J,EAAIC,EAAI2J,GACtCA,EAAQlN,EAAoB,IAAfsD,EAAGtD,EAAIuD,EAAGvD,GACvBkN,EAAQjN,EAAoB,IAAfqD,EAAGrD,EAAIsD,EAAGtD,IAYxBkN,GAAqC,WACpC,IAAItX,EAAUsK,GAAWF,EAAI7P,EAAK6R,SAASO,gBAAgBvC,EAC3D,OAAO,EAAKxI,KAAK6S,IAAKzU,GAAWuK,GAAcH,EAAI,KAKpDmN,GAAW,GACXC,GAAW,GACXC,GAAiB,GAEjBC,GAAkB,SAAS/I,GAE1B,KAAM8I,GAAepd,OAAS,GAC7Bod,GAAe9C,MAgChB,OA7BI3M,GAiBHiC,GAAe,EAEf4L,GAAc3c,SAAQ,SAAS/B,GACV,IAAjB8S,GACFwN,GAAe,GAAKtgB,EACM,IAAjB8S,KACTwN,GAAe,GAAKtgB,GAErB8S,SAxBE0E,EAAE7Q,KAAKnE,QAAQ,UAAY,EAE1BgV,EAAEgJ,SAAWhJ,EAAEgJ,QAAQtd,OAAS,IAClCod,GAAe,GAAKT,GAAqBrI,EAAEgJ,QAAQ,GAAIJ,IACpD5I,EAAEgJ,QAAQtd,OAAS,IACrBod,GAAe,GAAKT,GAAqBrI,EAAEgJ,QAAQ,GAAIH,OAKzDD,GAASpN,EAAIwE,EAAEsI,MACfM,GAASnN,EAAIuE,EAAEuI,MACfK,GAASjT,GAAK,GACdmT,GAAe,GAAKF,IAefE,IAGRG,GAAuB,SAASvK,EAAMJ,GAErC,IAAI4K,EAGHC,EAIAC,EACAC,EANAC,EAAY3N,GAAW+C,GAAQJ,EAAMI,GAErC6K,EAAMjL,EAAMI,GAAQ,EACpB8K,EAAwBhL,GAAehD,EAAI8C,EAAM9C,EACjDiO,EAAiBjL,GAAehD,EAAI2L,GAAoB3L,EAiBzD,GAXC0N,EADEI,EAAYxO,GAAegF,IAAIpB,IAAS4K,EAAYxO,GAAehN,IAAI4Q,GAC3DtI,EAASiB,eAKT,EAGfiS,EAAY3N,GAAW+C,GAAQJ,EAAMI,GAAQwK,GAG1C9S,EAASC,gBAAkBmC,IAAmB5M,EAAK6R,SAAS9F,oBAG1DoD,GAIqB,MAAfE,IAA+B,MAATyD,GAAiBnE,IAE7CgP,GACCD,EAAYxO,GAAegF,IAAIpB,KACjCwK,EAAc9S,EAASiB,eACZyD,GAAegF,IAAIpB,GAC9ByK,EAAgBrO,GAAegF,IAAIpB,GAAQhD,GAAgBgD,KAIvDyK,GAAiB,GAAKM,EAAiB,IAAM/M,KAAiB,GAClE2M,EAAmBG,EAChBC,EAAiB,GAAKD,EAAwBrC,GAAoB3L,IACpE6N,EAAmBlC,GAAoB3L,IAGrCV,GAAegF,IAAItE,IAAMV,GAAehN,IAAI0N,IAC9C4N,EAAYE,KAOXA,EAAYxO,GAAehN,IAAI4Q,KACjCwK,EAAa9S,EAASiB,eACCyD,GAAehN,IAAI4Q,GAC1CyK,EAAgBzN,GAAgBgD,GAAQ5D,GAAehN,IAAI4Q,KAGvDyK,GAAiB,GAAKM,EAAiB,IAAM/M,KAAiB,GAClE2M,EAAmBG,EAEhBC,EAAiB,GAAKD,EAAwBrC,GAAoB3L,IACpE6N,EAAmBlC,GAAoB3L,IAIrCV,GAAegF,IAAItE,IAAMV,GAAehN,IAAI0N,IAC9C4N,EAAYE,KAzCfD,EAAmBG,EAmDR,MAAT9K,GAmBF,YAjBwBlN,IAArB6X,IACFlL,GAAgBkL,GAAkB,GAEjC3O,EADE2O,IAAqBlC,GAAoB3L,GAO1CV,GAAegF,IAAItE,IAAMV,GAAehN,IAAI0N,SAC7BhK,IAAd4X,EACFzN,GAAWH,EAAI4N,EACL1O,IACViB,GAAWH,GAAK8C,EAAM9C,EAAI0N,SAIA1X,IAArB6X,EAKLrO,IAECN,GACAlC,EAAiB5M,EAAK6R,SAASC,WACjC/B,GAAW+C,IAASJ,EAAMI,GAAQwK,IAWtCQ,GAAe,SAAS1J,GAOvB,KAAc,cAAXA,EAAE7Q,MAAwB6Q,EAAE2J,OAAS,GAIxC,GAAGC,GACF5J,EAAEO,sBAIH,IAAGnG,GAAyC,cAAX4F,EAAE7Q,KAAnC,CAYA,GARG+Y,GAA8BlI,GAAG,IACnCA,EAAEO,iBAKH1D,GAAO,eAEJxD,EAAsB,CACxB,IAAIwQ,EAAevZ,EAAUgC,YAAY4U,GAAelH,EAAE8J,UAAW,MAClED,EAAe,IACjBA,EAAe3C,GAAcxb,QAE9Bwb,GAAc2C,GAAgB,CAACrO,EAAEwE,EAAEsI,MAAO7M,EAAEuE,EAAEuI,MAAO5S,GAAIqK,EAAE8J,WAK5D,IAAIC,EAAkBhB,GAAgB/I,GACrCgK,EAAYD,EAAgBre,OAE7BiP,EAAiB,KAEjBsG,KAGI5G,GAA6B,IAAd2P,IAIlB3P,EAAca,IAAe,EAC7B5K,EAAUpI,KAAKoJ,OAAQ+G,EAAezM,GAEtCsO,EACCmB,GACAF,GACAhB,EACAO,EACAF,EACAF,EACAC,GAAe,EAEhBU,GAAa,KAEb4B,GAAO,kBAAmBkN,GAE1BlL,GAAgBnD,GAAiBC,IAEjCJ,GAAaC,EAAID,GAAaE,EAAI,EAClCoD,GAAgBmI,GAAY+C,EAAgB,IAC5ClL,GAAgBoI,GAAaD,IAG7BG,GAAoB3L,EAAIO,GAAWP,EAAIK,GAEvCuL,GAAa,CAAC,CACb5L,EAAGwL,GAAWxL,EACdC,EAAGuL,GAAWvL,IAGfzB,EAAyBD,EAAoBmD,KAG7CiC,GAAqB3G,GAAgB,GAGrCqM,KACA+C,OAKGhN,GAAcoP,EAAY,IAAMhP,KAAyBN,IAC5DjC,EAAkBD,EAClB+B,GAAe,EAEfK,EAAaN,GAAgB,EAC7BiB,GAAaE,EAAIF,GAAaC,EAAI,EAElCqD,GAAgBnD,GAAiBC,IAEjCkD,GAAgBrW,GAAGuhB,EAAgB,IACnClL,GAAgBE,GAAIgL,EAAgB,IAEpCtB,GAAoBjgB,GAAGuW,GAAI0I,IAE3B7I,GAAcpD,EAAIvI,KAAK6S,IAAI2B,GAAiBjM,GAAKG,GAAWH,EAC5DoD,GAAcnD,EAAIxI,KAAK6S,IAAI2B,GAAiBhM,GAAKE,GAAWF,EACtCZ,EAAuB6M,GAAyBlf,GAAGuW,OAO3EkL,GAAc,SAASjK,GAItB,GAFAA,EAAEO,iBAEClH,EAAsB,CACxB,IAAIwQ,EAAevZ,EAAUgC,YAAY4U,GAAelH,EAAE8J,UAAW,MACrE,GAAGD,GAAgB,EAAG,CACrB,IAAIrhB,EAAI0e,GAAc2C,GACtBrhB,EAAEgT,EAAIwE,EAAEsI,MACR9f,EAAEiT,EAAIuE,EAAEuI,OAIV,GAAGlO,EAAa,CACf,IAAI6P,EAAcnB,GAAgB/I,GAClC,GAAI/E,IAAeT,GAAWI,EAe7BD,EAAiBuP,OAbjB,GAAG1L,GAAehD,IAAMO,GAAWP,EAAIK,GAEtCZ,GAAa,QACP,CACN,IAAIiK,EAAOjS,KAAK6S,IAAIoE,EAAY,GAAG1O,EAAIwL,GAAWxL,GAAKvI,KAAK6S,IAAIoE,EAAY,GAAGzO,EAAIuL,GAAWvL,GAE3FxI,KAAK6S,IAAIZ,IAzaS,KA0apBjK,GAAaiK,EAAO,EAAI,IAAM,IAC9BvK,EAAiBuP,MAUtBrC,GAAmB,WAElB,GAAIlN,EAAJ,CAIA,IAAIqP,EAAYrP,EAAejP,OAE/B,GAAiB,IAAdse,EASH,GALAnL,GAAgBrW,GAAGmS,EAAe,IAElC2D,GAAM9C,EAAIhT,GAAEgT,EAAIwL,GAAWxL,EAC3B8C,GAAM7C,EAAIjT,GAAEiT,EAAIuL,GAAWvL,EAExBb,GAAcoP,EAAY,EAAG,CAO/B,GAJAhD,GAAWxL,EAAIhT,GAAEgT,EACjBwL,GAAWvL,EAAIjT,GAAEiT,GAGZ6C,GAAM9C,IAAM8C,GAAM7C,GAhaR,SAASqD,EAAIC,GAC7B,OAAOD,EAAGtD,IAAMuD,EAAGvD,GAAKsD,EAAGrD,IAAMsD,EAAGtD,EA+ZP0O,CAAexP,EAAe,GAAIoE,IAC7D,OAGDF,GAAgBE,GAAIpE,EAAe,IAG/BJ,IACHA,GAAe,EACfsC,GAAO,uBAIR,IAAIuN,EAAiB1C,GAAyBlf,GAAEuW,IAE5CJ,EAAY0L,GAAoBD,GAGjCzL,EAAY/S,EAAK6R,SAAS9F,iBAAmB/L,EAAK6R,SAAS9F,iBAAmB,KAChF0D,IAAsB,GAIvB,IAAIiP,EAAe,EAClBC,EAAehL,KACfiL,EAAehL,KAEhB,GAAKb,EAAY4L,EAEhB,GAAGnU,EAASM,eAAiB2E,IAAuB5C,GAAmB7M,EAAK6R,SAAS9F,iBAAkB,CAEtG,IACI8S,EAAU,GADEF,EAAe5L,IACA4L,EAAe,KAE9CpN,GAAgBsN,GAChB5N,GAAO,eAAgB4N,GACvBtP,IAAkB,OAElBmP,GAAgBC,EAAe5L,GAAa4L,GAC1B,IACjBD,EAAe,GAEhB3L,EAAY4L,EAAeD,GAAgBC,EAAe,QAGhD5L,EAAY6L,KAEvBF,GAAgB3L,EAAY6L,IAAiC,EAAfD,IAC5B,IACjBD,EAAe,GAEhB3L,EAAY6L,EAAeF,EAAeC,GAGxCD,EAAe,IACjBA,EAAe,GAOhB7B,GAAoBjgB,GAAGuW,GAAIwI,IAG3BhM,GAAaC,GAAK+L,GAAa/L,EAAIiM,GAAiBjM,EACpDD,GAAaE,GAAK8L,GAAa9L,EAAIgM,GAAiBhM,EACpDoD,GAAgB4I,GAAkBF,IAElC5L,GAAWH,EAAIiD,GAAoB,IAAKE,GACxChD,GAAWF,EAAIgD,GAAoB,IAAKE,GAExCzE,EAAeyE,EAAYnG,EAC3BA,EAAiBmG,EACjBhB,SAEM,CAIN,IAAI1C,GACH,OAqBD,GAlBGC,KACFA,IAAe,EAIXjI,KAAK6S,IAAIxH,GAAM9C,IAtiBG,KAuiBrB8C,GAAM9C,GAAKb,EAAe,GAAGa,EAAIyL,GAAYzL,GAG1CvI,KAAK6S,IAAIxH,GAAM7C,IA1iBG,KA2iBrB6C,GAAM7C,GAAKd,EAAe,GAAGc,EAAIwL,GAAYxL,IAI/CuL,GAAWxL,EAAIhT,GAAEgT,EACjBwL,GAAWvL,EAAIjT,GAAEiT,EAGF,IAAZ6C,GAAM9C,GAAuB,IAAZ8C,GAAM7C,EACzB,OAGD,GAAkB,MAAfR,IAAsB7E,EAASQ,qBAlfH,QAAvBR,EAAS0B,WAAuBU,IAAoB5M,EAAK6R,SAAS9F,iBAmf1D,CACd4D,GAAaE,GAAK6C,GAAM7C,EACxBE,GAAWF,GAAK6C,GAAM7C,EAEtB,IAAIiP,EAAe/B,KAOnB,OALAxO,GAAyB,EACzB0C,GAAO,iBAAkB6N,GAEzBvN,GAAgBuN,QAChB/M,MAtdY,SAASgN,EAAMnP,EAAGC,GACjC,GAAGkP,EAAO3Q,EAAyB,GAAI,CACtC,IAAI7S,EAAIigB,GAAW1b,OAAS,EAAI0b,GAAWpK,QAAU,GACrD7V,EAAEqU,EAAIA,EACNrU,EAAEsU,EAAIA,EACN2L,GAAWlb,KAAK/E,GAChB6S,EAAyB2Q,GAqdzBC,CAAc1N,KAAmB1U,GAAEgT,EAAGhT,GAAEiT,GAExCjB,GAAS,EACTM,GAAiBlP,EAAK6R,SAAS4B,OAEP4J,GAAqB,IAAK3K,MAEjD2K,GAAqB,IAAK3K,IAE1BU,GAAYrD,IACZgC,SAQHkN,GAAiB,SAAS7K,GAEzB,GAAGnG,EAAUhF,aAAe,CAE3B,GAAGuF,GAAyC,YAAX4F,EAAE7Q,KAClC,OAOG6Q,EAAE7Q,KAAKnE,QAAQ,UAAY,IAC9B6K,aAAauE,GACbA,EAA6BxE,YAAW,WACvCwE,EAA6B,IAC3B,MAWL,IAAI0Q,EAEJ,GARAjO,GAAO,aAEJqL,GAA8BlI,GAAG,IACnCA,EAAEO,iBAKAlH,EAAsB,CACxB,IAAIwQ,EAAevZ,EAAUgC,YAAY4U,GAAelH,EAAE8J,UAAW,MAElED,GAAgB,IAClBiB,EAAe5D,GAAcra,OAAOgd,EAAc,GAAG,GAElDzV,UAAUC,kBAMZyW,EAAa3b,KALS,CACrB4b,EAAG,QACHC,EAAG,QACHC,EAAG,OAEgCjL,EAAEkL,aAElCJ,EAAa3b,OAChB2b,EAAa3b,KAAO6Q,EAAEkL,aAAe,UAGtCJ,EAAa3b,KAAO6Q,EAAEkL,aAAe,SAMxC,IACCC,EADGC,EAAYrC,GAAgB/I,GAE/BgK,EAAYoB,EAAU1f,OAOvB,GALc,YAAXsU,EAAE7Q,OACJ6a,EAAY,GAII,IAAdA,EAEF,OADArP,EAAiB,MACV,EAIS,IAAdqP,GACFnL,GAAgBoI,GAAamE,EAAU,IAKvB,IAAdpB,GAAoB/O,IAAeD,KACjC8P,IACW,YAAX9K,EAAE7Q,KACJ2b,EAAe,CAACtP,EAAGwE,EAAEsI,MAAO7M,EAAGuE,EAAEuI,MAAOpZ,KAAK,SACpC6Q,EAAEqL,gBAAkBrL,EAAEqL,eAAe,KAC9CP,EAAe,CAACtP,EAAGwE,EAAEqL,eAAe,GAAG/C,MAAO7M,EAAGuE,EAAEqL,eAAe,GAAG9C,MAAOpZ,KAAK,WAInF0N,GAAO,eAAgBmD,EAAG8K,IAI3B,IAAIQ,GAAmB,EAmCvB,GAhCiB,IAAdtB,IACF3P,GAAc,EACd/J,EAAUI,OAAOY,OAAQ+G,EAAezM,GAExCiZ,KAEGjK,EAEF0Q,EAAkB,GACa,IAAtB9D,KACT8D,EAAkBpO,KAAoBsK,KAGxCA,GAAiC,IAAdwC,EAAkB9M,MAAqB,EAGzDiO,GADuB,IAArBG,GAA0BA,EAAkB,IAChC,OAEA,QAGZ1Q,GAAcoP,EAAY,IAC5BpP,GAAa,EAGI,IAAdoP,IACFmB,EAAc,iBAEftO,GAAO,qBAGRlC,EAAiB,KACbH,GAAWD,GAAiBS,IAAyBb,EAezD,GAVA8G,KAGIhH,IACHA,EAAmBsR,MAGpBtR,EAAiBuR,oBAAoB,KAGlCrR,EAIF,GAFmBwO,KAEDvS,EAASS,kBAC1BjL,EAAK4Y,YACC,CACN,IAAIiH,EAAa9P,GAAWF,EAC3BiQ,EAAmBtQ,GAEpB8F,GAAa,eAAgB,EAAG,EAAG,IAAK5Q,EAAUuC,OAAOS,MAAMP,KAAK,SAASgU,GAE5EpL,GAAWF,GAAK7P,EAAK6R,SAASO,gBAAgBvC,EAAIgQ,GAAc1E,EAAM0E,EAEtEtO,IAAmB,EAAIuO,GAAoB3E,EAAM2E,GACjD/N,QAGDd,GAAO,iBAAkB,OAlB3B,CA0BA,IAAMnC,GAAsBM,KAAuC,IAAdgP,EAAiB,CAErE,GADkB2B,GAA8BR,EAAalR,GAE5D,OAEDkR,EAAc,gBAIZnQ,KAKgB,UAAhBmQ,GAMCzQ,GAAsBlC,EAAiB5M,EAAK6R,SAASC,UACxDkO,GAAoB3R,GANpB4R,QAaFN,GAAiC,WAEhC,IAAIO,EACHC,EAGGtjB,EAAI,CACPujB,gBAAiB,GACjBC,cAAe,GACfC,eAAgB,GAChBC,cAAgB,GAChBC,qBAAuB,GACvBC,uBAAyB,GACzBC,0BAA4B,GAC5BC,eAAiB,GACjBC,oBAAqB,GACrBC,gBAAiB,GACjBjB,oBAAqB,SAAS9M,GAGzB0I,GAAW1b,OAAS,GACvBogB,EAAoB5O,KAAoBlD,EAAyB,GACjE+R,EAAiB3E,GAAWA,GAAW1b,OAAO,GAAGgT,KAEjDoN,EAAoB5O,KAAoBnD,EACxCgS,EAAiB9E,GAAYvI,IAE9BjW,EAAEujB,gBAAgBtN,GAAQsI,GAAWtI,GAAQqN,EAC7CtjB,EAAEwjB,cAAcvN,GAAQzL,KAAK6S,IAAIrd,EAAEujB,gBAAgBtN,IAChDjW,EAAEwjB,cAAcvN,GAAQ,GAC1BjW,EAAEyjB,eAAexN,GAAQjW,EAAEujB,gBAAgBtN,GAAQoN,EAEnDrjB,EAAEyjB,eAAexN,GAAQ,EAEtBzL,KAAK6S,IAAIrd,EAAEyjB,eAAexN,IAAS,KACtCjW,EAAEyjB,eAAexN,GAAQ,GAG1BjW,EAAE0jB,cAAczN,GAAQ,IACxBjW,EAAE2jB,qBAAqB1N,GAAQ,EAAIjW,EAAE0jB,cAAczN,GACnDjW,EAAE4jB,uBAAuB3N,GAAQ,GAGlCgO,8BAA+B,SAAShO,EAAMkI,GACzCne,EAAEgkB,gBAAgB/N,KAElB/C,GAAW+C,GAAQ5D,GAAegF,IAAIpB,GACxCjW,EAAE+jB,oBAAoB9N,GAAQ5D,GAAegF,IAAIpB,GAExC/C,GAAW+C,GAAQ5D,GAAehN,IAAI4Q,KAC/CjW,EAAE+jB,oBAAoB9N,GAAQ5D,GAAehN,IAAI4Q,SAGflN,IAAhC/I,EAAE+jB,oBAAoB9N,KACxBjW,EAAE0jB,cAAczN,GAAQ,GACxBjW,EAAE2jB,qBAAqB1N,GAAQ,EAAIjW,EAAE0jB,cAAczN,GAChDjW,EAAE6jB,0BAA0B5N,GAAQ,MAEtCjW,EAAEyjB,eAAexN,GAAQ,EACzBjW,EAAEgkB,gBAAgB/N,IAAQ,EAE1BwC,GAAa,gBAAgBxC,EAAK/C,GAAW+C,GAC5CjW,EAAE+jB,oBAAoB9N,GACtBkI,GAAS,IACTtW,EAAUuC,OAAOC,KAAKC,KACtB,SAAS9E,GACR0N,GAAW+C,GAAQzQ,EACnB0P,YAUNgP,oBAAqB,SAASjO,GACzBjW,EAAEgkB,gBAAgB/N,KACrBjW,EAAE4jB,uBAAuB3N,GAAQjW,EAAE4jB,uBAAuB3N,IAASjW,EAAE0jB,cAAczN,GAC5EjW,EAAE2jB,qBAAqB1N,GACvBjW,EAAE2jB,qBAAqB1N,GAAQjW,EAAEmkB,SAAW,IAEnDnkB,EAAE6jB,0BAA0B5N,GAAQzL,KAAK6S,IAAIrd,EAAEyjB,eAAexN,GAAQjW,EAAE4jB,uBAAuB3N,IAC/FjW,EAAE8jB,eAAe7N,GAAQjW,EAAEyjB,eAAexN,GAAQjW,EAAE4jB,uBAAuB3N,GAAQjW,EAAEmkB,SACrFjR,GAAW+C,IAASjW,EAAE8jB,eAAe7N,KAKvCmO,YAAa,WACZ,GAAKhM,GAAYiM,UAChBjM,GAAYiM,QAAQ9Y,IAAMuF,EAAW9Q,EAAEokB,aAEvCpkB,EAAEse,IAAM7J,KACRzU,EAAEmkB,SAAWnkB,EAAEse,IAAMte,EAAEskB,QACvBtkB,EAAEskB,QAAUtkB,EAAEse,IAEdte,EAAEkkB,oBAAoB,KACtBlkB,EAAEkkB,oBAAoB,KAEtBhP,KAEAlV,EAAEikB,8BAA8B,KAChCjkB,EAAEikB,8BAA8B,KAG5BjkB,EAAE6jB,0BAA0B9Q,EAAI,KAAQ/S,EAAE6jB,0BAA0B7Q,EAAI,KAQ3E,OALAE,GAAWH,EAAIvI,KAAKsL,MAAM5C,GAAWH,GACrCG,GAAWF,EAAIxI,KAAKsL,MAAM5C,GAAWF,GACrCkC,UAEAoD,GAAe,aAOnB,OAAOtY,GAGRmjB,GAAsB,SAASoB,GAU9B,GARAA,EAASxB,oBAAoB,KAE7B1Q,GAAiBlP,EAAK6R,SAAS4B,OAE/B2N,EAASR,oBAAsB,GAC/BQ,EAASP,gBAAkB,GAGxBxZ,KAAK6S,IAAIkH,EAASd,eAAe1Q,IAAM,KAAQvI,KAAK6S,IAAIkH,EAASd,eAAezQ,IAAM,IAMxF,OALAuR,EAASV,0BAA0B9Q,EAAIwR,EAASV,0BAA0B7Q,EAAI,EAG9EuR,EAASN,8BAA8B,KACvCM,EAASN,8BAA8B,MAChC,EAIR1L,GAAwB,WACxBgM,EAASD,QAAU7P,KACnB8P,EAASH,eAIVlB,GAAgC,SAASR,EAAalR,GACrD,IAAIgT,EAOAC,EAmBAC,EAjBJ,GARInS,KACHsM,GAAuBpP,GAOL,UAAhBiT,EAAyB,CAC3B,IAAIiC,EAAiBpG,GAAWxL,EAAIyL,GAAYzL,EAC/C6R,EAAkBpT,EAAiBgS,cAAczQ,EAAI,GAInD4R,EA/7BmB,KAg8BpBC,GAAmBpT,EAAiB+R,gBAAgBxQ,EAAI,IAEzD0R,GAAa,EACJE,GAn8BY,KAo8BpBC,GAAmBpT,EAAiB+R,gBAAgBxQ,GAAK,MAE1D0R,EAAY,GAMXA,KAEFhV,GAAqBgV,GAEE,GACtBhV,EAAoB9B,EAASK,KAAOiG,KAAe,EAAI,EACvDyQ,GAAa,GACJjV,GAAqBwE,OAC9BxE,EAAoB9B,EAASK,KAAO,EAAIiG,KAAe,EACvDyQ,GAAa,GAGVA,IAAc/W,EAASK,OAC1BuF,IAAckR,EACdrR,IAAsBqR,EACtBD,GAAc,IAOhB,IAEIK,EAFAC,EAAaxR,GAAWP,EAAIK,GAC5B2R,EAAgBva,KAAK6S,IAAKyH,EAAa/O,GAAehD,GA2C1D,OAvCIyR,GAAeM,EAAa/O,GAAehD,GAAMvB,EAAiBiS,eAAe1Q,EAAI,GAIxF8R,EAAqBra,KAAK6S,IAAI7L,EAAiBiS,eAAe1Q,GAAK,EAC7DgS,EAAgBva,KAAK6S,IAAI7L,EAAiBiS,eAAe1Q,GACzD,IAEN8R,EAAqBra,KAAK6M,IAAIwN,EAAoB,KAClDA,EAAqBra,KAAKnF,IAAIwf,EAAoB,MAPlDA,EAAqB,IAUnBhG,KAAyBpP,IAC3B+U,GAAc,GAGfjS,IAAuB,EAEvB6B,GAAO,uBAEPqE,GAAa,aAAc1C,GAAehD,EAAG+R,EAAYD,EAAoBhd,EAAUuC,OAAOS,MAAMP,IACnGoL,IACA,WACC8C,KACAjG,IAAuB,EACvBsM,IAAwB,GAErB2F,GAAe3F,KAAyBpP,IAC1CtM,EAAK0Y,iBAGNzH,GAAO,6BAINoQ,GACFrhB,EAAK0Y,gBAAe,GAGd2I,GAGR5C,GAAsB,SAASoD,GAC9B,OAAQ,EAAI5S,EAAuB4S,EAAkBhV,GAItDoT,GAAuB,WACtB,IAAIhM,EAAgBrH,EACnB+R,EAAehL,KACfiL,EAAehL,KAEXhH,EAAiB+R,EACrB1K,EAAgB0K,EACL/R,EAAiBgS,IAC5B3K,EAAgB2K,GAGjB,IACClJ,EACAoM,EAAiBtS,GAElB,OAAGD,KAAoBjB,IAAiBmB,IAAuB7C,EAAiB+R,GAE/E3e,EAAK4Y,SACE,IAGLrJ,KACFmG,EAAW,SAASyF,GACnB5J,IAZgB,EAYiBuQ,GAAkB3G,EAAM2G,KAI3D9hB,EAAK8a,OAAO7G,EAAe,EAAG,IAAMvP,EAAUuC,OAAOS,MAAMP,IAAKuO,IACzD,IAITjF,GAAgB,WAAY,CAC3BC,cAAe,CAEdqR,aAAc,WAGb,IAAIC,EAAgB,SAASC,EAAMC,EAAMC,EAAMC,EAAIC,GAClDjV,EAAkB6U,EAAOC,EACzB7U,EAAiB4U,EAAOE,EACxB7U,EAAgB2U,EAAOG,EAEtB7U,EADE8U,EACiBJ,EAAOI,EAEP,KAIrB5U,EAAuBQ,EAAU1F,eACN0F,EAAU/F,QAEpC+F,EAAU/F,OAAQ,GAGhBuF,EACCjF,UAAUC,iBAEZuZ,EAAc,YAAa,OAAQ,OAAQ,KAAM,UAEjDA,EAAc,UAAW,OAAQ,OAAQ,KAAM,UAEvC/T,EAAU/F,OACnB8Z,EAAc,QAAS,QAAS,OAAQ,MAAO,UAC/CtU,GAAqB,GAErBsU,EAAc,QAAS,OAAQ,OAAQ,MAGxCvV,EAAgBY,EAAiB,IAAMC,EAAiB,IAAOC,EAC/Db,EAAcU,EAEXK,IAAyBC,IAC3BA,EAAsBlF,UAAU8Z,eAAiB,GAAO9Z,UAAU+Z,iBAAmB,GAGtFviB,EAAKwiB,kBAAoB9U,EAEzBf,EAAqBS,GAAmB0Q,GACxCnR,EAAqBU,GAAkBgR,GACvC1R,EAAqBW,GAAiB2R,GAEnC1R,IACFZ,EAAqBY,GAAoBZ,EAAqBW,IAI5DW,EAAU/F,QACZwE,GAAe,aACfD,GAAiB,qBACjBE,EAAqB8V,UAAY9V,EAAqBS,GACtDT,EAAqB+V,UAAY/V,EAAqBU,GACtDV,EAAqBgW,QAAUhW,EAAqBW,IAGjDI,IAEHlD,EAASC,gBAAiB,OAuB9B,IAAIsO,GAmLA6J,GAGHC,GACA7E,GAYG5F,GACHtH,GAnMA+H,GAAc,SAAS/M,EAAMgX,EAAK3b,EAAK4b,GAWtC,IAAIC,EATDjK,IACF9O,aAAa8O,IAGdiF,IAAsB,EACtB6E,IAAqB,EAKlB/W,EAAKmX,eACPD,EAAclX,EAAKmX,cACnBnX,EAAKmX,cAAgB,MAErBD,EAAcxY,EAAS0Y,kBAAoB1Y,EAAS0Y,iBAAiB5W,GAGtE,IA8CK6W,EACHC,EA/CEC,EAAWlc,EAAMqD,EAASU,sBAAwBV,EAASW,sBAE3DwK,EAAa,WAChBR,GAAe,eACXhO,GAQHnH,EAAKuE,SAAS+e,gBAAgB,SAC9BtjB,EAAKyR,GAAG6R,gBAAgB,WARxB/R,GAAgB,GACbuR,IACFA,EAAIjb,MAAMkP,QAAU,SAErBrS,EAAUwB,SAAS3B,EAAU,qBAC7B0M,GAAO,eAAiB9J,EAAM,SAAW,WAMvC4b,GACFA,IAED/E,IAAsB,GAIvB,IAAIqF,IAAaL,QAAiCpd,IAAlBod,EAAYpT,EAmB3C,OAjBAqB,GAAO,eAAiB9J,EAAM,MAAQ,OAEtCyF,EAAiBd,EAAKC,iBACtBkH,GAAgBlD,GAAajE,EAAKsG,iBAClCL,KAEAxN,EAASsD,MAAM2J,QAAUrK,EAAM,EAAI,EACnCoK,GAAgB,QAEb8R,EACFrZ,YAAW,WACV2L,MACE0N,GAEH1N,KAOGwN,EAAe9W,EAClB+W,GAAkBpjB,EAAK6R,SAASpP,KAAOzC,EAAK6R,SAAS0R,WAAa/Y,EAASY,gBAGzEU,EAAK0X,UACP1X,EAAK0X,QAAQ3b,MAAM4b,yBAA2B,UAG3Ctc,IACHyF,EAAiBoW,EAAYnP,EAAI/H,EAAK+H,EACtC9D,GAAWH,EAAIoT,EAAYpT,EAC3BG,GAAWF,EAAImT,EAAYnT,EAAI/B,EAE/B9N,EAAKojB,EAAiB,WAAa,MAAMvb,MAAM2J,QAAU,KACzDO,MAGDqD,GAAwB,eAErBjO,IAAQgc,GACVze,EAAUqB,YAAYxB,EAAU,qBAG9B6e,IACCjc,EACFzC,GAAYye,EAAe,SAAW,OAAS,SAAU5e,EAAU,yBAEnEyF,YAAW,WACVtF,EAAUwB,SAAS3B,EAAU,2BAC3B,KAILwU,GAAqB/O,YAAW,WAK/B,GAHAiH,GAAO,eAAiB9J,EAAM,MAAQ,OAGlCA,EAmBG,CAGN,IAAI8M,EAAgB+O,EAAYnP,EAAI/H,EAAK+H,EACxCqH,EAAmB,CAClBtL,EAAGG,GAAWH,EACdC,EAAGE,GAAWF,GAEf9D,EAAmBa,EACnB8W,EAAkBlU,GAClBkG,EAAW,SAASyF,GAER,IAARA,GACFvO,EAAiBqH,EACjBlE,GAAWH,EAAIoT,EAAYpT,EAC3BG,GAAWF,EAAImT,EAAYnT,EAAK7B,IAEhCpB,GAAkBqH,EAAgBlI,GAAoBoP,EAAMpP,EAC5DgE,GAAWH,GAAKoT,EAAYpT,EAAIsL,EAAiBtL,GAAKuL,EAAMD,EAAiBtL,EAC7EG,GAAWF,GAAKmT,EAAYnT,EAAI7B,EAAwBkN,EAAiBrL,GAAKsL,EAAMD,EAAiBrL,GAGtGkC,KACGqR,EACF7e,EAASsD,MAAM2J,QAAU,EAAI2J,EAE7B5J,GAAiBmS,EAAkBvI,EAAMuI,IAIzCP,EACF7N,GAAa,cAAe,EAAG,EAAG+N,EAAU3e,EAAUuC,OAAOS,MAAMP,IAAKuO,EAAUC,IAElFD,EAAS,GACTqD,GAAqB/O,WAAW2L,EAAY0N,EAAW,UA9CxDzW,EAAiBd,EAAKC,iBACtBkH,GAAgBlD,GAAajE,EAAKsG,iBAClCL,KACAR,GAAgB,GAEb6R,EACF7e,EAASsD,MAAM2J,QAAU,EAEzBD,GAAgB,GAGjBwH,GAAqB/O,WAAW2L,EAAY0N,EAAW,MAuCtDlc,EAAM,GAAK,KAmBhBwc,GAAmB,GACnBC,GAAsB,GAGtBC,GAA4B,CAC3BjT,MAAO,EACPkT,SAAU,wGACVC,yBAAyB,EACzBC,QAAS,CAAC,EAAE,GACZC,cAAe,WACd,OAAOrB,GAAO9iB,SAmChB4T,GAAqB,SAAS5H,EAAMkK,EAAcjD,GAEjD,GAAIjH,EAAKrJ,MAAQqJ,EAAKyX,UAAW,CAChC,IAAIW,GAAanR,EAcjB,GAZGmR,IACEpY,EAAKqY,OACRrY,EAAKqY,KAAO,CAAC5M,IAAI,EAAE6M,OAAO,IAG3BnT,GAAO,sBAAuBnF,IAI/B6X,GAAiB/T,EAAIoG,EAAapG,EAClC+T,GAAiB9T,EAAImG,EAAanG,EAAI/D,EAAKqY,KAAK5M,IAAMzL,EAAKqY,KAAKC,OAE5DF,EAAW,CACd,IAAIG,EAASV,GAAiB/T,EAAI9D,EAAK+H,EACnCyQ,EAASX,GAAiB9T,EAAI/D,EAAKsL,EAEvCtL,EAAKgG,SAAWuS,EAASC,EAASD,EAASC,EAG3C,IAAIpY,EAAY1B,EAAS0B,UAEP,SAAdA,EACH6G,EAAY,EACY,QAAd7G,IACV6G,EAAYjH,EAAKgG,UAGdiB,EAAY,IACfA,EAAY,GAGbjH,EAAKC,iBAAmBgH,EAEpBjH,EAAK2H,SAER3H,EAAK2H,OAlED,CACNmG,OAAO,CAAChK,EAAE,EAAEC,EAAE,GACd3N,IAAI,CAAC0N,EAAE,EAAEC,EAAE,GACXqE,IAAI,CAACtE,EAAE,EAAEC,EAAE,KAmEX,IAAIkD,EACH,OASD,OA1E8B,SAASjH,EAAMyY,EAAiBC,GAC/D,IAAI/Q,EAAS3H,EAAK2H,OAGlBA,EAAOmG,OAAOhK,EAAIvI,KAAKsL,OAAOgR,GAAiB/T,EAAI2U,GAAmB,GACtE9Q,EAAOmG,OAAO/J,EAAIxI,KAAKsL,OAAOgR,GAAiB9T,EAAI2U,GAAmB,GAAK1Y,EAAKqY,KAAK5M,IAGrF9D,EAAOvR,IAAI0N,EAAK2U,EAAkBZ,GAAiB/T,EAC9CvI,KAAKsL,MAAMgR,GAAiB/T,EAAI2U,GAChC9Q,EAAOmG,OAAOhK,EAEnB6D,EAAOvR,IAAI2N,EAAK2U,EAAkBb,GAAiB9T,EAC9CxI,KAAKsL,MAAMgR,GAAiB9T,EAAI2U,GAAmB1Y,EAAKqY,KAAK5M,IAC7D9D,EAAOmG,OAAO/J,EAGnB4D,EAAOS,IAAItE,EAAK2U,EAAkBZ,GAAiB/T,EAAK,EAAI6D,EAAOmG,OAAOhK,EAC1E6D,EAAOS,IAAIrE,EAAK2U,EAAkBb,GAAiB9T,EAAK/D,EAAKqY,KAAK5M,IAAM9D,EAAOmG,OAAO/J,EAkDrF4U,CAA8B3Y,EAAMA,EAAK+H,EAAId,EAAWjH,EAAKsL,EAAIrE,GAE7DmR,GAAanR,IAAcjH,EAAKC,mBACnCD,EAAKsG,gBAAkBtG,EAAK2H,OAAOmG,QAG7B9N,EAAK2H,OAQZ,OANA3H,EAAK+H,EAAI/H,EAAKsL,EAAI,EAClBtL,EAAKC,iBAAmBD,EAAKgG,SAAW,EACxChG,EAAK2H,OApFC,CACNmG,OAAO,CAAChK,EAAE,EAAEC,EAAE,GACd3N,IAAI,CAAC0N,EAAE,EAAEC,EAAE,GACXqE,IAAI,CAACtE,EAAE,EAAEC,EAAE,IAkFX/D,EAAKsG,gBAAkBtG,EAAK2H,OAAOmG,OAG5B9N,EAAK2H,QAQdiR,GAAe,SAAS9T,EAAO9E,EAAM6Y,EAAS7B,EAAK8B,EAAkBC,GAGjE/Y,EAAKyX,WAILT,IAEFhX,EAAKgZ,eAAgB,EACrB7S,GAAcnG,EAAMgX,EAAMhX,IAAS9L,EAAK6R,UAAYrB,IAEpDmU,EAAQI,YAAYjC,GAEjB+B,GACF7a,YAAW,WACP8B,GAAQA,EAAKkZ,QAAUlZ,EAAKmZ,cAC9BnZ,EAAKmZ,YAAYpd,MAAMkP,QAAU,OACjCjL,EAAKmZ,YAAc,QAElB,OAONC,GAAgB,SAASpZ,GACxBA,EAAKqZ,SAAU,EACfrZ,EAAKkZ,QAAS,EACd,IAAIlC,EAAMhX,EAAKgX,IAAMpe,EAAUO,SAAS,YAAa,OACjD0Q,EAAa,WAChB7J,EAAKqZ,SAAU,EACfrZ,EAAKkZ,QAAS,EAEXlZ,EAAKsZ,aACPtZ,EAAKsZ,aAAatZ,GAElBA,EAAKgX,IAAM,KAEZA,EAAIuC,OAASvC,EAAIwC,QAAU,KAC3BxC,EAAM,MAUP,OARAA,EAAIuC,OAAS1P,EACbmN,EAAIwC,QAAU,WACbxZ,EAAKyX,WAAY,EACjB5N,KAGDmN,EAAIrgB,IAAMqJ,EAAKrJ,IAERqgB,GAERyC,GAAiB,SAASzZ,EAAM0Z,GAC/B,GAAG1Z,EAAKrJ,KAAOqJ,EAAKyX,WAAazX,EAAKqG,UAOrC,OALGqT,IACF1Z,EAAKqG,UAAUsT,UAAY,IAG5B3Z,EAAKqG,UAAUsT,UAAYjb,EAASsZ,SAASzkB,QAAQ,QAAUyM,EAAKrJ,MAC7D,GAITwP,GAAgB,SAASnG,EAAMgX,EAAK4C,GACnC,GAAI5Z,EAAKrJ,IAAT,CAIIqgB,IACHA,EAAMhX,EAAKqG,UAAUwT,WAGtB,IAAI9R,EAAI6R,EAAS5Z,EAAK+H,EAAIxM,KAAKsL,MAAM7G,EAAK+H,EAAI/H,EAAKgG,UAClDsF,EAAIsO,EAAS5Z,EAAKsL,EAAI/P,KAAKsL,MAAM7G,EAAKsL,EAAItL,EAAKgG,UAE7ChG,EAAKmZ,cAAgBnZ,EAAKkZ,SAC5BlZ,EAAKmZ,YAAYpd,MAAMwP,MAAQxD,EAAI,KACnC/H,EAAKmZ,YAAYpd,MAAMyP,OAASF,EAAI,MAGrC0L,EAAIjb,MAAMwP,MAAQxD,EAAI,KACtBiP,EAAIjb,MAAMyP,OAASF,EAAI,OAExBwO,GAAoB,WAEnB,GAAGhC,GAAoB9jB,OAAQ,CAG9B,IAFA,IAAI+lB,EAEI/qB,EAAI,EAAGA,EAAI8oB,GAAoB9jB,OAAQhF,KAC9C+qB,EAAWjC,GAAoB9oB,IAClB6f,OAAO/J,QAAUiV,EAASjV,OACtC8T,GAAamB,EAASjV,MAAOiV,EAAS/Z,KAAM+Z,EAASlB,QAASkB,EAAS/C,IAAK,EAAO+C,EAASC,kBAG9FlC,GAAsB,KAMzBnT,GAAgB,aAAc,CAE7BC,cAAe,CAEdqV,aAAc,SAASnV,GACtBA,EAAQD,GAAaC,GACrB,IAAI9E,EAAOsM,GAAWxH,GAElB9E,KAAUA,EAAKkZ,SAAUlZ,EAAKqZ,SAAalY,KAI/CgE,GAAO,cAAeL,EAAO9E,GAExBA,EAAKrJ,KAIVyiB,GAAcpZ,KAEfka,eAAgB,WACfthB,EAAUkC,OAAO4D,EAAUqZ,IAA2B,GACtD7jB,EAAKyE,MAAQme,GAASne,EACtB2T,GAAapY,EAAKimB,UAClBnV,GAAetG,EAASyZ,cAIPzZ,EAASK,KACvBiG,KAAiB,IACnBtG,EAASK,MAAO,GAGjBmG,GAAQ,gBAAgB,SAASsI,GAEhC,IAICxe,EAJG8B,EAAI4N,EAASwZ,QAChBkC,EAAkB,OAAT5M,GAAwBA,GAAQ,EACzC6M,EAAgB9e,KAAK6M,IAAItX,EAAE,GAAIkU,MAC/BsV,EAAe/e,KAAK6M,IAAItX,EAAE,GAAIkU,MAI/B,IAAIhW,EAAI,EAAGA,IAAMorB,EAASE,EAAeD,GAAgBrrB,IACxDkF,EAAK+lB,aAAazZ,EAAkBxR,GAErC,IAAIA,EAAI,EAAGA,IAAMorB,EAASC,EAAgBC,GAAetrB,IACxDkF,EAAK+lB,aAAazZ,EAAkBxR,MAItCkW,GAAQ,iBAAiB,WACxBhR,EAAK6R,SAASoR,cAAgBzY,EAAS0Y,kBAAoB1Y,EAAS0Y,iBAAiB5W,MAGtF0E,GAAQ,yBAA0B4U,IAClC5U,GAAQ,mBAAoB4U,IAI5B5U,GAAQ,WAAW,WAElB,IADA,IAAIlF,EACIhR,EAAI,EAAGA,EAAI8nB,GAAO9iB,OAAQhF,KACjCgR,EAAO8W,GAAO9nB,IAENqX,YACPrG,EAAKqG,UAAY,MAEfrG,EAAKmZ,cACPnZ,EAAKmZ,YAAc,MAEjBnZ,EAAKgX,MACPhX,EAAKgX,IAAM,MAEThX,EAAKua,YACPva,EAAKua,UAAY,MAEfva,EAAKyX,YACPzX,EAAKkZ,OAASlZ,EAAKyX,WAAY,GAGjCK,GAAsB,SAKxBqC,UAAW,SAASrV,GACnB,OAAIA,GAAS,QACahL,IAAlBgd,GAAOhS,IAAuBgS,GAAOhS,IAK9C0V,oBAAqB,WAWpB,OAAO9b,EAASuZ,0BAA4BrW,GAAsBlD,EAASI,WAAa2b,OAAOlP,MAAQ,MAIxGoB,WAAY,SAASkC,EAAQ/J,GAEzBpG,EAASK,OACX+F,EAAQD,GAAaC,IAGtB,IAAI0J,EAAWta,EAAKimB,UAAUtL,EAAO/J,OAClC0J,IACFA,EAASnI,UAAY,MAGtB,IACC2Q,EADGhX,EAAO9L,EAAKimB,UAAUrV,GAG1B,GAAI9E,EAAJ,CAMAmF,GAAO,cAAeL,EAAO9E,GAE7B6O,EAAO/J,MAAQA,EACf+J,EAAO7O,KAAOA,EAGd,IAAI6Y,EAAU7Y,EAAKqG,UAAYzN,EAAUO,SAAS,mBAgBlD,IAZI6G,EAAKrJ,KAAOqJ,EAAK0a,OACjB1a,EAAK0a,KAAK7a,QACZgZ,EAAQI,YAAYjZ,EAAK0a,MAEzB7B,EAAQc,UAAY3Z,EAAK0a,MAI3BjB,GAAezZ,GAEf4H,GAAmB5H,EAAMkE,KAEtBlE,EAAKrJ,KAAQqJ,EAAKyX,WAAczX,EAAKkZ,OA0F9BlZ,EAAKrJ,MAAQqJ,EAAKyX,aAE3BT,EAAMpe,EAAUO,SAAS,YAAa,QAClC4C,MAAM2J,QAAU,EACpBsR,EAAIrgB,IAAMqJ,EAAKrJ,IACfwP,GAAcnG,EAAMgX,GACpB4B,GAAa9T,EAAO9E,EAAM6Y,EAAS7B,QAhGY,CAkD/C,GAhDAhX,EAAKsZ,aAAe,SAAStZ,GAG5B,GAAIK,EAAJ,CAKA,GAAGwO,GAAUA,EAAO/J,QAAUA,EAAQ,CACrC,GAAI2U,GAAezZ,GAAM,GASxB,OARAA,EAAKsZ,aAAetZ,EAAKgX,IAAM,KAC/BpP,GAAmB5H,EAAMkE,IACzBkC,GAAoBpG,QAEjB6O,EAAO/J,QAAUtE,GAEnBtM,EAAKyZ,sBAIF3N,EAAKgZ,eAeL9G,IAAuBlS,EAAKmZ,cAC/BnZ,EAAKmZ,YAAYpd,MAAMkP,QAAU,OACjCjL,EAAKmZ,YAAc,MAhBjBhX,EAAUyI,YAActH,IAAwB4O,IAClD4F,GAAoBtjB,KAAK,CACxBwL,KAAKA,EACL6Y,QAAQA,EACR7B,IAAIhX,EAAKgX,IACTlS,MAAMA,EACN+J,OAAOA,EACPmL,kBAAiB,IAGlBpB,GAAa9T,EAAO9E,EAAM6Y,EAAS7Y,EAAKgX,IAAK1T,GAA6C,GAW7FtD,EAAKsZ,aAAe,KACpBtZ,EAAKgX,IAAM,KAEX7R,GAAO,oBAAqBL,EAAO9E,KAGjCpH,EAAUC,SAAS+R,UAAW,CAEhC,IAAI+P,EAAuB,mCAC3BA,GAAyB3a,EAAK4a,KAAO,GAAK,iCAE1C,IAAIzB,EAAcvgB,EAAUO,SAASwhB,EAAsB3a,EAAK4a,KAAO,MAAQ,IAC5E5a,EAAK4a,OACPzB,EAAYxiB,IAAMqJ,EAAK4a,MAGxBzU,GAAcnG,EAAMmZ,GAEpBN,EAAQI,YAAYE,GACpBnZ,EAAKmZ,YAAcA,EAOhBnZ,EAAKqZ,SACRD,GAAcpZ,GAIX9L,EAAKsmB,yBAEJzD,IAAsB5U,EAAUyI,UACnCkN,GAAoBtjB,KAAK,CACxBwL,KAAKA,EACL6Y,QAAQA,EACR7B,IAAIhX,EAAKgX,IACTlS,MAAMA,EACN+J,OAAOA,IAGR+J,GAAa9T,EAAO9E,EAAM6Y,EAAS7Y,EAAKgX,IAAK,GAAM,IAclDD,IAAsBjS,IAAUtE,EAInC4F,GAAoBpG,IAHpBqD,GAAwBwV,EAAQ9c,MAChCgR,GAAY/M,EAAOgX,GAAMhX,EAAKgX,MAK/BnI,EAAOvV,GAAGqgB,UAAY,GACtB9K,EAAOvV,GAAG2f,YAAYJ,QAvIrBhK,EAAOvV,GAAGqgB,UAAY,IA0IxB5K,WAAY,SAAU/O,GAClBA,EAAKgX,MACPhX,EAAKgX,IAAIuC,OAASvZ,EAAKgX,IAAIwC,QAAU,MAEtCxZ,EAAKkZ,OAASlZ,EAAKqZ,QAAUrZ,EAAKgX,IAAMhX,EAAKgZ,eAAgB,MAgBhE,IAAI6B,GAsFAC,GArFHC,GAAkB,GAClBC,GAAoB,SAASC,EAAW7H,EAAcI,GACrD,IAAIlL,EAAI/O,SAAS2hB,YAAa,eAC7BC,EAAU,CACTF,UAAUA,EACVniB,OAAOmiB,EAAUniB,OACjBsa,aAAcA,EACdI,YAAYA,GAAe,SAG7BlL,EAAE8S,gBAAiB,WAAW,GAAM,EAAMD,GAC1CF,EAAUniB,OAAOuiB,cAAc/S,IAGjC3D,GAAgB,MAAO,CACtBC,cAAe,CACd0W,QAAS,WACRpW,GAAQ,kBAAmBhR,EAAKqnB,YAChCrW,GAAQ,eAAgBhR,EAAKsnB,cAC7BtW,GAAQ,WAAW,WAClB6V,GAAkB,GAClBF,GAAW,SAGbU,WAAY,SAAS7H,GACjBA,EAAU1f,OAAS,IACrBmK,aAAa0c,IACbA,GAAW,OAGbW,aAAc,SAASlT,EAAG8K,GAjyDT,IAASqI,EAAQC,EAkyDjC,GAAItI,IAIAtQ,IAAWF,IAAkBwG,GAAgB,CAChD,IAAIuS,EAAKvI,EACT,GAAGyH,KACF1c,aAAa0c,IACbA,GAAW,KA1yDYY,EA6yDFE,EA7yDUD,EA6yDNX,GA5yDrBxf,KAAK6S,IAAIqN,EAAO3X,EAAI4X,EAAO5X,GAzkCZ,IAykCsCvI,KAAK6S,IAAIqN,EAAO1X,EAAI2X,EAAO3X,GAzkCjE,IAu3FlB,YADAoB,GAAO,YAAawW,GAKtB,GAAyB,UAAtBvI,EAAa3b,KAEf,YADAujB,GAAkB1S,EAAG8K,EAAc,SAMpC,GAAsB,WAFD9K,EAAExP,OAAO+G,QAAQrH,eAEJI,EAAUyB,SAASiO,EAAExP,OAAQ,oBAE9D,YADAkiB,GAAkB1S,EAAG8K,GAItBjM,GAAgB4T,GAAiBY,GAEjCd,GAAW3c,YAAW,WACrB8c,GAAkB1S,EAAG8K,GACrByH,GAAW,OACT,UAsBPlW,GAAgB,cAAe,CAE9BC,cAAe,CAEdgX,gBAAiB,WAEb3Z,IAKAL,EAGFsD,GAAQ,aAAa,WACpBhR,EAAK2nB,sBAGN3nB,EAAK2nB,kBAAiB,KAKxBA,iBAAkB,SAASC,GAE1BhB,GAAc,GAEd,IAAIiB,EAAS,kCAEb7W,GAAQ,cAAc,WACrBtM,EAAUpI,KAAKiI,EAAUsjB,EAAS7nB,EAAK8nB,qBAGxC9W,GAAQ,gBAAgB,WACpB4V,IACFliB,EAAUI,OAAOP,EAAUsjB,EAAQ7nB,EAAK8nB,qBAI1C9nB,EAAK+nB,eAAgB,EAErB,IAAIC,EACHC,EAAiB,WACbjoB,EAAK+nB,gBACPrjB,EAAUqB,YAAYxB,EAAU,mBAChCvE,EAAK+nB,eAAgB,GAEnBnb,EAAiB,EACnBlI,EAAUwB,SAAS3B,EAAU,sBAE7BG,EAAUqB,YAAYxB,EAAU,sBAEjC2jB,KAEDA,EAAsB,WAClBF,IACFtjB,EAAUqB,YAAYxB,EAAU,kBAChCyjB,GAAmB,IAItBhX,GAAQ,SAAWiX,GACnBjX,GAAQ,cAAgBiX,GACxBjX,GAAQ,eAAe,WACnBhR,EAAK+nB,gBACPC,GAAmB,EACnBtjB,EAAUwB,SAAS3B,EAAU,sBAG/ByM,GAAQ,YAAakX,GAEjBN,GACHK,KAKFH,iBAAkB,SAAS1T,GAE1B,GAAGxH,GAAkB5M,EAAK6R,SAASC,SAalC,OAZItH,EAASyB,SAEPzB,EAASO,eAAiBmK,IAAkBzG,EAChD2F,EAAEO,iBACOnH,GAAiBnG,KAAK6S,IAAI9F,EAAE+T,QAAU,IAG/C9b,GAAkB,EAClBrM,EAAK4Y,WAIA,EASR,GALAxE,EAAEU,kBAGF8R,GAAYhX,EAAI,EAEb,WAAYwE,EACK,IAAhBA,EAAEgU,WAEJxB,GAAYhX,EAAe,GAAXwE,EAAEiU,OAClBzB,GAAY/W,EAAe,GAAXuE,EAAE+T,SAElBvB,GAAYhX,EAAIwE,EAAEiU,OAClBzB,GAAY/W,EAAIuE,EAAE+T,aAEb,GAAG,eAAgB/T,EACtBA,EAAEkU,cACJ1B,GAAYhX,GAAK,IAAOwE,EAAEkU,aAExBlU,EAAEmU,YACJ3B,GAAY/W,GAAK,IAAOuE,EAAEmU,YAE1B3B,GAAY/W,GAAK,IAAOuE,EAAEoU,eAErB,MAAG,WAAYpU,GAGrB,OAFAwS,GAAY/W,EAAIuE,EAAEqU,OAKnBlV,GAAoB3G,GAAgB,GAEpC,IAAI8b,EAAU3Y,GAAWH,EAAIgX,GAAYhX,EACxC+Y,EAAU5Y,GAAWF,EAAI+W,GAAY/W,GAGlCrF,EAASyB,OAEZyc,GAAWxZ,GAAegF,IAAItE,GAAK8Y,GAAWxZ,GAAehN,IAAI0N,GACjE+Y,GAAWzZ,GAAegF,IAAIrE,GAAK8Y,GAAWzZ,GAAehN,IAAI2N,IAEjEuE,EAAEO,iBAIH3U,EAAKkZ,MAAMwP,EAASC,IAGrBC,kBAAmB,SAAS7N,GAC3BA,EAAcA,GAAe,CAACnL,EAAEI,GAAcJ,EAAE,EAAIM,GAAQN,EAAGC,EAAEG,GAAcH,EAAE,EAAIK,GAAQL,GAE7F,IAAIgZ,EAAqBre,EAASoB,kBAAiB,EAAM5L,EAAK6R,UAC1DiX,EAAUlc,IAAmBic,EAEjC7oB,EAAK+nB,eAAiBe,EAEtB9oB,EAAK8a,OAAOgO,EAAU9oB,EAAK6R,SAAS9F,iBAAmB8c,EAAoB9N,EAAa,KACxFrW,GAAaokB,EAAkB,SAAR,OAAoB,SAASvkB,EAAU,uBAwBjE,IAKIwkB,GACHC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEAC,GAjBGC,GAAyB,CAC5BC,SAAS,EACTC,WAAY,GAiBZC,GAAW,WACV,OAAOL,GAAWM,KAAKC,UAAU,IAElCC,GAAwB,WAEpBlB,IACF9e,aAAa8e,IAGXE,IACFhf,aAAagf,KAMfiB,GAAyB,WACxB,IAAIH,EAAOD,KACVK,EAAS,GAEV,GAAGJ,EAAKjqB,OAAS,EAChB,OAAOqqB,EAGR,IAAIrvB,EAAGsvB,EAAOL,EAAK/kB,MAAM,KACzB,IAAKlK,EAAI,EAAGA,EAAIsvB,EAAKtqB,OAAQhF,IAC5B,GAAIsvB,EAAKtvB,GAAT,CAGA,IAAIuvB,EAAOD,EAAKtvB,GAAGkK,MAAM,KACtBqlB,EAAKvqB,OAAS,IAGjBqqB,EAAOE,EAAK,IAAMA,EAAK,IAExB,GAAG7f,EAAS8f,YAAa,CAExB,IAAIC,EAAYJ,EAAOK,IAEvB,IADAL,EAAOK,IAAM,EACT1vB,EAAI,EAAGA,EAAI8nB,GAAO9iB,OAAQhF,IAC7B,GAAG8nB,GAAO9nB,GAAG0vB,MAAQD,EAAW,CAC/BJ,EAAOK,IAAM1vB,EACb,YAIFqvB,EAAOK,IAAMxsB,SAASmsB,EAAOK,IAAI,IAAI,EAKtC,OAHIL,EAAOK,IAAM,IAChBL,EAAOK,IAAM,GAEPL,GAERM,GAAc,WAOb,GALGxB,IACFhf,aAAagf,IAIX/T,IAAkBzG,EAGpBwa,GAAwBjf,WAAWygB,GAAa,SAHjD,CAOGvB,GACFjf,aAAa+e,IAEbE,IAAuB,EAIxB,IAAIsB,EAAOle,EAAoB,EAC3BR,EAAOsM,GAAY9L,GACpBR,EAAKnP,eAAe,SAEtB6tB,EAAM1e,EAAK0e,KAEZ,IAAIE,EAAUrB,WAAgC7e,EAASqf,WAAzCR,QAAqEmB,EAE/ElB,KACsC,IAAtCG,GAAWM,KAAK3qB,QAAQsrB,KAC1BlB,IAAkB,GAKpB,IAAImB,EAASlB,GAAWmB,KAAK5lB,MAAM,KAAK,GAAK,IAAO0lB,EAEhDhB,GAEA,IAAMgB,IAAYhlB,OAAOmlB,SAASd,MACpCH,QAAQN,GAAkB,eAAiB,aAAa,GAAIjkB,SAASylB,MAAOH,GAI1ErB,GACFG,GAAWpqB,QAASsrB,GAEpBlB,GAAWM,KAAOW,EAMpBpB,IAAkB,EAClBN,GAAqBhf,YAAW,WAC/Bkf,IAAuB,IACrB,MAOLzY,GAAgB,UAAW,CAI1BC,cAAe,CACdqa,YAAa,WAIZ,GAFArmB,EAAUkC,OAAO4D,EAAUmf,IAAwB,GAE9Cnf,EAASof,QAAd,CAKAH,GAAa/jB,OAAOmlB,SACpBrB,IAAkB,EAClBD,IAAiB,EACjBD,IAAkB,EAClBD,GAAeS,KACfJ,GAAsB,cAAeE,QAGlCP,GAAajqB,QAAQ,SAAW,IAElCiqB,IADAA,GAAeA,GAAarkB,MAAM,SAAS,IACfA,MAAM,SAAS,IAI5CgM,GAAQ,cAAehR,EAAKgrB,WAC5Bha,GAAQ,gBAAgB,WACvBtM,EAAUI,OAAOY,OAAQ,aAAc1F,EAAKirB,iBAI7C,IAAIC,EAAmB,WACtB9B,IAAe,EACXG,KAEAC,GACFI,QAAQuB,OAGL9B,GACFI,GAAWM,KAAOV,GAEdK,GAGHE,QAAQwB,UAAU,GAAI/lB,SAASylB,MAAQrB,GAAW4B,SAAW5B,GAAW6B,QAExE7B,GAAWM,KAAO,IAOtBE,MAIDjZ,GAAQ,gBAAgB,WACpB3E,GAGF6e,OAGFla,GAAQ,WAAW,WACdoY,IACH8B,OAGFla,GAAQ,eAAe,WACtB1E,EAAoB4d,KAAyBM,OAM9C,IAAI5Z,EAAQyY,GAAajqB,QAAQ,QAC9BwR,GAAS,GAEmB,OAD9ByY,GAAeA,GAAaW,UAAU,EAAGpZ,IACzB3S,OAAO,KACtBorB,GAAeA,GAAaprB,MAAM,GAAI,IAKxC+L,YAAW,WACPmC,GACFzH,EAAUpI,KAAKoJ,OAAQ,aAAc1F,EAAKirB,gBAEzC,MAGJA,aAAc,WAEb,GAAGnB,OAAeT,GAIjB,OAFAE,IAAiB,OACjBvpB,EAAK4Y,QAGFsQ,KAEHC,IAAwB,EACxBnpB,EAAKqZ,KAAM6Q,KAAyBM,KACpCrB,IAAwB,IAI1B6B,UAAW,WAKVf,KAGGd,KAICG,GAGHP,GAAwB/e,WAAWygB,GAAa,KAFhDA,UAWH/lB,EAAUkC,OAAO5G,EAAM0Q,OA9oHR,mC,gBCLhB;;;4CAWgB,0BAAd,EAMO,WAER,aAs0BD,OAj0BC,SAAS6a,EAAM7mB,GAEf,IAGC8mB,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAhb,EAEAib,EACAC,EACAC,EAEAC,EAEA5hB,EAoDA6hB,EAmKAC,EACAC,EA7OGrU,EAAKzY,KACL+sB,GAAoB,EACvBC,GAAmB,EAQnBC,GAAoB,EAYpBC,EAAoB,CACnBC,SAAU,CAACrV,IAAI,GAAI6M,OAAO,QAC1ByI,eAAgB,CAAC,OAAQ,UAAW,YAAa,KAAM,WACvDC,WAAY,IACZC,kBAAmB,IACnBC,sBAAuB,IAEvBC,iBAAkB,SAASnhB,EAAMohB,GAChC,OAAIphB,EAAKgf,OAIToC,EAAUrW,SAAS,GAAG4O,UAAY3Z,EAAKgf,OAChC,IAJNoC,EAAUrW,SAAS,GAAG4O,UAAY,IAC3B,IAMT0H,SAAQ,EACRD,WAAW,EACXE,cAAc,EACdC,QAAQ,EACRC,SAAS,EACTC,WAAW,EACXC,SAAS,EACTC,aAAa,EAEbC,YAAY,EACZC,qBAAqB,EAErBC,yBAAyB,EAEzBC,aAAc,CACb,CAAC9jB,GAAG,WAAY+jB,MAAM,oBAAqB9pB,IAAI,wDAC/C,CAAC+F,GAAG,UAAW+jB,MAAM,QAAS9pB,IAAI,8DAClC,CAAC+F,GAAG,YAAa+jB,MAAM,SAAU9pB,IAAI,oGAErC,CAAC+F,GAAG,WAAY+jB,MAAM,iBAAkB9pB,IAAI,oBAAqB+pB,UAAS,IAE3EC,oBAAqB,WACpB,OAAOzC,EAAK1Z,SAASpP,KAAO,IAE7BwrB,mBAAoB,WACnB,OAAOvoB,OAAOmlB,SAASD,MAExBsD,gBAAiB,WAChB,OAAO3C,EAAK1Z,SAASiZ,OAAS,IAG/BqD,kBAAmB,MACnBC,iBAAkB,MAQhBC,EAAiB,SAASja,GAC5B,GAAGiY,EACF,OAAO,EAIRjY,EAAIA,GAAK1O,OAAO0T,MAEb5O,EAASsiB,YAActiB,EAASI,YAAcohB,GAEhDsC,IASD,IALA,IACCC,EAEAxsB,EADAysB,GAFYpa,EAAExP,QAAUwP,EAAEqa,YAEJtS,aAAa,UAAY,GAGxCrhB,EAAI,EAAGA,EAAI4zB,EAAY5uB,OAAQhF,KACtCyzB,EAAYG,EAAY5zB,IACX6zB,OAASH,EAAapvB,QAAQ,SAAWmvB,EAAUlzB,OAAU,IACzEkzB,EAAUI,QACV5sB,GAAQ,GAKV,GAAGA,EAAO,CACNqS,EAAEU,iBACJV,EAAEU,kBAEHuX,GAAoB,EAQpB,IAAIuC,EAAWlqB,EAAUC,SAASsE,aAAe,IAAM,GAC5Be,YAAW,WACrCqiB,GAAoB,IAClBuC,KAOLC,EAAmB,SAASzpB,EAAI0pB,EAAOC,GACtCrqB,GAAYqqB,EAAM,MAAQ,UAAY,SAAU3pB,EAAI,SAAW0pB,IAKhEE,EAAiB,WAChB,IAAIC,EAA4C,IAA7BzkB,EAASyZ,gBAEzBgL,IAAgB7C,IAClByC,EAAiBpD,EAAW,gBAAiBwD,GAC7C7C,EAAsB6C,IAGxBC,EAAyB,WACxBL,EAAiB/C,EAAa,sBAAuBY,IAEtDyC,EAAoB,WAwBnB,OAtBAzC,GAAqBA,IAWpBhoB,EAAUqB,YAAY+lB,EAAa,8BACnC9hB,YAAW,WACP0iB,GACFwC,MAEC,OAZHA,IACAllB,YAAW,WACN0iB,GACHhoB,EAAUwB,SAAS4lB,EAAa,gCAE/B,KAUAY,GACH0C,KAEM,GAGRC,EAAmB,SAASjb,GAE3B,IAAIxP,GADJwP,EAAIA,GAAK1O,OAAO0T,OACDxU,QAAUwP,EAAEqa,WAI3B,OAFAlD,EAAKzV,MAAM,iBAAkB1B,EAAGxP,MAE5BA,EAAOgmB,OAIPhmB,EAAO0qB,aAAa,cAIxB5pB,OAAO6pB,KAAK3qB,EAAOgmB,KAAM,aAAc,2FAE/BllB,OAAO6gB,OAASlf,KAAKsL,MAAM4T,OAAOlP,MAAQ,EAAI,KAAO,MAEzDqV,GACHyC,IAGM,KAERC,EAAmB,WAQlB,IAPA,IACCI,EAEAC,EACAC,EACAC,EALGC,EAAiB,GAOb90B,EAAI,EAAGA,EAAI0P,EAASqjB,aAAa/tB,OAAQhF,IAChD00B,EAAkBhlB,EAASqjB,aAAa/yB,GAExC20B,EAAYjlB,EAASwjB,oBAAoBwB,GACzCE,EAAWllB,EAASyjB,mBAAmBuB,GACvCG,EAAanlB,EAAS0jB,gBAAgBsB,GAOtCI,GAAkB,YALPJ,EAAgBxrB,IAAI3E,QAAQ,UAAWwwB,mBAAmBH,IAC/DrwB,QAAQ,gBAAiBwwB,mBAAmBJ,IAC5CpwB,QAAQ,oBAAqBowB,GAC7BpwB,QAAQ,WAAYwwB,mBAAmBF,IAE3B,yCACYH,EAAgBzlB,GAAK,KAC7CylB,EAAgBzB,SAAW,WAAa,IAAM,IAC/CyB,EAAgB1B,MAAQ,OAE1BtjB,EAASslB,sBACXF,EAAiBplB,EAASslB,oBAAoBN,EAAiBI,IAGjE9D,EAAYjV,SAAS,GAAG4O,UAAYmK,EACpC9D,EAAYjV,SAAS,GAAGkZ,QAAUV,GAGnCW,EAAiB,SAASprB,GACzB,IAAI,IAAK9J,EAAI,EAAGA,EAAI0P,EAASqiB,eAAe/sB,OAAQhF,IACnD,GAAI4J,EAAUyB,SAASvB,EAAQ,SAAW4F,EAASqiB,eAAe/xB,IACjE,OAAO,GAMVm1B,EAAiB,EACjB3B,EAAmB,WAClBrkB,aAAasiB,GACb0D,EAAiB,EACdjE,GACF9T,EAAGgY,SAAQ,IAGbC,EAAsB,SAAS/b,GAE9B,IAAIgc,GADJhc,EAAIA,GAAQ1O,OAAO0T,OACNiX,eAAiBjc,EAAEkc,UAC3BF,GAA0B,SAAlBA,EAAKG,WACjBtmB,aAAasiB,GACbA,EAAaviB,YAAW,WACvBkO,EAAGgY,SAAQ,KACT1lB,EAASuiB,qBAsDdyD,EAA0B,SAASC,GAC9BvE,IAA4BuE,IAC/B5B,EAAiB5C,EAAmB,qBAAsBwE,GAC1DvE,EAA0BuE,IAG5BC,EAAmB,SAAS5kB,GAC3B,IAAI6kB,EAAM7kB,EAAKqY,KAEf,IA9LQoH,EAAK/I,mBAAqBhY,EAASI,WAAa2b,OAAOlP,MAAQ7M,EAAS4jB,iBA8LjD,CAE9B,IAAIwC,EAAOpmB,EAASoiB,SACpB,GAAGpiB,EAAS0iB,WAA6B,SAAhB0D,EAAKxM,OAO7B,GANIuH,KACHA,EAAwBjnB,EAAUO,SAAS,sCACrB8f,YAAargB,EAAUO,SAAS,0BACtDwmB,EAAUoF,aAAalF,EAAuBD,GAC9ChnB,EAAUwB,SAASulB,EAAW,kBAE3BjhB,EAASyiB,iBAAiBnhB,EAAM6f,GAAuB,GAAQ,CAElE,IAAImF,EAAcnF,EAAsBjR,aACxCiW,EAAIvM,OAASpmB,SAAS8yB,EAAY,KAAO,QAEzCH,EAAIvM,OAASwM,EAAKrZ,SAGnBoZ,EAAIvM,OAAyB,SAAhBwM,EAAKxM,OAAoB,EAAIwM,EAAKxM,OAIhDuM,EAAIpZ,IAAMqZ,EAAKrZ,SAEfoZ,EAAIpZ,IAAMoZ,EAAIvM,OAAS,GAqDtBsK,EAAc,CACjB,CACCrzB,KAAM,UACN01B,OAAQ,YACRnJ,OAAQ,SAASxiB,GAChBsmB,EAAoBtmB,IAGtB,CACC/J,KAAM,cACN01B,OAAQ,UACRnJ,OAAQ,SAASxiB,GAChB0mB,EAAc1mB,GAEfupB,MAAO,WACNQ,MAGF,CACC9zB,KAAM,gBACN01B,OAAQ,UACRnJ,OAAQ,SAASxiB,GAChBymB,EAAezmB,GAEhBupB,MAAO,WACNQ,MAGF,CACC9zB,KAAM,eACN01B,OAAQ,SACRpC,MAAOpD,EAAK3C,mBAEb,CACCvtB,KAAM,UACN01B,OAAQ,YACRnJ,OAAQ,SAASxiB,GAChBwmB,EAAkBxmB,IAGpB,CACC/J,KAAM,gBACN01B,OAAQ,UACRpC,MAAOpD,EAAK3S,OAEb,CACCvd,KAAM,sBACN01B,OAAQ,UACRpC,MAAOpD,EAAK/R,MAEb,CACCne,KAAM,uBACN01B,OAAQ,UACRpC,MAAOpD,EAAKhS,MAEb,CACCle,KAAM,aACN01B,OAAQ,eACRpC,MAAO,WACHnD,EAAcwF,eAChBxF,EAAcyF,OAEdzF,EAAc0F,UAIjB,CACC71B,KAAM,YACN01B,OAAQ,cACRnJ,OAAQ,SAASxiB,GAChB6mB,EAAoB7mB,KAqDvB8S,EAAGzB,KAAO,WA5J4B,IAYhC0a,EAmJLzsB,EAAUkC,OAAO2kB,EAAK7qB,QAASisB,GAAmB,GAGlDniB,EAAW+gB,EAAK7qB,QAGhB+qB,EAAY/mB,EAAU0B,gBAAgBmlB,EAAK5U,WAAY,aAGvD3F,EAAUua,EAAKxV,QArKN,kBAAkB,SAASoF,GAC/BsR,GAAoBtR,EAAM,IAC5BjD,EAAGkZ,gBACO3E,GAAoBtR,GAAO,KACrCjD,EAAGmZ,kBAMLrgB,EAAQ,gBAAiB,SAASmK,GAC9BsR,GAAoBtR,EAAM,IAC5BjD,EAAGkZ,eACHD,GAAsB,GACbA,IAAwB1E,GAAoBtR,EAAM,IAC3DjD,EAAGmZ,kBAILrgB,EAAQ,oBAAoB,YAC3BmgB,GAAsB,KACK1E,GAC1BvU,EAAGmZ,kBAqJNrgB,EAAQ,eAAgBkH,EAAG1E,QAG3BxC,EAAQ,aAAa,SAASsgB,GAC7B,IAAIvlB,EAAmBwf,EAAK1Z,SAAS9F,iBAClCwf,EAAKrV,iBAAmBnK,EAC1Bwf,EAAKzQ,OAAO/O,EAAkBulB,EAAO,KAErC/F,EAAKzQ,OAAOtQ,EAASoB,kBAAiB,EAAO2f,EAAK1Z,UAAWyf,EAAO,QAKtEtgB,EAAQ,oBAAoB,SAASoD,EAAGmI,EAAQgV,GAC/C,IAAIv1B,EAAIoY,EAAExP,QAAUwP,EAAEqa,WAErBzyB,GACAA,EAAEmgB,aAAa,UAAY/H,EAAE7Q,KAAKnE,QAAQ,UAAY,IACpDpD,EAAEmgB,aAAa,SAAS/c,QAAQ,aAAe,GAAK,qBAAuBtB,KAAK9B,EAAE2P,YAEpF4lB,EAAW/U,SAAU,MAKvBxL,EAAQ,cAAc,WACrBtM,EAAUpI,KAAKmvB,EAAW,gBAAiB4C,GAC3C3pB,EAAUpI,KAAKivB,EAAK5U,WAAY,UAAWuB,EAAGsZ,aAE1CjG,EAAK/I,mBACR9d,EAAUpI,KAAKivB,EAAK5U,WAAY,YAAauB,EAAGuZ,gBAKlDzgB,EAAQ,gBAAgB,WACnB0b,GACHyC,IAGE7C,GACFtT,cAAcsT,GAEf5nB,EAAUI,OAAOO,SAAU,WAAY8qB,GACvCzrB,EAAUI,OAAOO,SAAU,YAAaipB,GACxC5pB,EAAUI,OAAO2mB,EAAW,gBAAiB4C,GAC7C3pB,EAAUI,OAAOymB,EAAK5U,WAAY,UAAWuB,EAAGsZ,aAChD9sB,EAAUI,OAAOymB,EAAK5U,WAAY,YAAauB,EAAGuZ,aAE/CjG,IACF9mB,EAAUI,OAAOO,SAAUmmB,EAAckG,OAAQxZ,EAAGyZ,kBACjDnG,EAAcwF,iBAChBxmB,EAASU,sBAAwB,EACjCsgB,EAAcyF,QAEfzF,EAAgB,SAMlBxa,EAAQ,WAAW,WACfxG,EAAS0iB,YACRvB,GACFF,EAAUmG,YAAYjG,GAEvBjnB,EAAUqB,YAAY2lB,EAAmB,yBAGvCI,IACFA,EAAYjV,SAAS,GAAGkZ,QAAU,MAEnCrrB,EAAUqB,YAAY0lB,EAAW,wBACjC/mB,EAAUwB,SAAUulB,EAAW,oBAC/BvT,EAAGgY,SAAQ,MAIR1lB,EAASW,uBACZzG,EAAUqB,YAAa0lB,EAAW,oBAEnCza,EAAQ,iBAAiB,WACrBxG,EAASW,uBACXzG,EAAUqB,YAAa0lB,EAAW,uBAGpCza,EAAQ,kBAAkB,WACzBtM,EAAUwB,SAAUulB,EAAW,uBAGhCza,EAAQ,sBAAuB0f,GA3JT,WACtB,IAAI5kB,EACH+lB,EACAtD,EAEGuD,EAA2B,SAASC,GACvC,GAAIA,EAKJ,IADA,IAAIh3B,EAAIg3B,EAAUjyB,OACVhF,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CAC1BgR,EAAOimB,EAAUj3B,GACjB+2B,EAAY/lB,EAAKvG,UAEjB,IAAI,IAAIiE,EAAI,EAAGA,EAAIklB,EAAY5uB,OAAQ0J,IACtC+kB,EAAYG,EAAYllB,GAErBqoB,EAAUzyB,QAAQ,SAAWmvB,EAAUlzB,OAAS,IAE9CmP,EAAS+jB,EAAUwC,SAEtBrsB,EAAUqB,YAAY+F,EAAM,2BACzByiB,EAAU3G,QACZ2G,EAAU3G,OAAO9b,IAKlBpH,EAAUwB,SAAS4F,EAAM,8BAO9BgmB,EAAyBrG,EAAU5U,UAEnC,IAAImb,EAAUttB,EAAU0B,gBAAgBqlB,EAAW,iBAChDuG,GACFF,EAA0BE,EAAOnb,UAqHlCob,GAEGznB,EAAS8iB,SAAWzB,GAAgBC,IACtCY,GAAoB,GAGrBsC,IA/RIxkB,EAASsiB,YACX9b,EAAQ,aAAa,WAEpBtM,EAAUpI,KAAK+I,SAAU,YAAaipB,GACtC5pB,EAAUpI,KAAK+I,SAAU,WAAY8qB,GAErC7D,EAAgB3T,aAAY,WAEL,KADtBsX,GAEC/X,EAAGgY,SAAQ,KAEV1lB,EAASsiB,WAAa,MAnGxBtiB,EAAS4iB,eAAiB1oB,EAAUC,SAASsE,eAC3CuiB,IACHA,EAAgBtT,EAAGga,oBAEjB1G,GACF9mB,EAAUpI,KAAK+I,SAAUmmB,EAAckG,OAAQxZ,EAAGyZ,kBAClDzZ,EAAGyZ,mBACHjtB,EAAUwB,SAASqlB,EAAKhnB,SAAU,sBAElCG,EAAUqB,YAAYwlB,EAAKhnB,SAAU,sBAMpCiG,EAASijB,cAEX+C,GAAwB,GAExBxf,EAAQ,gBAAgB,WAEvB/G,aAAakiB,GAGbA,EAA2BniB,YAAW,WAElCuhB,EAAK1Z,UAAY0Z,EAAK1Z,SAASsT,UAE5BoG,EAAKjF,uBAA0BiF,EAAK1Z,SAASiR,MAAQyI,EAAK1Z,SAASiR,IAAIqP,eAG3E3B,GAAwB,GAKzBA,GAAwB,KAGvBhmB,EAASwiB,0BAGbhc,EAAQ,qBAAqB,SAASJ,EAAO9E,GACzCyf,EAAK1Z,WAAa/F,GACpB0kB,GAAwB,QAoV7BtY,EAAGgY,QAAU,SAASkC,GACrBpG,EAAUoG,EACVvD,EAAiBpD,EAAW,WAAY2G,IAGzCla,EAAG1E,OAAS,WAERiZ,GAAoBlB,EAAK1Z,UAE3BqG,EAAGma,uBAEA7nB,EAAS0iB,YACX1iB,EAASyiB,iBAAiB1B,EAAK1Z,SAAU6Z,GAEzCmD,EAAiBnD,EAAmB,kBAAmBH,EAAK1Z,SAASiZ,QAGtE0B,GAAoB,GAGpBA,GAAoB,EAGjBE,GACHyC,IAGDH,KAGD9W,EAAGyZ,iBAAmB,SAASvd,GAE3BA,GAGFpK,YAAW,WACVuhB,EAAKvW,gBAAiB,EAAGtQ,EAAUc,gBACjC,IAIJd,GAAY8mB,EAAcwF,eAAiB,MAAQ,UAAY,SAAUzF,EAAKhnB,SAAU,aAGzF2T,EAAGma,qBAAuB,WACtB7nB,EAAS+iB,YACX3B,EAAgBnG,UAAa8F,EAAKpV,kBAAkB,EAC7C3L,EAAS2jB,kBACT3jB,EAASyZ,kBAIlB/L,EAAGsZ,YAAc,SAASpd,GAEzB,IAAIxP,GADJwP,EAAIA,GAAK1O,OAAO0T,OACDxU,QAAUwP,EAAEqa,WAE3B,IAAGpC,EAIH,GAAGjY,EAAEqU,QAAmC,UAAzBrU,EAAEqU,OAAOnJ,YAAyB,CAGhD,GAAG0Q,EAAeprB,GAEjB,YADA2mB,EAAK3S,QAIHlU,EAAUyB,SAASvB,EAAQ,eACF,IAAxB2mB,EAAKrV,gBAAwBqV,EAAKrV,gBAAkBqV,EAAK1Z,SAASC,SACjEtH,EAASojB,yBACXrC,EAAK3S,QAGN2S,EAAK3C,kBAAkBxU,EAAEqU,OAAOvJ,oBAgBlC,GATG1U,EAASmjB,sBACRlB,EACFvU,EAAGkZ,eAEHlZ,EAAGmZ,gBAKF7mB,EAASkjB,aAAehpB,EAAUyB,SAASvB,EAAQ,cAAgBorB,EAAeprB,IAEpF,YADA2mB,EAAK3S,SAMRV,EAAGuZ,YAAc,SAASrd,GAEzB,IAAIxP,GADJwP,EAAIA,GAAK1O,OAAO0T,OACDxU,QAAUwP,EAAEqa,WAG3BI,EAAiBpD,EAAW,iBAAkBuE,EAAeprB,KAG9DsT,EAAGkZ,aAAe,WACjB1sB,EAAUwB,SAASulB,EAAU,oBAC7BgB,GAAmB,GAGpBvU,EAAGmZ,aAAe,WACjB5E,GAAmB,EACfD,GACHtU,EAAG1E,SAEJ9O,EAAUqB,YAAY0lB,EAAU,qBAGjCvT,EAAGoa,mBAAqB,WACvB,IAAIl3B,EAAIiK,SACR,SAAUjK,EAAEm3B,gBAAkBn3B,EAAEo3B,qBAAuBp3B,EAAEq3B,sBAAwBr3B,EAAEs3B,mBAGpFxa,EAAGga,iBAAmB,WACrB,IACCS,EADGC,EAAKvtB,SAASQ,gBAEjBgtB,EAAK,mBA0DN,OAxDID,EAAGE,kBACNH,EAAM,CACLI,OAAQ,oBACRC,MAAO,iBACPC,SAAU,oBACVvB,OAAQmB,GAGAD,EAAGM,qBACZP,EAAM,CACLI,OAAQ,uBACRC,MAAO,sBACPC,SAAU,uBACVvB,OAAQ,MAAQmB,GAKRD,EAAGO,wBACZR,EAAM,CACLI,OAAQ,0BACRC,MAAO,uBACPC,SAAU,0BACVvB,OAAQ,SAAWmB,GAGXD,EAAGQ,sBACZT,EAAM,CACLI,OAAQ,sBACRC,MAAO,mBACPC,SAAU,sBACVvB,OAAQ,uBAIPiB,IACFA,EAAIzB,MAAQ,WAKX,GAHAnF,EAA4BvhB,EAASO,cACrCP,EAASO,eAAgB,EAEN,4BAAhBtL,KAAKszB,OAGP,OAAOxH,EAAKhnB,SAAS9E,KAAKszB,UAF1BxH,EAAKhnB,SAAS9E,KAAKszB,QAASM,QAAQC,uBAKtCX,EAAI1B,KAAO,WAGV,OAFAzmB,EAASO,cAAgBghB,EAElB1mB,SAAS5F,KAAKuzB,UAGtBL,EAAI3B,aAAe,WAAa,OAAO3rB,SAAS5F,KAAKwzB,YAG/CN,MAx0BO,mC,6BCThB93B,EAAOD,QAAU,EAAQ,K,sDCMxB,WACD,aAGA,GAAsB,iBAAX8K,OAMX,GAAI,yBAA0BA,QAC1B,8BAA+BA,QAC/B,sBAAuBA,OAAO6tB,0BAA0B72B,UAIpD,mBAAoBgJ,OAAO6tB,0BAA0B72B,WACzDlB,OAAOC,eAAeiK,OAAO6tB,0BAA0B72B,UACrD,iBAAkB,CAClBf,IAAK,WACH,OAAO8D,KAAK+zB,kBAAoB,SAVxC,CAkCA,IAAInuB,EAAW,SAAUouB,GAGvB,IAFA,IAAIC,EAOHhuB,OAAOL,SANJsuB,EAAQC,EAAgBF,GACrBC,GAELA,EAAQC,EADRF,EAAMC,EAAME,eAGd,OAAOH,EAPM,GAgBXI,EAAW,GAOXC,EAAqB,KAMrBC,EAAkB,KAwFtBC,EAAqBv3B,UAAUw3B,iBAAmB,IAQlDD,EAAqBv3B,UAAUy3B,cAAgB,KAM/CF,EAAqBv3B,UAAU03B,uBAAwB,EAYvDH,EAAqBI,yBAA2B,WAiB9C,OAhBKN,IAKHA,EAAqB,SAASO,EAAoBC,GAI9CP,EAHGM,GAAuBC,EAGRC,EAAsBF,EAAoBC,GAgrB3D,CACLhd,IAAK,EACL6M,OAAQ,EACRlN,KAAM,EACNud,MAAO,EACPpd,MAAO,EACPC,OAAQ,GAprBNwc,EAASn1B,SAAQ,SAAS+1B,GACxBA,EAASC,8BAIRZ,GAOTE,EAAqBW,yBAA2B,WAC9Cb,EAAqB,KACrBC,EAAkB,MASpBC,EAAqBv3B,UAAUm4B,QAAU,SAASjwB,GAKhD,IAJ8BnF,KAAKq1B,oBAAoBC,MAAK,SAASjpB,GACnE,OAAOA,EAAKkpB,SAAWpwB,KAGzB,CAIA,IAAMA,GAA6B,GAAnBA,EAAOqwB,SACrB,MAAM,IAAIp0B,MAAM,6BAGlBpB,KAAKy1B,oBACLz1B,KAAKq1B,oBAAoBx0B,KAAK,CAAC00B,QAASpwB,EAAQuwB,MAAO,OACvD11B,KAAK21B,sBAAsBxwB,EAAOivB,eAClCp0B,KAAKk1B,2BAQPV,EAAqBv3B,UAAU24B,UAAY,SAASzwB,GAClDnF,KAAKq1B,oBACDr1B,KAAKq1B,oBAAoBQ,QAAO,SAASxpB,GACvC,OAAOA,EAAKkpB,SAAWpwB,KAE7BnF,KAAK81B,wBAAwB3wB,EAAOivB,eACG,GAAnCp0B,KAAKq1B,oBAAoBh1B,QAC3BL,KAAK+1B,uBAQTvB,EAAqBv3B,UAAU+4B,WAAa,WAC1Ch2B,KAAKq1B,oBAAsB,GAC3Br1B,KAAKi2B,6BACLj2B,KAAK+1B,uBAUPvB,EAAqBv3B,UAAUi5B,YAAc,WAC3C,IAAIC,EAAUn2B,KAAKo2B,eAAe53B,QAElC,OADAwB,KAAKo2B,eAAiB,GACfD,GAaT3B,EAAqBv3B,UAAUo5B,gBAAkB,SAASC,GACxD,IAAIC,EAAYD,GAAiB,CAAC,GAGlC,OAFKx0B,MAAMC,QAAQw0B,KAAYA,EAAY,CAACA,IAErCA,EAAUC,OAAOX,QAAO,SAASt5B,EAAGlB,EAAG0O,GAC5C,GAAgB,iBAALxN,GAAiBmc,MAAMnc,IAAMA,EAAI,GAAKA,EAAI,EACnD,MAAM,IAAI6E,MAAM,0DAElB,OAAO7E,IAAMwN,EAAE1O,EAAI,OAgBvBm5B,EAAqBv3B,UAAUw5B,iBAAmB,SAASC,GACzD,IACIC,GADeD,GAAkB,OACVnxB,MAAM,OAAOqxB,KAAI,SAASC,GACnD,IAAIC,EAAQ,wBAAwBC,KAAKF,GACzC,IAAKC,EACH,MAAM,IAAI11B,MAAM,qDAElB,MAAO,CAAC9E,MAAOiN,WAAWutB,EAAM,IAAKE,KAAMF,EAAM,OAQnD,OAJAH,EAAQ,GAAKA,EAAQ,IAAMA,EAAQ,GACnCA,EAAQ,GAAKA,EAAQ,IAAMA,EAAQ,GACnCA,EAAQ,GAAKA,EAAQ,IAAMA,EAAQ,GAE5BA,GAUTnC,EAAqBv3B,UAAU04B,sBAAwB,SAAS1B,GAC9D,IAAIgD,EAAMhD,EAAIiD,YACd,GAAKD,IAI0C,GAA3Cj3B,KAAKm3B,qBAAqBx3B,QAAQs0B,GAAtC,CAMA,IAAImD,EAAWp3B,KAAKk1B,uBAChBmC,EAAqB,KACrBC,EAAc,KAIdt3B,KAAK00B,cACP2C,EAAqBJ,EAAI/d,YAAYke,EAAUp3B,KAAK00B,gBAEpD6C,EAASN,EAAK,SAAUG,GAAU,GAClCG,EAAStD,EAAK,SAAUmD,GAAU,GAC9Bp3B,KAAK20B,uBAAyB,qBAAsBsC,IACtDK,EAAc,IAAIL,EAAIO,iBAAiBJ,IAC3BhC,QAAQnB,EAAK,CACvBwD,YAAY,EACZC,WAAW,EACXC,eAAe,EACfC,SAAS,KAKf53B,KAAKm3B,qBAAqBt2B,KAAKozB,GAC/Bj0B,KAAK63B,wBAAwBh3B,MAAK,WAGhC,IAAIo2B,EAAMhD,EAAIiD,YAEVD,IACEI,GACFJ,EAAI1d,cAAc8d,GAEpBS,EAAYb,EAAK,SAAUG,GAAU,IAGvCU,EAAY7D,EAAK,SAAUmD,GAAU,GACjCE,GACFA,EAAYtB,gBAKhB,IAAI+B,EACD/3B,KAAKg4B,OAASh4B,KAAKg4B,KAAK5D,eAAiBp0B,KAAKg4B,OAAUpyB,EAC3D,GAAIquB,GAAO8D,EAAS,CAClB,IAAI7D,EAAQC,EAAgBF,GACxBC,GACFl0B,KAAK21B,sBAAsBzB,EAAME,kBAWvCI,EAAqBv3B,UAAU64B,wBAA0B,SAAS7B,GAChE,IAAI9iB,EAAQnR,KAAKm3B,qBAAqBx3B,QAAQs0B,GAC9C,IAAc,GAAV9iB,EAAJ,CAIA,IAAI4mB,EACD/3B,KAAKg4B,OAASh4B,KAAKg4B,KAAK5D,eAAiBp0B,KAAKg4B,OAAUpyB,EAoB3D,IAhBI5F,KAAKq1B,oBAAoBC,MAAK,SAASjpB,GACrC,IAAI4rB,EAAU5rB,EAAKkpB,QAAQnB,cAE3B,GAAI6D,GAAWhE,EACb,OAAO,EAGT,KAAOgE,GAAWA,GAAWF,GAAS,CACpC,IAAI7D,EAAQC,EAAgB8D,GAE5B,IADAA,EAAU/D,GAASA,EAAME,gBACVH,EACb,OAAO,EAGX,OAAO,KAEb,CAKA,IAAIiE,EAAcl4B,KAAK63B,wBAAwB1mB,GAM/C,GALAnR,KAAKm3B,qBAAqB31B,OAAO2P,EAAO,GACxCnR,KAAK63B,wBAAwBr2B,OAAO2P,EAAO,GAC3C+mB,IAGIjE,GAAO8D,EAAS,CAClB,IAAI7D,EAAQC,EAAgBF,GACxBC,GACFl0B,KAAK81B,wBAAwB5B,EAAME,mBAWzCI,EAAqBv3B,UAAUg5B,2BAA6B,WAC1D,IAAIkC,EAAen4B,KAAK63B,wBAAwBr5B,MAAM,GACtDwB,KAAKm3B,qBAAqB92B,OAAS,EACnCL,KAAK63B,wBAAwBx3B,OAAS,EACtC,IAAK,IAAIhF,EAAI,EAAGA,EAAI88B,EAAa93B,OAAQhF,IACvC88B,EAAa98B,MAWjBm5B,EAAqBv3B,UAAUi4B,uBAAyB,WACtD,GAAKl1B,KAAKg4B,OAAQ1D,GAAuBC,EAAzC,CAKA,IAAI6D,EAAcp4B,KAAKq4B,eACnBC,EAAWF,EAAcp4B,KAAKu4B,eAiZ3B,CACLzgB,IAAK,EACL6M,OAAQ,EACRlN,KAAM,EACNud,MAAO,EACPpd,MAAO,EACPC,OAAQ,GArZV7X,KAAKq1B,oBAAoBn2B,SAAQ,SAASmN,GACxC,IAAIlH,EAASkH,EAAKkpB,QACdiD,EAAaC,EAAsBtzB,GACnCuzB,EAAqB14B,KAAK24B,oBAAoBxzB,GAC9CyzB,EAAWvsB,EAAKqpB,MAChBZ,EAAmBsD,GAAeM,GAClC14B,KAAK64B,kCAAkC1zB,EAAQqzB,EAAYF,GAE3DQ,EAAa,KACZ94B,KAAK24B,oBAAoBxzB,GAElBmvB,IAAsBt0B,KAAKg4B,OACrCc,EAAaR,GAFbQ,EAqYG,CACLhhB,IAAK,EACL6M,OAAQ,EACRlN,KAAM,EACNud,MAAO,EACPpd,MAAO,EACPC,OAAQ,GAtYR,IAAIkhB,EAAW1sB,EAAKqpB,MAAQ,IAAI5B,EAA0B,CACxDxU,KAkQGrZ,OAAO+yB,aAAeA,YAAYtd,KAAOsd,YAAYtd,MAjQxDvW,OAAQA,EACR0vB,mBAAoB2D,EACpBM,WAAYA,EACZhE,iBAAkBA,IAGf8D,EAEMR,GAAeM,EAGpB14B,KAAKi5B,qBAAqBL,EAAUG,IACtC/4B,KAAKo2B,eAAev1B,KAAKk4B,GAMvBH,GAAYA,EAASM,gBACvBl5B,KAAKo2B,eAAev1B,KAAKk4B,GAZ3B/4B,KAAKo2B,eAAev1B,KAAKk4B,KAe1B/4B,MAECA,KAAKo2B,eAAe/1B,QACtBL,KAAKm5B,UAAUn5B,KAAKk2B,cAAel2B,QAkBvCw0B,EAAqBv3B,UAAU47B,kCAC3B,SAAS1zB,EAAQqzB,EAAYF,GAE/B,GAA+C,QAA3CryB,OAAOmzB,iBAAiBj0B,GAAQmS,QAApC,CAMA,IAJA,IAqR+B+hB,EAAOC,EAClCxhB,EACA6M,EACAlN,EACAud,EACApd,EACAC,EA3RAid,EAAmB0D,EACnBe,EAASC,EAAcr0B,GACvBs0B,GAAS,GAELA,GAAUF,GAAQ,CACxB,IAAIG,EAAa,KACbC,EAAyC,GAAnBJ,EAAO/D,SAC7BvvB,OAAOmzB,iBAAiBG,GAAU,GAGtC,GAAmC,QAA/BI,EAAoBriB,QAAmB,OAAO,KAElD,GAAIiiB,GAAUv5B,KAAKg4B,MAA0C,GAAlCuB,EAAO/D,SAEhC,GADAiE,GAAS,EACLF,GAAUv5B,KAAKg4B,MAAQuB,GAAU3zB,EAC/B0uB,IAAuBt0B,KAAKg4B,MACzBzD,GACwB,GAAzBA,EAAgB3c,OAAwC,GAA1B2c,EAAgB1c,QAEhD0hB,EAAS,KACTG,EAAa,KACb5E,EAAmB,MAEnB4E,EAAanF,EAGfmF,EAAapB,MAEV,CAEL,IAAIpE,EAAQsF,EAAcD,GACtBK,EAAY1F,GAASuE,EAAsBvE,GAC3C2F,EACA3F,GACAl0B,KAAK64B,kCAAkC3E,EAAO0F,EAAWtB,GACzDsB,GAAaC,GACfN,EAASrF,EACTwF,EAAa3E,EAAsB6E,EAAWC,KAE9CN,EAAS,KACTzE,EAAmB,UAGlB,CAKL,IAAIb,EAAMsF,EAAOnF,cACbmF,GAAUtF,EAAI6F,MACdP,GAAUtF,EAAI7tB,iBACkB,WAAhCuzB,EAAoBI,WACtBL,EAAajB,EAAsBc,IASvC,GAHIG,IA2NyBL,EA1NgBK,EA0NTJ,EA1NqBxE,EA2NvDhd,SACA6M,SACAlN,SACAud,SACApd,SACAC,SALAC,EAAMlQ,KAAKnF,IAAI42B,EAAMvhB,IAAKwhB,EAAMxhB,KAChC6M,EAAS/c,KAAK6M,IAAI4kB,EAAM1U,OAAQ2U,EAAM3U,QACtClN,EAAO7P,KAAKnF,IAAI42B,EAAM5hB,KAAM6hB,EAAM7hB,MAClCud,EAAQptB,KAAK6M,IAAI4kB,EAAMrE,MAAOsE,EAAMtE,OAEpCnd,EAAS8M,EAAS7M,EAhOlBgd,GA+NAld,EAAQod,EAAQvd,IAGH,GAAKI,GAAU,GAAM,CACpCC,IAAKA,EACL6M,OAAQA,EACRlN,KAAMA,EACNud,MAAOA,EACPpd,MAAOA,EACPC,OAAQA,IACL,OAvOEid,EAAkB,MACvByE,EAASA,GAAUC,EAAcD,GAEnC,OAAOzE,IASTN,EAAqBv3B,UAAUs7B,aAAe,WAC5C,IAAID,EACJ,GAAIt4B,KAAKg4B,OAASgC,EAAMh6B,KAAKg4B,MAC3BM,EAAWG,EAAsBz4B,KAAKg4B,UACjC,CAEL,IAAI/D,EAAM+F,EAAMh6B,KAAKg4B,MAAQh4B,KAAKg4B,KAAOpyB,EACrCmhB,EAAOkN,EAAI7tB,gBACX0zB,EAAO7F,EAAI6F,KACfxB,EAAW,CACTxgB,IAAK,EACLL,KAAM,EACNud,MAAOjO,EAAK5O,aAAe2hB,EAAK3hB,YAChCP,MAAOmP,EAAK5O,aAAe2hB,EAAK3hB,YAChCwM,OAAQoC,EAAK9L,cAAgB6e,EAAK7e,aAClCpD,OAAQkP,EAAK9L,cAAgB6e,EAAK7e,cAGtC,OAAOjb,KAAKi6B,wBAAwB3B,IAUtC9D,EAAqBv3B,UAAUg9B,wBAA0B,SAASC,GAChE,IAAIvD,EAAU32B,KAAKm6B,kBAAkBvD,KAAI,SAASC,EAAQx7B,GACxD,MAAsB,MAAfw7B,EAAOG,KAAeH,EAAOv6B,MAChCu6B,EAAOv6B,OAASjB,EAAI,EAAI6+B,EAAKtiB,MAAQsiB,EAAKriB,QAAU,OAEtDuiB,EAAU,CACZtiB,IAAKoiB,EAAKpiB,IAAM6e,EAAQ,GACxB3B,MAAOkF,EAAKlF,MAAQ2B,EAAQ,GAC5BhS,OAAQuV,EAAKvV,OAASgS,EAAQ,GAC9Blf,KAAMyiB,EAAKziB,KAAOkf,EAAQ,IAK5B,OAHAyD,EAAQxiB,MAAQwiB,EAAQpF,MAAQoF,EAAQ3iB,KACxC2iB,EAAQviB,OAASuiB,EAAQzV,OAASyV,EAAQtiB,IAEnCsiB,GAcT5F,EAAqBv3B,UAAUg8B,qBAC3B,SAASL,EAAUG,GAIrB,IAAIsB,EAAWzB,GAAYA,EAASM,eAChCN,EAAS7E,mBAAqB,GAAK,EACnCuG,EAAWvB,EAASG,eACpBH,EAAShF,mBAAqB,GAAK,EAGvC,GAAIsG,IAAaC,EAEjB,IAAK,IAAIj/B,EAAI,EAAGA,EAAI2E,KAAKu6B,WAAWl6B,OAAQhF,IAAK,CAC/C,IAAIk7B,EAAYv2B,KAAKu6B,WAAWl/B,GAIhC,GAAIk7B,GAAa8D,GAAY9D,GAAa+D,GACtC/D,EAAY8D,GAAa9D,EAAY+D,EACvC,OAAO,IAWb9F,EAAqBv3B,UAAUo7B,aAAe,WAC5C,OAAQr4B,KAAKg4B,MAAQwC,EAAa50B,EAAU5F,KAAKg4B,OAUnDxD,EAAqBv3B,UAAU07B,oBAAsB,SAASxzB,GAC5D,IAAI4yB,EACD/3B,KAAKg4B,OAASh4B,KAAKg4B,KAAK5D,eAAiBp0B,KAAKg4B,OAAUpyB,EAC3D,OACE40B,EAAazC,EAAS5yB,MACpBnF,KAAKg4B,MAAQD,GAAW5yB,EAAOivB,gBAUrCI,EAAqBv3B,UAAUw4B,kBAAoB,WAC7CpB,EAAS10B,QAAQK,MAAQ,GAC3Bq0B,EAASxzB,KAAKb,OASlBw0B,EAAqBv3B,UAAU84B,oBAAsB,WACnD,IAAI5kB,EAAQkjB,EAAS10B,QAAQK,OACf,GAAVmR,GAAakjB,EAAS7yB,OAAO2P,EAAO,IA4P1ClL,OAAOuuB,qBAAuBA,EAC9BvuB,OAAO6tB,0BAA4BA,EA38BnC,SAASK,EAAgBF,GACvB,IACE,OAAOA,EAAIiD,aAAejD,EAAIiD,YAAYuD,cAAgB,KAC1D,MAAO9lB,GAEP,OAAO,MA6CX,SAASmf,EAA0B4B,GACjC11B,KAAKsf,KAAOoW,EAAMpW,KAClBtf,KAAKmF,OAASuwB,EAAMvwB,OACpBnF,KAAK84B,WAAa4B,EAAchF,EAAMoD,YACtC94B,KAAK60B,mBAAqB6F,EAAchF,EAAMb,oBAC9C70B,KAAK80B,iBAAmB4F,EAAchF,EAAMZ,kBA8xBrC,CACLhd,IAAK,EACL6M,OAAQ,EACRlN,KAAM,EACNud,MAAO,EACPpd,MAAO,EACPC,OAAQ,IAnyBV7X,KAAKk5B,iBAAmBxD,EAAMZ,iBAG9B,IAAI0D,EAAax4B,KAAK60B,mBAClB8F,EAAanC,EAAW5gB,MAAQ4gB,EAAW3gB,OAC3Cid,EAAmB90B,KAAK80B,iBACxB8F,EAAmB9F,EAAiBld,MAAQkd,EAAiBjd,OAM/D7X,KAAK+zB,kBAHH4G,EAGuBE,QAAQD,EAAmBD,GAAYG,QAAQ,IAG/C96B,KAAKk5B,eAAiB,EAAI,EAcvD,SAAS1E,EAAqB4C,EAAU2D,GAEtC,IA6oBgBh6B,EAAIi6B,EAChBC,EA9oBAh6B,EAAU85B,GAAe,GAE7B,GAAuB,mBAAZ3D,EACT,MAAM,IAAIh2B,MAAM,+BAGlB,GACEH,EAAQ+2B,MACiB,GAAzB/2B,EAAQ+2B,KAAKxC,UACY,GAAzBv0B,EAAQ+2B,KAAKxC,SAEb,MAAM,IAAIp0B,MAAM,sCAIlBpB,KAAKk1B,wBA8nBWn0B,EA7nBZf,KAAKk1B,uBAAuBr4B,KAAKmD,MA6nBjBg7B,EA7nBwBh7B,KAAKy0B,iBA8nB7CwG,EAAQ,KACL,WACAA,IACHA,EAAQ1wB,YAAW,WACjBxJ,IACAk6B,EAAQ,OACPD,MAjoBPh7B,KAAKm5B,UAAY/B,EACjBp3B,KAAKq1B,oBAAsB,GAC3Br1B,KAAKo2B,eAAiB,GACtBp2B,KAAKm6B,kBAAoBn6B,KAAKy2B,iBAAiBx1B,EAAQi6B,YAGvDl7B,KAAKu6B,WAAav6B,KAAKq2B,gBAAgBp1B,EAAQs1B,WAC/Cv2B,KAAKg4B,KAAO/2B,EAAQ+2B,MAAQ,KAC5Bh4B,KAAKk7B,WAAal7B,KAAKm6B,kBAAkBvD,KAAI,SAASC,GACpD,OAAOA,EAAOv6B,MAAQu6B,EAAOG,QAC5BmE,KAAK,KAGRn7B,KAAKm3B,qBAAuB,GAE5Bn3B,KAAK63B,wBAA0B,GAgoBjC,SAASN,EAASzwB,EAAM6S,EAAO5Y,EAAIq6B,GACG,mBAAzBt0B,EAAK0B,iBACd1B,EAAK0B,iBAAiBmR,EAAO5Y,EAAIq6B,IAAkB,GAEjB,mBAApBt0B,EAAKu0B,aACnBv0B,EAAKu0B,YAAY,KAAO1hB,EAAO5Y,GAanC,SAAS+2B,EAAYhxB,EAAM6S,EAAO5Y,EAAIq6B,GACG,mBAA5Bt0B,EAAKw0B,oBACdx0B,EAAKw0B,oBAAoB3hB,EAAO5Y,EAAIq6B,IAAkB,GAEnB,mBAArBt0B,EAAKy0B,cACnBz0B,EAAKy0B,aAAa,KAAO5hB,EAAO5Y,GAoCpC,SAAS03B,EAAsB9yB,GAC7B,IAAIu0B,EAEJ,IACEA,EAAOv0B,EAAG8yB,wBACV,MAAO/zB,IAKT,OAAKw1B,GAGCA,EAAKtiB,OAASsiB,EAAKriB,SACvBqiB,EAAO,CACLpiB,IAAKoiB,EAAKpiB,IACVkd,MAAOkF,EAAKlF,MACZrQ,OAAQuV,EAAKvV,OACblN,KAAMyiB,EAAKziB,KACXG,MAAOsiB,EAAKlF,MAAQkF,EAAKziB,KACzBI,OAAQqiB,EAAKvV,OAASuV,EAAKpiB,MAGxBoiB,GAUA,CACLpiB,IAAK,EACL6M,OAAQ,EACRlN,KAAM,EACNud,MAAO,EACPpd,MAAO,EACPC,OAAQ,GAYZ,SAAS6iB,EAAcR,GAErB,OAAKA,GAAQ,MAAOA,EACXA,EAMF,CACLpiB,IAAKoiB,EAAKpiB,IACV1H,EAAG8pB,EAAKpiB,IACR6M,OAAQuV,EAAKvV,OACblN,KAAMyiB,EAAKziB,KACXtH,EAAG+pB,EAAKziB,KACRud,MAAOkF,EAAKlF,MACZpd,MAAOsiB,EAAKtiB,MACZC,OAAQqiB,EAAKriB,QAYjB,SAASkd,EAAsByG,EAAoBC,GACjD,IAAI3jB,EAAM2jB,EAAuB3jB,IAAM0jB,EAAmB1jB,IACtDL,EAAOgkB,EAAuBhkB,KAAO+jB,EAAmB/jB,KAC5D,MAAO,CACLK,IAAKA,EACLL,KAAMA,EACNI,OAAQ4jB,EAAuB5jB,OAC/BD,MAAO6jB,EAAuB7jB,MAC9B+M,OAAQ7M,EAAM2jB,EAAuB5jB,OACrCmd,MAAOvd,EAAOgkB,EAAuB7jB,OAYzC,SAAS4iB,EAAajB,EAAQmC,GAE5B,IADA,IAAI50B,EAAO40B,EACJ50B,GAAM,CACX,GAAIA,GAAQyyB,EAAQ,OAAO,EAE3BzyB,EAAO0yB,EAAc1yB,GAEvB,OAAO,EAUT,SAAS0yB,EAAc1yB,GACrB,IAAIyyB,EAASzyB,EAAK6V,WAElB,OAAoC,GAAhC7V,EAAK0uB,UAAgC1uB,GAAQlB,EAExCuuB,EAAgBrtB,IAIrByyB,GAAUA,EAAOoC,eACnBpC,EAASA,EAAOoC,aAAahf,YAG3B4c,GAA6B,IAAnBA,EAAO/D,UAAkB+D,EAAOqC,KAErCrC,EAAOqC,KAGTrC,GAQT,SAASS,EAAMlzB,GACb,OAAOA,GAA0B,IAAlBA,EAAK0uB,UAr+BtB,I,6BCFA,IAAI12B,EAAe,EAAQ,GAAkBA,OACzC+8B,EAAe,EAAQ,IACvBC,EAAe,EAAQ,IACvBC,EAAe,EAAQ,IACvBC,EAAe,EAAQ,IACvBj8B,EAAe,EAAQ,GAMvBk8B,EAAS,CACX,QAAc,EAAQ,IACtB,KAAc,EAAQ,IACtB,WAAc,EAAQ,KAWxB,SAASC,EAAUC,EAAUz8B,EAAK2D,GAChCrD,KAAKgD,IAAMtD,EACXM,KAAKqD,IAAMA,EACXrD,KAAKiB,QAAUk7B,EAASl7B,QACxBjB,KAAKuD,OAAS,GACdvD,KAAKo8B,YAAa,EAElBp8B,KAAKq8B,OAASF,EAASE,OACvBr8B,KAAKs8B,MAAQH,EAASG,MACtBt8B,KAAKu8B,SAAWJ,EAASI,SACzBv8B,KAAKw8B,YAAcL,EAASK,YAW9B,SAASC,EAAWC,EAAQz7B,GACJ,iBAAXy7B,IACTz7B,EAAUy7B,EACVA,EAAS,WAGX18B,KAAKq8B,OAAW,IAAIL,EACpBh8B,KAAKs8B,MAAW,IAAIP,EACpB/7B,KAAK28B,KAAW,IAAIb,EACpB97B,KAAKu8B,SAAW,IAAIV,EACpB77B,KAAK48B,MAAW,IAAI78B,EAEpBC,KAAKiB,QAAW,GAChBjB,KAAK68B,UAAUZ,EAAOS,IACtB18B,KAAK88B,IAAI77B,GAAW,IActBw7B,EAAWx/B,UAAU6/B,IAAM,SAAU77B,GACnCnC,EAAOkB,KAAKiB,QAASA,IASvBw7B,EAAWx/B,UAAU4/B,UAAY,SAAUE,GACzC,IAAIx8B,EAAOP,KAEX,IAAK+8B,EAAW,MAAM,IAAI37B,MAAM,iDAC5B27B,EAAQ97B,SAAWV,EAAKu8B,IAAIC,EAAQ97B,SACpC87B,EAAQC,YACVjhC,OAAOsD,KAAK09B,EAAQC,YAAY99B,SAAQ,SAAUtD,GAC5CmhC,EAAQC,WAAWphC,GAAMqhC,OAC3B18B,EAAK3E,GAAMghC,MAAMj7B,OAAOo7B,EAAQC,WAAWphC,GAAMqhC,OAAO,OAsBhER,EAAWx/B,UAAUigC,IAAM,SAAUC,EAAQl8B,GAE3C,OADAk8B,EAAOn9B,KAAMiB,GACNjB,MAaTy8B,EAAWx/B,UAAUmgC,MAAQ,SAAU19B,EAAK2D,GAC1C,IAAIlB,EAAQ,IAAI+5B,EAAUl8B,KAAMN,EAAK2D,GAErC,OADArD,KAAK28B,KAAKU,QAAQl7B,GACXA,EAAMoB,QAWfk5B,EAAWx/B,UAAUqgC,OAAS,SAAU59B,EAAK2D,GAE3C,OADAA,EAAMA,GAAO,GACNrD,KAAKu8B,SAASe,OAAOt9B,KAAKo9B,MAAM19B,EAAK2D,GAAMrD,KAAKiB,QAASoC,IAWlEo5B,EAAWx/B,UAAUsgC,YAAc,SAAU79B,EAAK2D,GAChD,IAAIlB,EAAQ,IAAI+5B,EAAUl8B,KAAMN,EAAK2D,GAGrC,OAFAlB,EAAMi6B,YAAa,EACnBp8B,KAAK28B,KAAKU,QAAQl7B,GACXA,EAAMoB,QAYfk5B,EAAWx/B,UAAUugC,aAAe,SAAU99B,EAAK2D,GAEjD,OADAA,EAAMA,GAAO,GACNrD,KAAKu8B,SAASe,OAAOt9B,KAAKu9B,YAAY79B,EAAK2D,GAAMrD,KAAKiB,QAASoC,IAOxEjI,EAAOD,QAAUshC,EAOjBrhC,EAAOD,QAAQsiC,MAAQ,EAAQ,I,6BC5L/B,IAAIA,EAAQ,EAAQ,GAChBR,EAAQ,EAAQ,IAapB,SAASpB,IACP77B,KAAKi9B,MAAQQ,EAAM3+B,OAAO,GAAIm+B,GAG9Bj9B,KAAK09B,SAAWT,EAAMS,SAXxBtiC,EAAOD,QAAU0gC,EAyBjBA,EAAS5+B,UAAUugC,aAAe,SAAUj6B,EAAQtC,EAASoC,GAK3D,IAJA,IAAIs6B,EAAS39B,KAAKi9B,MACd78B,EAAMmD,EAAOlD,OAAQhF,EAAI,EACzBuiC,EAAS,GAENx9B,KACLw9B,GAAUD,EAAOp6B,EAAOlI,GAAGyI,MAAMP,EAAQlI,IAAK4F,EAASoC,EAAKrD,MAG9D,OAAO49B,GAcT/B,EAAS5+B,UAAUqgC,OAAS,SAAU/5B,EAAQtC,EAASoC,GAKrD,IAJA,IAAIs6B,EAAS39B,KAAKi9B,MACd78B,EAAMmD,EAAOlD,OAAQhF,GAAK,EAC1BuiC,EAAS,KAEJviC,EAAI+E,GACY,WAAnBmD,EAAOlI,GAAGyI,KACZ85B,GAAU59B,KAAKw9B,aAAaj6B,EAAOlI,GAAG+b,SAAUnW,EAASoC,GAEzDu6B,GAAUD,EAAOp6B,EAAOlI,GAAGyI,MAAMP,EAAQlI,EAAG4F,EAASoC,EAAKrD,MAG9D,OAAO49B,I,6BCnET,IAAItgC,EAAkB,EAAQ,GAAkBA,IAC5CmC,EAAkB,EAAQ,GAAkBA,WAC5CI,EAAkB,EAAQ,GAAkBA,gBAC5CC,EAAkB,EAAQ,GAAkBA,WAM5Cm9B,EAAQ,GAMZA,EAAMY,gBAAkB,WACtB,MAAO,kBAGTZ,EAAMa,iBAAmB,SAASv6B,EAAQrC,GACxC,MAAO,gBAAkBw8B,EAASn6B,EAAQrC,IAO5C+7B,EAAM9+B,KAAO,SAASoF,EAAQrC,GAC5B,OAAIqC,EAAOrC,GAAKo7B,MACP,cAAgBx8B,EAAWyD,EAAOrC,GAAK6C,SAAW,gBAAkB25B,EAASn6B,EAAQrC,GAEvF,SAAWpB,EAAWyD,EAAOrC,GAAK6C,SAAW,WAOtDk5B,EAAMc,MAAQ,SAASx6B,EAAQrC,EAAKD,EAASoC,EAAK84B,GAChD,IAGmB6B,EAAQC,EAHvBj6B,EAAQT,EAAOrC,GACfg9B,EAAY,GACZC,EAAal9B,EAAQk9B,WAIzB,GAAIn6B,EAAM0mB,OAAQ,CAYhB,GAFAuT,GADAD,EAASh6B,EAAM0mB,OAAOnlB,MAAM,SACT41B,KAAK,KAEpB79B,EAAI6+B,EAASc,MAAMmB,aAAcJ,EAAO,IAC1C,OAAO7B,EAASc,MAAMmB,aAAaJ,EAAO,IAAIz6B,EAAQrC,EAAKD,EAASoC,EAAK84B,GAI3E+B,EAAY,WAAaC,EADdr+B,EAAWD,EAAgBJ,EAAWw+B,KACA,IAUnD,MAAO,aAAeC,EAAY,KAP9Bj9B,EAAQo9B,WACIp9B,EAAQo9B,UAAUzsB,MAAM3Q,EAAQo9B,UAAW,CAAEr6B,EAAMD,SAAUu6B,OAAON,KAGpEl+B,EAAWkE,EAAMD,UAKzB,gBACA25B,EAASn6B,EAAQrC,IAG3B+7B,EAAMmB,aAAe,GAMrBnB,EAAMsB,aAAe,SAASh7B,EAAQrC,GACpC,MAAO,KAAOqC,EAAOrC,GAAKs9B,OAAS,KAErCvB,EAAMwB,cAAgB,SAASl7B,EAAQrC,GACrC,MAAO,MAAQqC,EAAOrC,GAAKs9B,OAAS,OAOtCvB,EAAMyB,GAAK,SAASn7B,EAAQrC,EAAKD,GAC/B,OAAQA,EAAQ09B,SAAW,SAAW,QAAUjB,EAASn6B,EAAQrC,IAOnE+7B,EAAM2B,iBAAmB,WACvB,MAAO,UAET3B,EAAM4B,kBAAoB,SAASt7B,EAAQrC,GACzC,MAAO,QAAUw8B,EAASn6B,EAAQrC,IAOpC+7B,EAAM6B,eAAiB,WACrB,MAAO,QAET7B,EAAM8B,gBAAkB,WACtB,MAAO,WAOT9B,EAAM+B,kBAAoB,SAASz7B,EAAQrC,GACzC,IAAI8C,EAAQT,EAAOrC,GAEnB,MAAO,OADK8C,EAAMi7B,MAAQ,EAAI,WAAaj7B,EAAMi7B,MAAQ,IAAM,IACxC,OAEzBhC,EAAMiC,mBAAqB,SAAS37B,EAAQrC,GAC1C,MAAO,QAAUw8B,EAASn6B,EAAQrC,IAOpC+7B,EAAMkC,eAAiB,SAAS57B,EAAQrC,GACtC,OAAOqC,EAAOrC,GAAKk+B,MAAQ,GAAK,OAElCnC,EAAMoC,gBAAkB,SAAS97B,EAAQrC,GACvC,IAAIo+B,IAAa/7B,EAAOrC,GAAKk+B,OAASl+B,GAAgC,WAAzBqC,EAAOrC,EAAM,GAAG4C,OAAsBP,EAAOrC,EAAM,GAAG6C,SACnG,OAAQR,EAAOrC,GAAKk+B,MAAQ,GAAK,SAAWE,EAAW5B,EAASn6B,EAAQrC,GAAO,KAOjF+7B,EAAMsC,UAAY,SAASh8B,EAAQrC,EAAKD,GACtC,IAAIoqB,EAAQ9nB,EAAOrC,GAAKmqB,MAAS,WAAavrB,EAAWD,EAAgB0D,EAAOrC,GAAKmqB,QAAU,IAAO,GAClGlmB,EAASlE,EAAQu+B,WAAc,YAAcv+B,EAAQu+B,WAAa,IAAO,GAC7E,MAAO,YAAc1/B,EAAWyD,EAAOrC,GAAKiqB,MAAQ,IAAME,EAAQlmB,EAAS,KAE7E83B,EAAMwC,WAAa,WACjB,MAAO,QAOTxC,EAAMyC,MAAQ,SAASn8B,EAAQrC,EAAKD,GAClC,IAAI+B,EAAM,SAAWlD,EAAWyD,EAAOrC,GAAK8B,KAAO,IAC/CqoB,EAAQ9nB,EAAOrC,GAAKmqB,MAAS,WAAavrB,EAAWD,EAAgB0D,EAAOrC,GAAKmqB,QAAU,IAAO,GAGtG,MAAO,OAASroB,GAFN,UAAYO,EAAOrC,GAAKP,IAAMb,EAAWD,EAAgBJ,EAAW8D,EAAOrC,GAAKP,OAAS,IAAM,KAE7E0qB,GADfpqB,EAAQ09B,SAAW,KAAO,IACM,KAO/C1B,EAAM0C,WAAa,WACjB,MAAO,aAET1C,EAAM2C,YAAc,WAClB,MAAO,cAET3C,EAAM4C,WAAa,WACjB,MAAO,aAET5C,EAAM6C,YAAc,WAClB,MAAO,cAET7C,EAAM8C,WAAa,WACjB,MAAO,aAET9C,EAAM+C,YAAc,WAClB,MAAO,cAET/C,EAAMgD,QAAU,WACd,MAAO,QAEThD,EAAMiD,SAAW,WACf,MAAO,WAETjD,EAAMkD,QAAU,SAAS58B,EAAQrC,GAC/B,IAAI8C,EAAQT,EAAOrC,GACnB,MAAO,OACF8C,EAAMo8B,MAAQ,sBAAwBp8B,EAAMo8B,MAAQ,IAAM,IAC3D,KAENnD,EAAMoD,SAAW,WACf,MAAO,SAETpD,EAAMqD,QAAU,SAAS/8B,EAAQrC,GAC/B,IAAI8C,EAAQT,EAAOrC,GACnB,MAAO,OACF8C,EAAMo8B,MAAQ,sBAAwBp8B,EAAMo8B,MAAQ,IAAM,IAC3D,KAENnD,EAAMsD,SAAW,WACf,MAAO,SAOTtD,EAAMuD,YAAc,WAClB,MAAO,YAETvD,EAAMwD,aAAe,WACnB,MAAO,aAOTxD,EAAMyD,QAAU,WACd,MAAO,QAETzD,EAAM0D,SAAW,WACf,MAAO,SAOT1D,EAAM2D,SAAW,WACf,MAAO,SAET3D,EAAM4D,UAAY,WAChB,MAAO,UAOT5D,EAAM6D,SAAW,WACf,MAAO,SAET7D,EAAM8D,UAAY,WAChB,MAAO,UAOT9D,EAAM+D,UAAY,WAChB,MAAO,UAET/D,EAAMgE,WAAa,WACjB,MAAO,WAOThE,EAAMiE,IAAM,SAAS39B,EAAQrC,GAC3B,MAAO,QAAUpB,EAAWyD,EAAOrC,GAAK6C,SAAW,UAErDk5B,EAAMkE,IAAM,SAAS59B,EAAQrC,GAC3B,MAAO,QAAUpB,EAAWyD,EAAOrC,GAAK6C,SAAW,UAOrDk5B,EAAMmE,UAAY,SAAS79B,EAAQrC,EAAKD,GACtC,OAAOA,EAAQ09B,SAAW,WAAa,UAEzC1B,EAAMoE,UAAY,SAAS99B,EAAQrC,EAAKD,GACtC,OAAOA,EAAQqgC,OAAUrgC,EAAQ09B,SAAW,WAAa,SAAY,MAOvE1B,EAAMsE,KAAO,SAASh+B,EAAQrC,GAC5B,OAAOpB,EAAWyD,EAAOrC,GAAK6C,UAOhCk5B,EAAMuE,UAAY,SAASj+B,EAAQrC,GACjC,OAAOqC,EAAOrC,GAAK6C,SAErBk5B,EAAMwE,QAAU,SAASl+B,EAAQrC,GAC/B,OAAOqC,EAAOrC,GAAK6C,SAOrBk5B,EAAMyE,UAAY,SAASn+B,EAAQrC,GACjC,MAAO,gBAAkBpB,EAAWD,EAAgB0D,EAAOrC,GAAKmqB,QAAU,MAE5E4R,EAAM0E,WAAa,WACjB,MAAO,WAOT1E,EAAM2E,aAAe,SAASr+B,EAAQrC,GACpC,IAAIpE,EAAI+9B,OAAOt3B,EAAOrC,GAAKoJ,GAAK,GAAG/K,WAC/B+K,EAAK,QAAUxN,EAInB,OAHIyG,EAAOrC,GAAK2gC,MAAQ,IACtBv3B,GAAM,IAAM/G,EAAOrC,GAAK2gC,OAEnB,yCAA2C/kC,EAAI,SAAWwN,EAAK,MAAQxN,EAAI,eAEpFmgC,EAAM6E,oBAAsB,SAASv+B,EAAQrC,EAAKD,GAIhD,OAHSA,EAAQ09B,SACb,iCACA,gCACQ,8DAEd1B,EAAM8E,qBAAuB,WAC3B,MAAO,uBAET9E,EAAM+E,cAAgB,SAASz+B,EAAQrC,GAErC,MAAO,aADE25B,OAAOt3B,EAAOrC,GAAKoJ,GAAK,GAAG/K,WACT,6BAE7B09B,EAAMgF,eAAiB,WACrB,MAAO,WAEThF,EAAMiF,gBAAkB,SAAS3+B,EAAQrC,GACvC,IACIoJ,EAAK,QADDuwB,OAAOt3B,EAAOrC,GAAKoJ,GAAK,GAAG/K,WAKnC,OAHIgE,EAAOrC,GAAK2gC,MAAQ,IACtBv3B,GAAM,IAAM/G,EAAOrC,GAAK2gC,OAEnB,cAAgBv3B,EAAK,oCAO9B2yB,EAAMkF,QAAU,WACd,MAAO,UAETlF,EAAMmF,QAAU,WACd,MAAO,QAETnF,EAAMoF,QAAU,WACd,MAAO,QAETpF,EAAMqF,SAAW,WACf,MAAO,WAETrF,EAAMsF,SAAW,WACf,MAAO,WAETtF,EAAMuF,SAAW,WACf,MAAO,WA4BT,IAAI9E,EAAWT,EAAMS,SAAW,SAAkBn6B,EAAQrC,GAExD,OADAA,EAtBF,SAASuhC,EAAUl/B,EAAQrC,GACzB,QAAMA,GAAOqC,EAAOlD,OAAS,EACpBa,EAEiB,mBAArBqC,EAAOrC,GAAK4C,MAA6BP,EAAOrC,GAAKk+B,OAC5B,WAAzB77B,EAAOrC,EAAM,GAAG4C,MAAwD,IAAnCP,EAAOrC,EAAM,GAAG6C,QAAQ1D,QACpC,oBAAzBkD,EAAOrC,EAAM,GAAG4C,MAA8BP,EAAOrC,EAAM,GAAGk+B,MAC1DqD,EAAUl/B,EAAQrC,EAAM,GAE1BA,EAaDuhC,CAAUl/B,EAAQrC,IACdqC,EAAOlD,QAA+B,oBAArBkD,EAAOrC,GAAK4C,KAC9B,GAEF,MAOT1I,EAAOD,QAAU8hC,G,6BCtajB,IAAIl9B,EAAQ,EAAQ,GAMhB49B,EAAS,CACX,CAAE,QAAkB,EAAQ,KAC5B,CAAE,OAAkB,EAAQ,KAC5B,CAAE,aAAkB,EAAQ,KAC5B,CAAE,SAAkB,EAAQ,KAC5B,CAAE,gBAAkB,EAAQ,KAC5B,CAAE,QAAkB,EAAQ,KAC5B,CAAE,eAAkB,EAAQ,KAC5B,CAAE,cAAkB,EAAQ,KAC5B,CAAE,UAAkB,EAAQ,MAS9B,SAAS+E,IACP1iC,KAAKiB,QAAU,GACfjB,KAAK48B,MAAQ,IAAI78B,EACjB,IAAK,IAAI1E,EAAI,EAAGA,EAAIsiC,EAAOt9B,OAAQhF,IACjC2E,KAAK48B,MAAM/7B,KAAK88B,EAAOtiC,GAAG,GAAIsiC,EAAOtiC,GAAG,IAW5CqnC,EAAKzlC,UAAUogC,QAAU,SAAUl7B,GACjC,IAAI9G,EAAGC,EAAG2hC,EAEV,IAAK5hC,EAAI,EAAGC,GADZ2hC,EAAQj9B,KAAK48B,MAAM36B,SAAS,KACN5B,OAAQhF,EAAIC,EAAGD,IACnC4hC,EAAM5hC,GAAG8G,IAQb/G,EAAOD,QAAUunC,G,6BCvDjBtnC,EAAOD,QAAU,SAAegH,GAE1BA,EAAMi6B,WACRj6B,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAAS5B,EAAMa,IAAIpD,QAAQ,MAAO,KAAKgF,OACvCvC,MAAO,EACPsgC,MAAO,CAAE,EAAG,GACZvrB,SAAU,KAIZjV,EAAMm6B,MAAMc,MAAMj7B,EAAMa,IAAKb,EAAMlB,QAASkB,EAAMkB,IAAKlB,EAAMoB,U,6BCRjE,IAAIJ,EAAiB,EAAQ,GACzBy/B,EAAiB,EAAQ,GAG7B,SAASC,EAAUnjC,EAAK0D,EAAcnC,EAASoC,GAC7C,IAAIlB,EAAOK,EAAUI,EAAKH,EAAK4rB,EAAOhD,EAEtC,GAA0B,KAAtB3rB,EAAItB,WAAW,GAAsB,OAAQ,EACjD,GAA0B,KAAtBsB,EAAItB,WAAW,GAAsB,OAAQ,EAEjD,IAA2B,IAAvBsB,EAAIC,QAAQ,MAAgB,OAAQ,EAKxC,GAHAwC,EAAQ,IAAIgB,EAAYzD,EAAK0D,EAAcnC,EAASoC,EAAK,KACzDb,EAAWogC,EAAezgC,EAAO,IAElB,GAAsC,KAAjCzC,EAAItB,WAAWoE,EAAW,GAAsB,OAAQ,EAK5E,IAHAC,EAAMN,EAAMO,OAGPE,EAAMJ,EAAW,EAAGI,EAAMH,GACK,KAA9BN,EAAMa,IAAI5E,WAAWwE,GADSA,KAMpC,OAFAyrB,EAAQ3uB,EAAIlB,MAAM,EAAGgE,GAEA,KADrB6oB,EAAQ3rB,EAAIlB,MAAMgE,EAAW,EAAGI,GAAKgC,QAC3BvE,QAAwB,GAC7BgD,EAAIy/B,gBAAiBz/B,EAAIy/B,cAAgB,SAEA,IAAnCz/B,EAAIy/B,cAAc,IAAMzU,KACjChrB,EAAIy/B,cAAc,IAAMzU,GAAShD,GAG5BzoB,GAGTxH,EAAOD,QAAU,SAAcgH,GAC7B,IAA2B9G,EAAGC,EAAGyI,EAASnB,EAAtCW,EAASpB,EAAMoB,OAEnB,IAAIpB,EAAMi6B,WAKV,IAAK/gC,EAAI,EAAGC,EAAIiI,EAAOlD,OAAS,EAAGhF,EAAIC,EAAGD,IACxC,GAA2B,mBAAvBkI,EAAOlI,EAAI,GAAGyI,MACK,WAAnBP,EAAOlI,GAAGyI,MACa,oBAAvBP,EAAOlI,EAAI,GAAGyI,KAA4B,CAG5C,IADAC,EAAUR,EAAOlI,GAAG0I,QACbA,EAAQ1D,WACbuC,EAAMigC,EAAU9+B,EAAS5B,EAAMk6B,OAAQl6B,EAAMlB,QAASkB,EAAMkB,MAClD,IACVU,EAAUA,EAAQvF,MAAMoE,GAAKgC,OAG/BrB,EAAOlI,GAAG0I,QAAUA,EACfA,EAAQ1D,SACXkD,EAAOlI,EAAI,GAAG+jC,OAAQ,EACtB77B,EAAOlI,EAAI,GAAG+jC,OAAQ,M,6BC9D9B,IAAIj8B,EAAuB,EAAQ,GAC/By/B,EAAuB,EAAQ,GAC/BG,EAAuB,EAAQ,GAC/BC,EAAuB,EAAQ,GAC/BC,EAAuB,EAAQ,GAGnC,SAASC,EAAexjC,EAAKuD,EAAQhC,EAASoC,GAC5C,IAAIlB,EAAOK,EAAUI,EAAKH,EAAKtE,EAAMiE,EAAO+oB,EAAME,EAAOgD,EAEzD,GAA0B,KAAtB3uB,EAAItB,WAAW,GAAsB,OAAQ,EAEjD,IAA2B,IAAvBsB,EAAIC,QAAQ,MAAgB,OAAQ,EAKxC,GAHAwC,EAAQ,IAAIgB,EAAYzD,EAAKuD,EAAQhC,EAASoC,EAAK,KACnDb,EAAWogC,EAAezgC,EAAO,IAElB,GAAsC,KAAjCzC,EAAItB,WAAWoE,EAAW,GAAsB,OAAQ,EAM5E,IAJAC,EAAMN,EAAMO,OAIPE,EAAMJ,EAAW,EAAGI,EAAMH,IAEhB,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,KACE,KAATzE,GAFayE,KAOpC,IAAKmgC,EAAqB5gC,EAAOS,GAAQ,OAAQ,EAOjD,IANAuoB,EAAOhpB,EAAMyB,YAKbxB,EAJAQ,EAAMT,EAAMS,IAKPA,GAAY,EAAGA,EAAMH,IAEX,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,KACE,KAATzE,GAFQyE,KAgB/B,IATIA,EAAMH,GAAOL,IAAUQ,GAAOogC,EAAe7gC,EAAOS,IACtDyoB,EAAQlpB,EAAMyB,YACdhB,EAAMT,EAAMS,MAEZyoB,EAAQ,GACRzoB,EAAMR,GAIDQ,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAA4BA,IACrE,OAAIA,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAAyB,GAE/DyrB,EAAQ4U,EAAmBvjC,EAAIlB,MAAM,EAAGgE,SACH,IAA1Ba,EAAI8/B,WAAW9U,KACxBhrB,EAAI8/B,WAAW9U,GAAS,CAAEhD,MAAOA,EAAOF,KAAMA,IAGzCvoB,GAITxH,EAAOD,QAAU,SAAoBgH,GACnC,IAA2B9G,EAAGC,EAAGyI,EAASnB,EAAtCW,EAASpB,EAAMoB,OAInB,GAFApB,EAAMkB,IAAI8/B,WAAahhC,EAAMkB,IAAI8/B,YAAc,IAE3ChhC,EAAMi6B,WAKV,IAAK/gC,EAAI,EAAGC,EAAIiI,EAAOlD,OAAS,EAAGhF,EAAIC,EAAGD,IACxC,GAAuB,WAAnBkI,EAAOlI,GAAGyI,MACa,mBAAvBP,EAAOlI,EAAI,GAAGyI,MACS,oBAAvBP,EAAOlI,EAAI,GAAGyI,KAA4B,CAG5C,IADAC,EAAUR,EAAOlI,GAAG0I,QACbA,EAAQ1D,WACbuC,EAAMsgC,EAAen/B,EAAS5B,EAAMk6B,OAAQl6B,EAAMlB,QAASkB,EAAMkB,MACvD,IACVU,EAAUA,EAAQvF,MAAMoE,GAAKgC,OAG/BrB,EAAOlI,GAAG0I,QAAUA,EACfA,EAAQ1D,SACXkD,EAAOlI,EAAI,GAAG+jC,OAAQ,EACtB77B,EAAOlI,EAAI,GAAG+jC,OAAQ,M,6BC3F9BhkC,EAAOD,QAAU,SAAgBgH,GAC/B,IAA2BihC,EAAK/nC,EAAGC,EAA/BiI,EAASpB,EAAMoB,OAGnB,IAAKlI,EAAI,EAAGC,EAAIiI,EAAOlD,OAAQhF,EAAIC,EAAGD,IAEnB,YADjB+nC,EAAM7/B,EAAOlI,IACLyI,MACN3B,EAAMk6B,OAAOe,MAAMgG,EAAIr/B,QAAS5B,EAAMlB,QAASkB,EAAMkB,IAAK+/B,EAAIhsB,Y,6BCNpEhc,EAAOD,QAAU,SAAwBgH,GACvC,IAAI9G,EAAGC,EAAG+nC,EAAG9mC,EAAG+mC,EAAe1hC,EAAM2B,EAAQggC,EAASC,EAClDnhC,EAAQ,EACRohC,GAAY,EACZC,EAAY,GAEhB,GAAKvhC,EAAMkB,IAAIsgC,YAEfxhC,EAAMoB,OAASpB,EAAMoB,OAAOsyB,QAAO,SAASuN,GAC1C,MAAiB,4BAAbA,EAAIt/B,MACN2/B,GAAY,EACZF,EAAU,GACVC,EAAeJ,EAAI/U,OACZ,GAEQ,6BAAb+U,EAAIt/B,MACN2/B,GAAY,EAEZC,EAAU,IAAMF,GAAgBD,GACzB,IAELE,GAAaF,EAAQ1iC,KAAKuiC,IACtBK,MAGLthC,EAAMkB,IAAIsgC,UAAU/hC,MAAzB,CAOA,IANAA,EAAOO,EAAMkB,IAAIsgC,UAAU/hC,KAE3BO,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,sBACNzB,MAAOA,MAEJhH,EAAI,EAAGC,EAAIsG,EAAKvB,OAAQhF,EAAIC,EAAGD,IAAK,CAqCvC,IApCA8G,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,gBACNwG,GAAIjP,EACJgH,MAAOA,MAGLT,EAAKvG,GAAGkI,SACVA,EAAS,IACF1C,KAAK,CACViD,KAAM,iBACNs7B,OAAO,EACP/8B,MAAOA,MAETkB,EAAO1C,KAAK,CACViD,KAAM,SACNC,QAAS,GACT1B,MAAOA,EACP+U,SAAUxV,EAAKvG,GAAGkI,SAEpBA,EAAO1C,KAAK,CACViD,KAAM,kBACNs7B,OAAO,EACP/8B,QAASA,KAEFT,EAAKvG,GAAGgzB,QACjB9qB,EAASmgC,EAAU,IAAM9hC,EAAKvG,GAAGgzB,QAGnClsB,EAAMoB,OAASpB,EAAMoB,OAAO+6B,OAAO/6B,GAEjC+/B,EADiD,oBAA/CnhC,EAAMoB,OAAOpB,EAAMoB,OAAOlD,OAAS,GAAGyD,KACxB3B,EAAMoB,OAAOoX,MAEb,KAGlBpe,EAAIqF,EAAKvG,GAAGuoC,MAAQ,EAAIhiC,EAAKvG,GAAGuoC,MAAQ,EACnCP,EAAI,EAAGA,EAAI9mC,EAAG8mC,IACjBlhC,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,kBACNwG,GAAIjP,EACJwmC,MAAOwB,EACPhhC,MAAOA,IAIPihC,GACFnhC,EAAMoB,OAAO1C,KAAKyiC,GAGpBnhC,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,iBACNzB,QAASA,IAGbF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,uBACNzB,QAASA,O,6BClFb,SAASwhC,EAAUzmC,GACjB,OAAOA,EAAEwC,QAAQ,gCAAiC,QAIpDxE,EAAOD,QAAU,SAAegH,GAC9B,IAAI9G,EAAGgoC,EAAG/nC,EAAGiI,EAAQS,EAAOu9B,EAAMuC,EAAOlhC,EAAKP,EAAOkE,EAAK9K,EAAGsoC,EACzDC,EAAc7hC,EAAMoB,OAExB,GAAKpB,EAAMkB,IAAIy/B,cAaf,IAZK3gC,EAAMkB,IAAI4gC,aACbF,EAAU,OAhBI,kBAgBiBx+B,MAAM,IAAIqxB,IAAIiN,GAAW1I,KAAK,IAAnD,MACMp/B,OAAOsD,KAAK8C,EAAMkB,IAAIy/B,eAAelM,KAAI,SAAUzmB,GACjD,OAAOA,EAAE+zB,OAAO,MACf1N,MAAK,SAAUzsB,EAAG+L,GACnB,OAAOA,EAAEzV,OAAS0J,EAAE1J,UACnBu2B,IAAIiN,GAAW1I,KAAK,KAL7B,QAhBI,kBAsBiB51B,MAAM,IAAIqxB,IAAIiN,GAAW1I,KAAK,IAAM,KACnEh5B,EAAMkB,IAAI4gC,WAAa,IAAIz9B,OAAOu9B,EAAS,MAE7Cx9B,EAAMpE,EAAMkB,IAAI4gC,WAEXZ,EAAI,EAAG/nC,EAAI0oC,EAAY3jC,OAAQgjC,EAAI/nC,EAAG+nC,IACzC,GAA4B,WAAxBW,EAAYX,GAAGv/B,KAInB,IAAKzI,GAHLkI,EAASygC,EAAYX,GAAGjsB,UAGR/W,OAAS,EAAGhF,GAAK,EAAGA,IAElC,GAAmB,UADnB2I,EAAQT,EAAOlI,IACLyI,KAAV,CAQA,IANAlB,EAAM,EACN2+B,EAAOv9B,EAAMD,QACbwC,EAAI49B,UAAY,EAChB9hC,EAAQ2B,EAAM3B,MACdyhC,EAAQ,GAEAroC,EAAI8K,EAAIwwB,KAAKwK,IACfh7B,EAAI49B,UAAYvhC,GAClBkhC,EAAMjjC,KAAK,CACTiD,KAAM,OACNC,QAASw9B,EAAK/iC,MAAMoE,EAAKnH,EAAE0V,MAAQ1V,EAAE,GAAG4E,QACxCgC,MAAOA,IAIXyhC,EAAMjjC,KAAK,CACTiD,KAAM,YACNunB,MAAOlpB,EAAMkB,IAAIy/B,cAAc,IAAMrnC,EAAE,IACvC4G,MAAOA,MAETyhC,EAAMjjC,KAAK,CACTiD,KAAM,OACNC,QAAStI,EAAE,GACX4G,MAAOA,IAETyhC,EAAMjjC,KAAK,CACTiD,KAAM,aACNzB,QAASA,IAEXO,EAAM2D,EAAI49B,UAAY1oC,EAAE,GAAG4E,OAGxByjC,EAAMzjC,SAEPuC,EAAM2+B,EAAKlhC,QACbyjC,EAAMjjC,KAAK,CACTiD,KAAM,OACNC,QAASw9B,EAAK/iC,MAAMoE,GACpBP,MAAOA,IAKX2hC,EAAYX,GAAGjsB,SAAW7T,EAAS,GAAG+6B,OAAO/6B,EAAO/E,MAAM,EAAGnD,GAAIyoC,EAAOvgC,EAAO/E,MAAMnD,EAAI,Q,6BC5E/F,IAAI+oC,EAAU,+BAEVC,EAAiB,mBACjBC,EAAc,CAChB,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,KAYRlpC,EAAOD,QAAU,SAAiBgH,GAChC,IAAI9G,EAAG2I,EAAOu9B,EAAMgD,EAAcC,EAVT9kC,EAYzB,GAAKyC,EAAMlB,QAAQu7B,YAEnB,IAAKgI,EAASriC,EAAMoB,OAAOlD,OAAS,EAAGmkC,GAAU,EAAGA,IAElD,GAAkC,WAA9BriC,EAAMoB,OAAOihC,GAAQ1gC,KAIzB,IAAKzI,GAFLkpC,EAAepiC,EAAMoB,OAAOihC,GAAQptB,UAEd/W,OAAS,EAAGhF,GAAK,EAAGA,IAErB,UADnB2I,EAAQugC,EAAalpC,IACXyI,OACRy9B,EAAOv9B,EAAMD,QAEbw9B,GAzBmB7hC,EAyBM6hC,GAxBvB5hC,QAAQ,KAAO,EAAYD,EAE5BA,EAAIE,QAAQykC,GAAgB,SAASnmC,EAAOtC,GACjD,OAAO0oC,EAAY1oC,EAAK0C,kBAuBhB8lC,EAAQ/lC,KAAKkjC,KACfA,EAAOA,EACJ3hC,QAAQ,OAAQ,KAGhBA,QAAQ,UAAW,KAAKA,QAAQ,WAAY,QAC5CA,QAAQ,cAAe,UAAUA,QAAQ,SAAU,KAEnDA,QAAQ,wBAAyB,SAEjCA,QAAQ,mBAAoB,SAC5BA,QAAQ,2BAA4B,UAGzCoE,EAAMD,QAAUw9B,K,6BCtDxB,IAAIkD,EAAgB,OAChBC,EAAW,QACXC,EAAW,cAKf,SAASC,EAASllC,EAAKkD,GACrB,QAAIA,EAAM,GAAKA,GAAOlD,EAAIW,UAClBskC,EAAStmC,KAAKqB,EAAIkD,IAI5B,SAASiiC,EAAUnlC,EAAKyR,EAAOtS,GAC7B,OAAOa,EAAIwkC,OAAO,EAAG/yB,GAAStS,EAAKa,EAAIwkC,OAAO/yB,EAAQ,GAIxD/V,EAAOD,QAAU,SAAqBgH,GAEpC,IAAI9G,EAAG2I,EAAOu9B,EAAMhlC,EAAGqG,EAAKH,EAAKqiC,EAAWC,EAAWC,EAAW34B,EAC9D44B,EAASC,EAAU7B,EAAG8B,EAAUX,EAAQjhC,EACxC6hC,EAEJ,GAAKjjC,EAAMlB,QAAQu7B,YAInB,IAFA4I,EAAQ,GAEHZ,EAASriC,EAAMoB,OAAOlD,OAAS,EAAGmkC,GAAU,EAAGA,IAElD,GAAkC,WAA9BriC,EAAMoB,OAAOihC,GAAQ1gC,KAKzB,IAHAP,EAASpB,EAAMoB,OAAOihC,GAAQptB,SAC9BguB,EAAM/kC,OAAS,EAEVhF,EAAI,EAAGA,EAAIkI,EAAOlD,OAAQhF,IAG7B,GAAmB,UAFnB2I,EAAQT,EAAOlI,IAELyI,OAAmB2gC,EAAcpmC,KAAK2F,EAAMu9B,MAAtD,CAIA,IAFAuD,EAAYvhC,EAAOlI,GAAGgH,MAEjBghC,EAAI+B,EAAM/kC,OAAS,EAAGgjC,GAAK,KAC1B+B,EAAM/B,GAAGhhC,OAASyiC,GADWzB,KAGnC+B,EAAM/kC,OAASgjC,EAAI,EAGnBzgC,EAAM,EACNH,GAFA8+B,EAAOv9B,EAAMD,SAEF1D,OAGXglC,EACA,KAAOziC,EAAMH,IACXiiC,EAASP,UAAYvhC,EACrBrG,EAAImoC,EAAS3N,KAAKwK,KAQlB,GALAwD,GAAaH,EAASrD,EAAMhlC,EAAE4U,MAAQ,GACtCvO,EAAMrG,EAAE4U,MAAQ,EAChBg0B,EAAqB,MAAT5oC,EAAE,IACdyoC,GAAaJ,EAASrD,EAAM3+B,KAETmiC,EAAnB,CAWA,GAHAE,GAAWD,EACXE,GAAYH,EAIV,IAAK1B,EAAI+B,EAAM/kC,OAAS,EAAGgjC,GAAK,IAC9Bh3B,EAAO+4B,EAAM/B,KACT+B,EAAM/B,GAAGhhC,MAAQyiC,IAFYzB,IAGjC,GAAIh3B,EAAKi5B,SAAWH,GAAYC,EAAM/B,GAAGhhC,QAAUyiC,EAAW,CAC5Dz4B,EAAO+4B,EAAM/B,GACT8B,GACF5hC,EAAO8I,EAAKrI,OAAOD,QAAU8gC,EAAUthC,EAAO8I,EAAKrI,OAAOD,QAASsI,EAAKzJ,IAAKT,EAAMlB,QAAQskC,OAAO,IAClGvhC,EAAMD,QAAU8gC,EAAU7gC,EAAMD,QAASxH,EAAE4U,MAAOhP,EAAMlB,QAAQskC,OAAO,MAEvEhiC,EAAO8I,EAAKrI,OAAOD,QAAU8gC,EAAUthC,EAAO8I,EAAKrI,OAAOD,QAASsI,EAAKzJ,IAAKT,EAAMlB,QAAQskC,OAAO,IAClGvhC,EAAMD,QAAU8gC,EAAU7gC,EAAMD,QAASxH,EAAE4U,MAAOhP,EAAMlB,QAAQskC,OAAO,KAEzEH,EAAM/kC,OAASgjC,EACf,SAASgC,EAKXJ,EACFG,EAAMvkC,KAAK,CACTmD,MAAO3I,EACPuH,IAAKrG,EAAE4U,MACPm0B,OAAQH,EACR9iC,MAAOyiC,IAEAI,GAAYC,IACrBnhC,EAAMD,QAAU8gC,EAAU7gC,EAAMD,QAASxH,EAAE4U,MAnGpC,WA8DHg0B,IACFnhC,EAAMD,QAAU8gC,EAAU7gC,EAAMD,QAASxH,EAAE4U,MA/DtC,S,6BCDjB,IAAIq0B,EAAa,EAAQ,IAGrBC,EAAe,eAMnB,SAASC,EAAYhmC,GACnB,MAAO,aAAarB,KAAKqB,GAM3B,SAASimC,IACP,IAAIC,EAAQ,GACRC,EAAa,IAAIL,EAAW,CAC9BM,aAAa,EACbvhC,KAAK,EACLwhC,OAAO,EACPC,SAAS,EACTC,UAAW,SAAUC,EAAQhoC,GAE3B,OAAQA,EAAMioC,WAEZ,IAAK,MACHP,EAAM/kC,KAAK,CACT0gC,KAAMrjC,EAAMkoC,YACZ7hC,IAAKrG,EAAMmoC,WAEb,MACF,IAAK,QACHT,EAAM/kC,KAAK,CACT0gC,KAAMrjC,EAAMkoC,YAEZ7hC,IAAK,UAAYrG,EAAMooC,WAAW1mC,QAAQ,YAAa,MAI7D,OAAO,KAIX,MAAO,CACLgmC,MAAOA,EACPC,WAAYA,GAKhBzqC,EAAOD,QAAU,SAAiBgH,GAChC,IAAI9G,EAAGgoC,EAAG/nC,EAAGiI,EAAQS,EAAOu9B,EAAMuC,EAAOyC,EAAI3jC,EAAKP,EAAOmkC,EAEnCZ,EAAOC,EAjDXnmC,EAgDdskC,EAAc7hC,EAAMoB,OACpBkjC,EAAY,KAEhB,GAAKtkC,EAAMlB,QAAQylC,QAEnB,IAAKrD,EAAI,EAAG/nC,EAAI0oC,EAAY3jC,OAAQgjC,EAAI/nC,EAAG+nC,IACzC,GAA4B,WAAxBW,EAAYX,GAAGv/B,KAOnB,IAJA0iC,EAAgB,EAIXnrC,GANLkI,EAASygC,EAAYX,GAAGjsB,UAMR/W,OAAS,EAAGhF,GAAK,EAAGA,IAIlC,GAAmB,gBAHnB2I,EAAQT,EAAOlI,IAGLyI,MAiBV,GARmB,YAAfE,EAAMF,OA1EIpE,EA2EGsE,EAAMD,QA1EpB,YAAY1F,KAAKqB,IA0Ee8mC,EAAgB,GAC/CA,IAEEd,EAAY1hC,EAAMD,UACpByiC,OAGAA,EAAgB,IAED,SAAfxiC,EAAMF,MAAmB2hC,EAAapnC,KAAK2F,EAAMD,SAAU,CAa7D,GAVK0iC,IAEHb,GADAa,EAAYd,KACMC,MAClBC,EAAaY,EAAUZ,YAGzBtE,EAAOv9B,EAAMD,QACb6hC,EAAMvlC,OAAS,EACfwlC,EAAWxhC,KAAKk9B,IAEXqE,EAAMvlC,OAAU,SAMrB,IAHAyjC,EAAQ,GACRzhC,EAAQ2B,EAAM3B,MAETkkC,EAAK,EAAGA,EAAKX,EAAMvlC,OAAQkmC,IAEzBpkC,EAAMk6B,OAAO/3B,aAAashC,EAAMW,GAAIhiC,QAEzC3B,EAAM2+B,EAAK5hC,QAAQimC,EAAMW,GAAIhF,SAG3Bl/B,EAAQA,EACRyhC,EAAMjjC,KAAK,CACTiD,KAAM,OACNC,QAASw9B,EAAK/iC,MAAM,EAAGoE,GACvBP,MAAOA,KAGXyhC,EAAMjjC,KAAK,CACTiD,KAAM,YACNqnB,KAAMya,EAAMW,GAAIhiC,IAChB8mB,MAAO,GACPhpB,MAAOA,MAETyhC,EAAMjjC,KAAK,CACTiD,KAAM,OACNC,QAAS6hC,EAAMW,GAAIhF,KACnBl/B,MAAOA,IAETyhC,EAAMjjC,KAAK,CACTiD,KAAM,aACNzB,QAASA,IAEXk/B,EAAOA,EAAK/iC,MAAMoE,EAAMgjC,EAAMW,GAAIhF,KAAKlhC,SAErCkhC,EAAKlhC,QACPyjC,EAAMjjC,KAAK,CACTiD,KAAM,OACNC,QAASw9B,EACTl/B,MAAOA,IAKX2hC,EAAYX,GAAGjsB,SAAW7T,EAAS,GAAG+6B,OAAO/6B,EAAO/E,MAAM,EAAGnD,GAAIyoC,EAAOvgC,EAAO/E,MAAMnD,EAAI,UA5EzF,IADAA,IACOkI,EAAOlI,GAAGgH,QAAU2B,EAAM3B,OAA4B,cAAnBkB,EAAOlI,GAAGyI,MAClDzI,M,gBCjFV;;;;;;;;;GAWI,EAAO,QAAW,0BAAP,EAMP,WA+GR,IAorFMsrC,EACAC,EACHC,EACAC,EAnuCGC,EACAC,EAtPDC,EA/tCDzB,EAAa,SAAU0B,GAC1BA,EAAMA,GAAO,GAEblnC,KAAKmnC,QAAU3B,EAAW2B,QAE1BnnC,KAAKonC,KAAOpnC,KAAKqnC,iBAAkBH,EAAIE,MACvCpnC,KAAK+lC,MAA6B,kBAAdmB,EAAInB,OAAsBmB,EAAInB,MAClD/lC,KAAKgmC,QAAiC,kBAAhBkB,EAAIlB,SAAwBkB,EAAIlB,QACtDhmC,KAAKsnC,MAA6B,kBAAdJ,EAAII,OAAsBJ,EAAII,MAClDtnC,KAAKunC,QAAUL,EAAIK,UAAW,EAC9BvnC,KAAKwnC,UAAqC,kBAAlBN,EAAIM,WAA0BN,EAAIM,UAC1DxnC,KAAK8lC,YAAyC,kBAApBoB,EAAIpB,aAA4BoB,EAAIpB,YAG9D,IAAIyB,EAAUvnC,KAAKunC,QACnB,IAAgB,IAAZA,GAAiC,YAAZA,GAAqC,aAAZA,GAAsC,cAAZA,EAC3E,MAAM,IAAInmC,MAAO,oCAGlBpB,KAAKynC,SAAWznC,KAAK0nC,qBAAsBR,EAAIO,UAC/CznC,KAAK8F,UAAYohC,EAAIphC,WAAa,GAClC9F,KAAKimC,UAAYiB,EAAIjB,WAAa,KAElCjmC,KAAK2nC,WAAa,KAClB3nC,KAAK4nC,SAAW,KAChB5nC,KAAK6nC,WAAa,MA+hHnB,OApgHArC,EAAWnhC,KAAO,SAAUyjC,EAAY7mC,GAEvC,OADiB,IAAIukC,EAAYvkC,GACfoD,KAAMyjC,IAYzBtC,EAAW2B,QAAU,SAGrB3B,EAAWvoC,UAAY,CACtB8qC,YAAcvC,EAyMd6B,iBAAmB,SAAUD,GAG5B,OAFY,MAARA,IAAeA,GAAO,GAEN,kBAATA,EACH,CAAEY,cAAeZ,EAAMa,WAAYb,EAAMc,WAAYd,GAGrD,CACNY,cAA8C,kBAAvBZ,EAAKY,eAA8BZ,EAAKY,cAC/DC,WAA2C,kBAApBb,EAAKa,YAA8Bb,EAAKa,WAC/DC,WAA2C,kBAApBd,EAAKc,YAA8Bd,EAAKc,aAgBlER,qBAAuB,SAAUD,GAChC,MAAwB,iBAAbA,EACH,CAAEpnC,OAAQonC,EAAUrc,SAAU,OAG9Boa,EAAW2C,KAAKC,SAAUX,GAAY,GAAI,CAChDpnC,OAAWw6B,OAAOwN,kBAClBjd,SAAW,SAsBdgS,MAAQ,SAAU0K,GAQjB,IAPA,IACIQ,EADatoC,KAAKuoC,gBACKnL,MAAO0K,GAC9BU,EAAsB,EACtBC,EAAU,GAILptC,EAAI,EAAG+E,EAAMkoC,EAAUjoC,OAAQhF,EAAI+E,EAAK/E,IAAM,CACtD,IAAIyL,EAAOwhC,EAAWjtC,GAClBm6B,EAAW1uB,EAAKq/B,UAEpB,GAAiB,YAAb3Q,GAAgD,MAAtB1uB,EAAK4hC,aAC7B5hC,EAAK6hC,YAGTH,EAAsB5gC,KAAKnF,IAAK+lC,EAAsB,EAAG,GAFzDA,SAKK,GAAiB,SAAbhT,GAA+C,IAAxBgT,EAA4B,CAC7D,IAAII,EAAkB5oC,KAAK6oC,UAAW/hC,EAAKgiC,UAAWhiC,EAAKiiC,aAE3DN,EAAQ5nC,KAAK+Q,MAAO62B,EAASG,IAgB/B,OARAH,EAAUzoC,KAAKgpC,eAAgBP,GAM/BA,EAAUzoC,KAAKipC,sBAAuBR,IAevCO,eAAiB,SAAUP,GAE1BA,EAAQjS,MAAM,SAAUzsB,EAAG+L,GAAM,OAAO/L,EAAEg/B,YAAcjzB,EAAEizB,eAE1D,IAAK,IAAI1tC,EAAI,EAAGA,EAAIotC,EAAQpoC,OAAS,EAAGhF,IAKvC,IAJA,IAAI6C,EAAQuqC,EAASptC,GACjB6tC,EAAShrC,EAAM6qC,YAAc7qC,EAAMirC,iBAAiB9oC,OAGjDhF,EAAI,EAAIotC,EAAQpoC,QAAUooC,EAASptC,EAAI,GAAI0tC,aAAeG,GAChET,EAAQjnC,OAAQnG,EAAI,EAAG,GAIzB,OAAOotC,GAeRQ,sBAAwB,SAAUR,GACjC,IAAIW,EAAS5D,EAAW2C,KAAKiB,OAgB7B,OAdKppC,KAAKunC,SAAU6B,EAAQX,GAAS,SAAUvqC,GAAU,MAA2B,YAApBA,EAAMioC,aACjEnmC,KAAK+lC,OAAUqD,EAAQX,GAAS,SAAUvqC,GAAU,MAA2B,UAApBA,EAAMioC,aACjEnmC,KAAKsnC,OAAU8B,EAAQX,GAAS,SAAUvqC,GAAU,MAA2B,UAApBA,EAAMioC,aACjEnmC,KAAKgmC,SAAUoD,EAAQX,GAAS,SAAUvqC,GAAU,MAA2B,YAApBA,EAAMioC,aACjEnmC,KAAKonC,KAAKY,eACdoB,EAAQX,GAAS,SAAUhtC,GAAM,MAAuB,QAAhBA,EAAE0qC,WAA+C,WAAxB1qC,EAAE4tC,qBAE/DrpC,KAAKonC,KAAKa,YACdmB,EAAQX,GAAS,SAAUhtC,GAAM,MAAuB,QAAhBA,EAAE0qC,WAA+C,QAAxB1qC,EAAE4tC,qBAE/DrpC,KAAKonC,KAAKc,YACdkB,EAAQX,GAAS,SAAUhtC,GAAM,MAAuB,QAAhBA,EAAE0qC,WAA+C,QAAxB1qC,EAAE4tC,qBAG7DZ,GAyBRI,UAAY,SAAUtH,EAAM+H,GAC3BA,EAASA,GAAU,EAInB,IAHA,IAAI1B,EAAW5nC,KAAKupC,cAChBd,EAAU,GAELptC,EAAI,EAAGmuC,EAAc5B,EAASvnC,OAAQhF,EAAImuC,EAAanuC,IAAM,CAOrE,IANA,IAAIouC,EAAc7B,EAAUvsC,GAAIquC,aAAcnI,GAMrC8B,EAAI,EAAGsG,EAAiBF,EAAYppC,OAAQgjC,EAAIsG,EAAgBtG,IACxEoG,EAAapG,GAAIuG,UAAWN,EAASG,EAAapG,GAAI0F,aAGvDN,EAAQ5nC,KAAK+Q,MAAO62B,EAASgB,GAE9B,OAAOhB,GAuBRpkC,KAAO,SAAUyjC,GAChB,IAAKA,EAAe,MAAO,GAM3B,IAJA,IAAIW,EAAUzoC,KAAKo9B,MAAO0K,GACzB+B,EAAU,GACV1F,EAAY,EAEJ9oC,EAAI,EAAG+E,EAAMqoC,EAAQpoC,OAAQhF,EAAI+E,EAAK/E,IAAM,CACpD,IAAI6C,EAAQuqC,EAASptC,GAErBwuC,EAAQhpC,KAAMinC,EAAWvd,UAAW4Z,EAAWjmC,EAAM6qC,cACrDc,EAAQhpC,KAAMb,KAAK8pC,qBAAsB5rC,IAEzCimC,EAAYjmC,EAAM6qC,YAAc7qC,EAAMirC,iBAAiB9oC,OAIxD,OAFAwpC,EAAQhpC,KAAMinC,EAAWvd,UAAW4Z,IAE7B0F,EAAQ1O,KAAM,KAgBtB2O,qBAAuB,SAAU5rC,GAEhC,IAAI6rC,EAKJ,OAJI/pC,KAAKimC,YACR8D,EAAkB/pC,KAAKimC,UAAUzqC,KAAMwE,KAAMA,KAAM9B,IAGrB,iBAApB6rC,EACHA,GAEuB,IAApBA,EACH7rC,EAAMirC,iBAEHY,aAA2BvE,EAAWwE,QACzCD,EAAgBE,iBAIP/rC,EAAMgsC,WAELD,kBAYnB1B,cAAgB,WACf,IAAIZ,EAAa3nC,KAAK2nC,WAMtB,OAJKA,IACJA,EAAa3nC,KAAK2nC,WAAa,IAAInC,EAAWmC,WAAWwC,YAGnDxC,GAWR4B,YAAc,WACb,GAAKvpC,KAAK4nC,SAeT,OAAO5nC,KAAK4nC,SAdZ,IAAIwC,EAAa5E,EAAW6E,QACxBxC,EAAa7nC,KAAKsqC,gBAElB1C,EAAW,CACd,IAAIwC,EAAWG,QAAS,CAAE1C,WAAYA,EAAY2C,YAAaxqC,KAAKunC,UACpE,IAAI6C,EAAWK,MAAO,CAAE5C,WAAYA,IACpC,IAAIuC,EAAWM,MAAO,CAAE7C,WAAYA,IACpC,IAAIuC,EAAWO,QAAS,CAAE9C,WAAYA,IACtC,IAAIuC,EAAWQ,IAAK,CAAE/C,WAAYA,EAAY/B,YAAa9lC,KAAK8lC,eAGjE,OAAS9lC,KAAK4nC,SAAWA,GA6B3B0C,cAAgB,WACf,IAAIzC,EAAa7nC,KAAK6nC,WAUtB,OARKA,IACJA,EAAa7nC,KAAK6nC,WAAa,IAAIrC,EAAWqF,iBAAkB,CAC/DrD,UAAcxnC,KAAKwnC,UACnBC,SAAcznC,KAAKynC,SACnB3hC,UAAc9F,KAAK8F,aAId+hC,IAQTrC,EAAWtnC,MAAQ,GACnBsnC,EAAW6E,QAAU,GACrB7E,EAAWmC,WAAa,GACxBnC,EAAWiC,SAAW,GAUtBjC,EAAW2C,KAAO,CAOjB2C,eAAiB,WAAa,KAAM,YAUpCC,UAAY,qCAUZjsC,OAAS,SAAUksC,EAAMhoC,GACxB,IAAK,IAAIuE,KAAQvE,EACZA,EAAI9F,eAAgBqK,KACvByjC,EAAMzjC,GAASvE,EAAKuE,IAItB,OAAOyjC,GAYR5C,SAAW,SAAU4C,EAAMhoC,GAC1B,IAAK,IAAIuE,KAAQvE,EACZA,EAAI9F,eAAgBqK,SAA2BpB,IAAjB6kC,EAAMzjC,KACvCyjC,EAAMzjC,GAASvE,EAAKuE,IAItB,OAAOyjC,GAYR7jC,OAAS,SAAU8jC,EAAYC,GAC9B,IAKIC,EALAC,EAAkBH,EAAWhuC,UAE7BouC,EAAI,aACRA,EAAEpuC,UAAYmuC,EASd,IAAIE,GALHH,EADGD,EAAWhuC,eAAgB,eACnBguC,EAAWnD,YAEX,WAAaqD,EAAgBrD,YAAYn2B,MAAO5R,KAAMf,aAGrChC,UAAY,IAAIouC,EAO7C,OANAC,EAAcvD,YAAcoD,EAC5BG,EAAcL,WAAaG,SAEpBF,EAAWnD,YAClBvC,EAAW2C,KAAKrpC,OAAQwsC,EAAeJ,GAEhCC,GAcRI,SAAW,SAAU7rC,EAAK8rC,EAAaC,GAKtC,OAJI/rC,EAAIW,OAASmrC,IAChBC,EAAmC,MAAjBA,EAA0B,KAAOA,EACnD/rC,EAAMA,EAAI6qB,UAAW,EAAGihB,EAAcC,EAAcprC,QAAWorC,GAEzD/rC,GAWRC,QAAU,SAAU+rC,EAAKnW,GACxB,GAAIzzB,MAAM7E,UAAU0C,QACnB,OAAO+rC,EAAI/rC,QAAS41B,GAGpB,IAAK,IAAIl6B,EAAI,EAAG+E,EAAMsrC,EAAIrrC,OAAQhF,EAAI+E,EAAK/E,IAC1C,GAAIqwC,EAAKrwC,KAAQk6B,EAAU,OAAOl6B,EAEnC,OAAQ,GAmBV+tC,OAAS,SAAUsC,EAAK3qC,GACvB,IAAK,IAAI1F,EAAIqwC,EAAIrrC,OAAS,EAAGhF,GAAK,EAAGA,KACb,IAAnB0F,EAAI2qC,EAAKrwC,KACZqwC,EAAIlqC,OAAQnG,EAAG,IA6BlBswC,gBAAkB,SAAUjsC,EAAKksC,GAChC,IAAKA,EAAWC,OAAS,MAAM,IAAIzqC,MAAO,2CAM1C,IAJA,IAEIlD,EAFA0/B,EAAS,GACTkO,EAAU,EAGP5tC,EAAQ0tC,EAAW7U,KAAMr3B,IAC/Bk+B,EAAO/8B,KAAMnB,EAAI6qB,UAAWuhB,EAAS5tC,EAAMiT,QAC3CysB,EAAO/8B,KAAM3C,EAAO,IAEpB4tC,EAAU5tC,EAAMiT,MAAQjT,EAAO,GAAImC,OAIpC,OAFAu9B,EAAO/8B,KAAMnB,EAAI6qB,UAAWuhB,IAErBlO,GAURh5B,KAAO,SAAUlF,GAChB,OAAOA,EAAIE,QAASI,KAAK+qC,UAAW,MAgFtCvF,EAAWwE,QAAUxE,EAAW2C,KAAKhhC,OAAQpL,OAAQ,CA0CpDgwC,gBAAkB,MAOlBhE,YAAc,SAAUb,GACvB1B,EAAW2C,KAAKrpC,OAAQkB,KAAMknC,GAE9BlnC,KAAKgsC,UAAYhsC,KAAKgsC,WAAahsC,KAAKgmB,WAUzCimB,WAAa,SAAU//B,GAEtB,OADAlM,KAAKkM,QAAUA,EACRlM,MASR0oC,WAAa,WACZ,OAAO1oC,KAAKkM,SAAW,IAWxBggC,QAAU,SAAUC,EAAUC,GAI7B,OAHepsC,KAAKqsC,WACVF,GAAaC,EAEhBpsC,MAURssC,QAAU,SAAUH,GACnB,OAAOnsC,KAAKqsC,WAAYF,IAUzBI,SAAW,SAAUC,GACpB,IAAIC,EAAWzsC,KAAKqsC,WAGpB,OAFA7G,EAAW2C,KAAKrpC,OAAQ2tC,EAAUD,GAE3BxsC,MASRqsC,SAAW,WACV,OAAOrsC,KAAKwsC,QAAWxsC,KAAKwsC,MAAQ,KAUrCE,SAAW,SAAUC,GACpB,OAAO3sC,KAAKksC,QAAS,QAASS,IAU/BlmC,SAAW,SAAUkmC,GAQpB,IAPA,IAKIC,EALAxa,EAAYpyB,KAAK6sC,WACjBd,EAAkB/rC,KAAK+rC,gBACvBpsC,EAAU6lC,EAAW2C,KAAKxoC,QAC1B8F,EAAa2sB,EAAmBA,EAAU7sB,MAAOwmC,GAAtB,GAC3Be,EAAaH,EAASpnC,MAAOwmC,GAG1Ba,EAAWE,EAAWn7B,UACU,IAAlChS,EAAS8F,EAASmnC,IACrBnnC,EAAQ5E,KAAM+rC,GAKhB,OADA5sC,KAAKqsC,WAAoB,MAAI5mC,EAAQ01B,KAAM,KACpCn7B,MAURsG,YAAc,SAAUqmC,GAQvB,IAPA,IAKIrmC,EALA8rB,EAAYpyB,KAAK6sC,WACjBd,EAAkB/rC,KAAK+rC,gBACvBpsC,EAAU6lC,EAAW2C,KAAKxoC,QAC1B8F,EAAa2sB,EAAmBA,EAAU7sB,MAAOwmC,GAAtB,GAC3BgB,EAAgBJ,EAASpnC,MAAOwmC,GAG7BtmC,EAAQpF,SAAYiG,EAAcymC,EAAcp7B,UAAY,CAClE,IAAIzQ,EAAMvB,EAAS8F,EAASa,IACf,IAATpF,GACHuE,EAAQjE,OAAQN,EAAK,GAKvB,OADAlB,KAAKqsC,WAAoB,MAAI5mC,EAAQ01B,KAAM,KACpCn7B,MAUR6sC,SAAW,WACV,OAAO7sC,KAAKqsC,WAAoB,OAAK,IAUtC3lC,SAAW,SAAUimC,GACpB,OAA4E,KAAnE,IAAM3sC,KAAK6sC,WAAa,KAAMltC,QAAS,IAAMgtC,EAAW,MAUlEK,aAAe,SAAUjmB,GAGxB,OAFA/mB,KAAKgsC,UAAYjlB,EAEV/mB,MASRitC,aAAe,WACd,OAAOjtC,KAAKgsC,WAAa,IAS1B/B,eAAiB,WAChB,IAAI/9B,EAAUlM,KAAK0oC,aACfwE,EAAWltC,KAAKmtC,gBAIpB,MAAO,CAAE,IAAKjhC,EAFdghC,EAAW,EAAe,IAAMA,EAAW,GAEV,IAAKltC,KAAKitC,eAAgB,KAAM/gC,EAAS,KAAMivB,KAAM,KAWvFgS,cAAgB,WACf,IAAKntC,KAAKwsC,MAAQ,MAAO,GAEzB,IAAIA,EAAQxsC,KAAKqsC,WACbe,EAAW,GAEf,IAAK,IAAI7lC,KAAQilC,EACZA,EAAMtvC,eAAgBqK,IACzB6lC,EAASvsC,KAAM0G,EAAO,KAAOilC,EAAOjlC,GAAS,KAG/C,OAAO6lC,EAASjS,KAAM,QAgBxBqK,EAAW6H,SAgDH,CAYNpG,qBAvBGA,EAAuBqG,+iCA+B1BzG,gBA3BqB,IAAIrgC,OAAQ,IAAMygC,EAAuB,UAAYA,EAAuB,QAmCjGH,SA/Bc,2iNAiEhBtB,EAAWqF,iBAAmBrF,EAAW2C,KAAKhhC,OAAQpL,OAAQ,CAsB7DgsC,YAAc,SAAUb,GACvB1B,EAAW2C,KAAKrpC,OAAQkB,KAAMknC,IAY/BqG,MAAQ,SAAUrvC,GACjB,OAAO,IAAIsnC,EAAWwE,QAAS,CAC9B99B,QAAY,IACZsgC,MAAYxsC,KAAKwtC,YAAatvC,EAAMioC,UAAWjoC,EAAMuvC,iBACrDzB,UAAYhsC,KAAK0tC,kBAAmBxvC,EAAMyvC,oBAe5CH,YAAc,SAAUI,EAAWC,GAClC,IAAIrB,EAAQ,CACX,KAASqB,GAGNlB,EAAW3sC,KAAK8tC,eAAgBF,GASpC,OARIjB,IACHH,EAAe,MAAIG,GAEhB3sC,KAAKwnC,YACRgF,EAAgB,OAAI,SACpBA,EAAa,IAAI,uBAGXA,GAeRsB,eAAiB,SAAUF,GAC1B,IAAI9nC,EAAY9F,KAAK8F,UAErB,OAAKA,EAGGA,EAAY,IAAMA,EAAY,IAAM8nC,EAFpC,IAeTF,kBAAoB,SAAUK,GAG7B,OAFAA,EAAa/tC,KAAKguC,WAAYD,IAiB/BC,WAAa,SAAUD,GACtB,IAAItG,EAAWznC,KAAKynC,SACpB,IAAKA,IAAaA,EAASpnC,OAAS,OAAO0tC,EAE3C,IAAIE,EAAiBxG,EAASpnC,OAC7B6tC,EAAmBzG,EAASrc,SAE7B,MAAyB,UAArB8iB,EACI1I,EAAWiC,SAAS0G,cAAeJ,EAAYE,EAAgB,MAEvC,WAArBC,EACH1I,EAAWiC,SAAS2G,eAAgBL,EAAYE,EAAgB,MAGhEzI,EAAWiC,SAAS4G,YAAaN,EAAYE,EAAgB,SAiBvEzI,EAAWmC,WAAWwC,WAAa3E,EAAW2C,KAAKhhC,OAAQpL,OAAQ,CAiBlEuyC,WAIKvH,EAAiB,qCACjBC,EAFgB,4BAEqB7nC,OAAS,eAAiB4nC,EAAe5nC,OAAS,KAEpF,IAAIqH,OAAQ,CAElB,MACC,cAGC,MACC,OAKA,MAAOwgC,EAAsB,IAAKD,EAAe5nC,OAAS,IAC3D,KACD,IACD,IAEA,IAGA,MACC,QAGC,MA9BmB,kBA+BFA,OAEhB,IAEA,MAGC,IArCc,2BAqCKA,OAAS,IAG5B,MACC,eACA6nC,EACD,KAEA,SAED,IACD,IACD,IACD,KACC7L,KAAM,IAAM,OAWfoT,2BAA4B,6DAU5BnR,MAAQ,SAAUrW,GAOjB,IANA,IACIynB,EAEAC,EAHAH,EAAYtuC,KAAKsuC,UAEjBnK,EAAY,EAEZL,EAAQ,GAE0C,QAA7C0K,EAAgBF,EAAUvX,KAAMhQ,KAAoB,CAC5D,IAAI2nB,EAAUF,EAAe,GACzBG,EAAcH,EAAe,GAC7BtiC,EAAUsiC,EAAe,IAAOA,EAAe,GAC/CI,IAAiBJ,EAAe,GAChClF,EAASkF,EAAcr9B,MACvB09B,EAAoB9nB,EAAKwD,UAAW4Z,EAAWmF,GAG/CuF,IACHJ,EAAqBzuC,KAAK8uC,wBAAyB3K,EAAW0K,GAC9D/K,EAAMjjC,KAAK+Q,MAAOkyB,EAAO2K,IAItBE,EACH7K,EAAMjjC,KAAMb,KAAK+uC,kBAAmBzF,EAAQoF,EAASC,IAErD7K,EAAMjjC,KAAMb,KAAKgvC,kBAAmB1F,EAAQoF,EAASxiC,EAAS0iC,IAG/DzK,EAAYmF,EAASoF,EAAQruC,OAI9B,GAAI8jC,EAAYpd,EAAK1mB,OAAS,CAC7B,IAAIkhC,EAAOxa,EAAKwD,UAAW4Z,GAGvB5C,IACHkN,EAAqBzuC,KAAK8uC,wBAAyB3K,EAAW5C,GAC9DuC,EAAMjjC,KAAK+Q,MAAOkyB,EAAO2K,IAI3B,OAAO3K,GAiBRgL,wBAA0B,SAAUxF,EAAQ/H,GAO3C,IANA,IAAIuC,EAAQ,GACRmL,EAAsBzJ,EAAW2C,KAAKwD,gBAAiBpK,EAAMvhC,KAAKuuC,4BAK7DlzC,EAAI,EAAG+E,EAAM6uC,EAAoB5uC,OAAQhF,EAAI+E,EAAK/E,GAAK,EAAI,CACnE,IAAI6zC,EAAYD,EAAqB5zC,GACjC8zC,EAAcF,EAAqB5zC,EAAI,GAEvC6zC,IACHpL,EAAMjjC,KAAMb,KAAKovC,eAAgB9F,EAAQ4F,IACzC5F,GAAU4F,EAAU7uC,QAEjB8uC,IACHrL,EAAMjjC,KAAMb,KAAKqvC,iBAAkB/F,EAAQ6F,IAC3C7F,GAAU6F,EAAY9uC,QAGxB,OAAOyjC,GAcRiL,kBAAoB,SAAUzF,EAAQoF,EAASC,GAC9C,OAAO,IAAInJ,EAAWmC,WAAW2H,YAAa,CAC7ChG,OAASA,EACT/H,KAASmN,EACTa,QAAS/J,EAAW2C,KAAKvjC,KAAM+pC,MAmBjCK,kBAAoB,SAAU1F,EAAQoF,EAASxiC,EAAS0iC,GACvD,OAAO,IAAIpJ,EAAWmC,WAAW6H,YAAa,CAC7ClG,OAAUA,EACV/H,KAAUmN,EACVxiC,QAAUA,EAAQ5N,cAClBmxC,QAAUb,KAeZS,iBAAmB,SAAU/F,EAAQ/H,GACpC,OAAO,IAAIiE,EAAWmC,WAAW+H,WAAY,CAAEpG,OAAQA,EAAQ/H,KAAMA,KAatE6N,eAAiB,SAAU9F,EAAQ/H,GAClC,OAAO,IAAIiE,EAAWmC,WAAWgI,SAAU,CAAErG,OAAQA,EAAQ/H,KAAMA,OAsBrEiE,EAAWmC,WAAWiI,SAAWpK,EAAW2C,KAAKhhC,OAAQpL,OAAQ,CAOhEutC,YAASnjC,EAgBTo7B,UAAOp7B,EAQP4hC,YAAc,SAAUb,GAGvB,GAFA1B,EAAW2C,KAAKrpC,OAAQkB,KAAMknC,GAEX,MAAflnC,KAAKspC,OAAiB,MAAM,IAAIloC,MAAO,yBAC3C,GAAiB,MAAbpB,KAAKuhC,KAAe,MAAM,IAAIngC,MAAO,wBAU1C+kC,QAAUX,EAAW2C,KAAK2C,eAS1B/B,UAAY,WACX,OAAO/oC,KAAKspC,QASbR,QAAU,WACT,OAAO9oC,KAAKuhC,QAediE,EAAWmC,WAAW2H,YAAc9J,EAAW2C,KAAKhhC,OAAQq+B,EAAWmC,WAAWiI,SAAU,CAQ3FL,QAAU,GAQVpJ,QAAU,WACT,MAAO,WASR0J,WAAa,WACZ,OAAO7vC,KAAKuvC,WAcd/J,EAAWmC,WAAW6H,YAAchK,EAAW2C,KAAKhhC,OAAQq+B,EAAWmC,WAAWiI,SAAU,CAO3F1jC,QAAU,GAQVujC,SAAU,EAQVtJ,QAAU,WACT,MAAO,WAURuC,WAAa,WACZ,OAAO1oC,KAAKkM,SAUby8B,UAAY,WACX,OAAO3oC,KAAKyvC,WAmBdjK,EAAWmC,WAAW+H,WAAalK,EAAW2C,KAAKhhC,OAAQq+B,EAAWmC,WAAWiI,SAAU,CAO1FzJ,QAAU,WACT,MAAO,YAcTX,EAAWmC,WAAWgI,SAAWnK,EAAW2C,KAAKhhC,OAAQq+B,EAAWmC,WAAWiI,SAAU,CAOxFzJ,QAAU,WACT,MAAO,UAoCTX,EAAWtnC,MAAM4xC,MAAQtK,EAAW2C,KAAKhhC,OAAQpL,OAAQ,CA2BxDgsC,YAAc,SAAUb,GACvB,GAAsB,MAAlBA,EAAIW,WAAqB,MAAM,IAAIzmC,MAAO,6BAC9C,GAAuB,MAAnB8lC,EAAId,YAAsB,MAAM,IAAIhlC,MAAO,8BAC/C,GAAkB,MAAd8lC,EAAIoC,OAAiB,MAAM,IAAIloC,MAAO,yBAE1CpB,KAAK6nC,WAAaX,EAAIW,WACtB7nC,KAAKomC,YAAcc,EAAId,YACvBpmC,KAAKspC,OAASpC,EAAIoC,QAUnBnD,QAAUX,EAAW2C,KAAK2C,eAQ1B3B,eAAiB,WAChB,OAAOnpC,KAAKomC,aAgBbwD,UAAY,SAAUN,GACrBtpC,KAAKspC,OAASA,GAUfP,UAAY,WACX,OAAO/oC,KAAKspC,QAUbmE,cAAgBjI,EAAW2C,KAAK2C,eAShC6C,cAAgBnI,EAAW2C,KAAK2C,eAkBhCZ,SAAW,WACV,OAAOlqC,KAAK6nC,WAAW0F,MAAOvtC,SAahCwlC,EAAWtnC,MAAMusC,MAAQjF,EAAW2C,KAAKhhC,OAAQq+B,EAAWtnC,MAAM4xC,MAAO,CAcxE/H,YAAc,SAAUb,GAGvB,GAFA1B,EAAWtnC,MAAM4xC,MAAM7yC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,IAEpDA,EAAInB,MAAQ,MAAM,IAAI3kC,MAAO,wBAElCpB,KAAK+lC,MAAQmB,EAAInB,OASlBI,QAAU,WACT,MAAO,SASRG,SAAW,WACV,OAAOtmC,KAAK+lC,OASb0H,cAAgB,WACf,MAAO,UAAYztC,KAAK+lC,OASzB4H,cAAgB,WACf,OAAO3tC,KAAK+lC,SAedP,EAAWtnC,MAAMqsC,QAAU/E,EAAW2C,KAAKhhC,OAAQq+B,EAAWtnC,MAAM4xC,MAAO,CAqB1E/H,YAAc,SAAUb,GAIvB,GAHA1B,EAAWtnC,MAAM4xC,MAAM7yC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,IAGpDA,EAAIK,QAAU,MAAM,IAAInmC,MAAO,0BAEpCpB,KAAKwqC,YAActD,EAAIsD,YACvBxqC,KAAKunC,QAAUL,EAAIK,SASpBpB,QAAU,WACT,MAAO,WAUR4J,eAAiB,WAChB,OAAO/vC,KAAKwqC,aASbwF,WAAa,WACZ,OAAOhwC,KAAKunC,SASbkG,cAAgB,WACf,IAAIjD,EAAcxqC,KAAKwqC,YACnBjD,EAAUvnC,KAAKunC,QAEnB,OAAQiD,GACP,IAAK,UACJ,MAAO,+BAAiCjD,EACzC,IAAK,WACJ,MAAO,oCAAsCA,EAC9C,IAAK,YACJ,MAAO,sCAAwCA,EAEhD,QACC,MAAM,IAAInmC,MAAO,6CAA8CopC,KAUlEmD,cAAgB,WACf,MAAO,IAAM3tC,KAAKunC,WAgBpB/B,EAAWtnC,MAAMwsC,MAAQlF,EAAW2C,KAAKhhC,OAAQq+B,EAAWtnC,MAAM4xC,MAAO,CA2BxE/H,YAAc,SAAUb,GAGvB,GAFA1B,EAAWtnC,MAAM4xC,MAAM7yC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,IAEpDA,EAAI+I,OAAS,MAAM,IAAI7uC,MAAO,yBACnC,GAAoB,MAAhB8lC,EAAIgJ,SAAmB,MAAM,IAAI9uC,MAAO,2BAE5CpB,KAAKiwC,OAAS/I,EAAI+I,OAClBjwC,KAAKkwC,SAAWhJ,EAAIgJ,UASrB/J,QAAU,WACT,MAAO,SAYRgK,UAAW,WACV,OAAOnwC,KAAKiwC,QASbxC,cAAgB,WACf,MAAO,QAAWztC,KAAKkwC,SAAW,IAAM,IAAOlwC,KAAKiwC,QASrDtC,cAAgB,WACf,OAAO3tC,KAAKomC,eAcdZ,EAAWtnC,MAAMysC,QAAUnF,EAAW2C,KAAKhhC,OAAQq+B,EAAWtnC,MAAM4xC,MAAO,CAc1E/H,YAAc,SAAUb,GAGvB,GAFA1B,EAAWtnC,MAAM4xC,MAAM7yC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,IAEpDA,EAAIkJ,cAAgB,MAAM,IAAIhvC,MAAO,gCAE1CpB,KAAKowC,cAAgBlJ,EAAIkJ,eAS1BjK,QAAU,WACT,MAAO,WASRkK,iBAAmB,WAClB,OAAOrwC,KAAKowC,eASb3C,cAAgB,WACf,MAAO,uBAAyBztC,KAAKowC,eAStCzC,cAAgB,WACf,MAAO,IAAM3tC,KAAKowC,iBAapB5K,EAAWtnC,MAAM0sC,IAAMpF,EAAW2C,KAAKhhC,OAAQq+B,EAAWtnC,MAAM4xC,MAAO,CA2CtE/H,YAAc,SAAUb,GAGvB,GAFA1B,EAAWtnC,MAAM4xC,MAAM7yC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,GAEhC,WAArBA,EAAIoJ,cAAkD,QAArBpJ,EAAIoJ,cAA+C,QAArBpJ,EAAIoJ,aAAyB,MAAM,IAAIlvC,MAAO,gEACjH,IAAK8lC,EAAI3iC,IAAM,MAAM,IAAInD,MAAO,sBAChC,GAA4B,MAAxB8lC,EAAIqJ,iBAA2B,MAAM,IAAInvC,MAAO,mCACpD,GAAiC,MAA7B8lC,EAAIsJ,sBAAgC,MAAM,IAAIpvC,MAAO,wCACzD,GAAuB,MAAnB8lC,EAAIpB,YAAsB,MAAM,IAAI1kC,MAAO,8BAE/CpB,KAAKswC,aAAepJ,EAAIoJ,aACxBtwC,KAAKuE,IAAM2iC,EAAI3iC,IACfvE,KAAKuwC,iBAAmBrJ,EAAIqJ,iBAC5BvwC,KAAKwwC,sBAAwBtJ,EAAIsJ,sBACjCxwC,KAAK8lC,YAAcoB,EAAIpB,aAUxB2K,eAAgB,2BAShBC,sBAAwB,QASxBC,mBAAoB,EAQpBxK,QAAU,WACT,MAAO,OAeRkD,gBAAkB,WACjB,OAAOrpC,KAAKswC,cAUbjK,OAAS,WACR,IAAI9hC,EAAMvE,KAAKuE,IASf,OANKvE,KAAKwwC,uBAA0BxwC,KAAKuwC,kBAAqBvwC,KAAK2wC,oBAClEpsC,EAAMvE,KAAKuE,IAAM,UAAYA,EAE7BvE,KAAK2wC,mBAAoB,GAGnBpsC,GASRkpC,cAAgB,WAGf,OAFUztC,KAAKqmC,SAEJzmC,QAAS,SAAU,MAS/B+tC,cAAgB,WACf,IAAII,EAAa/tC,KAAKmpC,iBAWtB,OATInpC,KAAKwwC,wBAERzC,EAAa/tC,KAAK4wC,4BAA6B7C,IAE5C/tC,KAAK8lC,cACRiI,EAAa/tC,KAAK6wC,eAAgB9C,IAEnCA,EAAa/tC,KAAK8wC,oBAAqB/C,IAkBxC8C,eAAiB,SAAUtP,GAC1B,OAAOA,EAAK3hC,QAASI,KAAKywC,eAAgB,KAY3CG,4BAA8B,SAAUrP,GACvC,OAAOA,EAAK3hC,QAASI,KAAK0wC,sBAAuB,KAYlDI,oBAAsB,SAAU/C,GAI/B,MAHmD,MAA/CA,EAAW/jC,OAAQ+jC,EAAW1tC,OAAS,KAC1C0tC,EAAaA,EAAWvvC,MAAO,GAAI,IAE7BuvC,KAeTvI,EAAW6E,QAAQ0G,QAAUvL,EAAW2C,KAAKhhC,OAAQpL,OAAQ,CAe5DgsC,YAAc,SAAUb,GACvB,IAAKA,EAAIW,WAAa,MAAM,IAAIzmC,MAAO,6BAEvCpB,KAAK6nC,WAAaX,EAAIW,YAYvB6B,aAAelE,EAAW2C,KAAK2C,iBAYhCtF,EAAW6E,QAAQI,MAAQjF,EAAW2C,KAAKhhC,OAAQq+B,EAAW6E,QAAQ0G,QAAS,CAU9EC,cACKrK,EAAoBnB,EAAW6H,SAASpG,qBACxCL,EAAa,IAAIpgC,OAAQ,IAAMmgC,EAAoB,oBACtDE,EAAkBrB,EAAW6H,SAASxG,gBACtCC,EAAWtB,EAAW6H,SAASvG,SAEzB,IAAItgC,OAAQ,CAClBogC,EAAWznC,OACX0nC,EAAgB1nC,OAChB,MAAO2nC,EAAS3nC,QACfg8B,KAAM,IAAM,OAOfuO,aAAe,SAAUnI,GAMxB,IALA,IAGIrjC,EAHA8yC,EAAehxC,KAAKgxC,aACpBnJ,EAAa7nC,KAAK6nC,WAClBY,EAAU,GAGmC,QAAxCvqC,EAAQ8yC,EAAaja,KAAMwK,KAAoB,CACvD,IAAI6E,EAAcloC,EAAO,GAEzBuqC,EAAQ5nC,KAAM,IAAI2kC,EAAWtnC,MAAMusC,MAAO,CACzC5C,WAAcA,EACdzB,YAAcA,EACdkD,OAAcprC,EAAMiT,MACpB40B,MAAcK,KAIhB,OAAOqC,KAWTjD,EAAW6E,QAAQE,QAAU/E,EAAW2C,KAAKhhC,OAAQq+B,EAAW6E,QAAQ0G,QAAS,CAkBhFC,aAAe,IAAIxqC,OAAQ,MAAQg/B,EAAW6H,SAASpG,qBAAuB,WAAY,KAW1FgK,iBAAmB,IAAIzqC,OAAQ,KAAOg/B,EAAW6H,SAASpG,qBAAuB,KAQjFc,YAAc,SAAUb,GACvB1B,EAAW6E,QAAQ0G,QAAQ9zC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,GAE7DlnC,KAAKwqC,YAActD,EAAIsD,aAOxBd,aAAe,SAAUnI,GAQxB,IAPA,IAKIrjC,EALA8yC,EAAehxC,KAAKgxC,aACpBC,EAAmBjxC,KAAKixC,iBACxBzG,EAAcxqC,KAAKwqC,YACnB3C,EAAa7nC,KAAK6nC,WAClBY,EAAU,GAGmC,QAAxCvqC,EAAQ8yC,EAAaja,KAAMwK,KAAoB,CACvD,IAAI+H,EAASprC,EAAMiT,MACf+/B,EAAW3P,EAAKv3B,OAAQs/B,EAAS,GAKrC,GAAe,IAAXA,GAAgB2H,EAAiB5yC,KAAM6yC,GAAa,CACvD,IAAI9K,EAAcloC,EAAO,GACrBqpC,EAAUrpC,EAAO,GAAIM,MAAO,GAEhCiqC,EAAQ5nC,KAAM,IAAI2kC,EAAWtnC,MAAMqsC,QAAS,CAC3C1C,WAAcA,EACdzB,YAAcA,EACdkD,OAAcA,EACdkB,YAAcA,EACdjD,QAAcA,MAKjB,OAAOkB,KAcTjD,EAAW6E,QAAQK,MAAQlF,EAAW2C,KAAKhhC,OAAQq+B,EAAW6E,QAAQ0G,QAAS,CAc9EC,aAAe,mEAKftH,aAAe,SAAUnI,GAMxB,IALA,IAGIrjC,EAHA8yC,EAAehxC,KAAKgxC,aACpBnJ,EAAa7nC,KAAK6nC,WAClBY,EAAU,GAGmC,QAAxCvqC,EAAQ8yC,EAAaja,KAAMwK,KAAoB,CAEvD,IAAI6E,EAAcloC,EAAO,GACrBizC,EAAc/K,EAAYxmC,QAAS,MAAO,IAC1CswC,IAAahyC,EAAO,GAExBuqC,EAAQ5nC,KAAM,IAAI2kC,EAAWtnC,MAAMwsC,MAAO,CACzC7C,WAAcA,EACdzB,YAAcA,EACdkD,OAAcprC,EAAMiT,MACpB8+B,OAAckB,EACdjB,SAAcA,KAIhB,OAAOzH,KAWTjD,EAAW6E,QAAQM,QAAUnF,EAAW2C,KAAKhhC,OAAQq+B,EAAW6E,QAAQ0G,QAAS,CAUhFC,aAAe,IAAIxqC,OAAQ,MAAQg/B,EAAW6H,SAASpG,qBAAuB,UAAW,KAWzFgK,iBAAmB,IAAIzqC,OAAQ,KAAOg/B,EAAW6H,SAASpG,qBAAuB,KAMjFyC,aAAe,SAAUnI,GAOxB,IANA,IAIIrjC,EAJA8yC,EAAehxC,KAAKgxC,aACpBC,EAAmBjxC,KAAKixC,iBACxBpJ,EAAa7nC,KAAK6nC,WAClBY,EAAU,GAGmC,QAAxCvqC,EAAQ8yC,EAAaja,KAAMwK,KAAoB,CACvD,IAAI+H,EAASprC,EAAMiT,MACf+/B,EAAW3P,EAAKv3B,OAAQs/B,EAAS,GAKrC,GAAe,IAAXA,GAAgB2H,EAAiB5yC,KAAM6yC,GAAa,CACvD,IAAI9K,EAAcloC,EAAO,GACrBkyC,EAAgBlyC,EAAO,GAAIM,MAAO,GAEtCiqC,EAAQ5nC,KAAM,IAAI2kC,EAAWtnC,MAAMysC,QAAS,CAC3C9C,WAAgBA,EAChBzB,YAAgBA,EAChBkD,OAAgBA,EAChB8G,cAAgBA,MAKnB,OAAO3H,KAaTjD,EAAW6E,QAAQO,IAAMpF,EAAW2C,KAAKhhC,OAAQq+B,EAAW6E,QAAQ0G,QAAS,CA0C5EC,aAAe,WACd,IAEInK,EAAkBrB,EAAW6H,SAASxG,gBACtCC,EAAWtB,EAAW6H,SAASvG,SAC/BG,EAAuBzB,EAAW6H,SAASpG,qBAI3CmK,EAAiB,IAAI5qC,OAAQ,IAAMygC,EAAuB,oCAAuCA,EAAuB,6BAE5H,OAAO,IAAIzgC,OAAQ,CAClB,MACC,IAZgB,kFAaHrH,OACZ0nC,EAAgB1nC,OACjB,IAEA,IAEA,IACC,QAnBY,YAoBHA,OACT0nC,EAAgB1nC,OACjB,IAEA,IAEA,IACC,QACA0nC,EAAgB1nC,OAAS,MACzB2nC,EAAS3nC,OACV,IACD,IAEA,MAAQiyC,EAAejyC,OAAS,MAC/Bg8B,KAAM,IAAM,MApCA,GAqDfkW,eAAiB,KAiBjBC,aAAe,MASfC,cAAgB,MAQhBxJ,YAAc,SAAUb,GAKvB,GAJA1B,EAAW6E,QAAQ0G,QAAQ9zC,UAAU8qC,YAAYvsC,KAAMwE,KAAMknC,GAE7DlnC,KAAK8lC,YAAcoB,EAAIpB,YAEC,MAApB9lC,KAAK8lC,YAAsB,MAAM,IAAI1kC,MAAO,+BAOjDsoC,aAAe,SAAUnI,GAOxB,IANA,IAIIrjC,EAJA8yC,EAAehxC,KAAKgxC,aACpBlL,EAAc9lC,KAAK8lC,YACnB+B,EAAa7nC,KAAK6nC,WAClBY,EAAU,GAGmC,QAAxCvqC,EAAQ8yC,EAAaja,KAAMwK,KAAoB,CACvD,IAAIiQ,EAAWtzC,EAAO,GAClBuzC,EAAiBvzC,EAAO,GACxBwzC,EAAcxzC,EAAO,GACrByzC,EAA2BzzC,EAAO,GAElC0zC,EAA2B1zC,EAAO,GAClCorC,EAASprC,EAAMiT,MACfq/B,EAAwBmB,GAA4BC,EACvDV,EAAW3P,EAAKv3B,OAAQs/B,EAAS,GAElC,GAAK9D,EAAW6E,QAAQwH,kBAAkBC,QAASN,EAAUC,MAMzDnI,EAAS,GAAkB,MAAb4H,GAQd5H,EAAS,GAAKkH,GAAyBxwC,KAAKqxC,eAAehzC,KAAM6yC,IAArE,CAOA,GAAIlxC,KAAK+xC,+BAAgCP,GACxCA,EAAWA,EAAStN,OAAQ,EAAGsN,EAASnxC,OAAS,OAC3C,CAEN,IAAIuC,EAAM5C,KAAKgyC,4BAA6BR,EAAUC,GAClD7uC,GAAO,IACV4uC,EAAWA,EAAStN,OAAQ,EAAGthC,IAIjC,IAAI0tC,EAAemB,EAAiB,SAAaC,EAAc,MAAQ,MACnEnB,IAAqBkB,EAEzBhJ,EAAQ5nC,KAAM,IAAI2kC,EAAWtnC,MAAM0sC,IAAK,CACvC/C,WAAwBA,EACxBzB,YAAwBoL,EACxBlI,OAAwBA,EACxBgH,aAAwBA,EACxB/rC,IAAwBitC,EACxBjB,iBAAwBA,EACxBC,wBAA0BA,EAC1B1K,YAAwBA,MAI1B,OAAO2C,GAuBRsJ,+BAAiC,SAAUP,GAG1C,GAAiB,MAFFA,EAASxnC,OAAQwnC,EAASnxC,OAAS,GAE3B,CACtB,IAAI4xC,EAAkBT,EAAStzC,MAAO8B,KAAKsxC,cACvCY,EAAmBV,EAAStzC,MAAO8B,KAAKuxC,eAI5C,IAHsBU,GAAmBA,EAAgB5xC,QAAY,IAC9C6xC,GAAoBA,EAAiB7xC,QAAY,GAGvE,OAAO,EAIT,OAAO,GAmBR2xC,4BAA8B,SAAUG,EAAUV,GACjD,IAAKU,EACJ,OAAQ,EAGT,IAAI7I,EAAS,EACRmI,IACJnI,EAAS6I,EAASxyC,QAAQ,KAC1BwyC,EAAWA,EAAS3zC,MAAM8qC,IAG3B,IACI8I,EADK,iFACIrb,KAAMob,GACnB,OAAa,OAARC,GACI,GAGT9I,GAAU8I,EAAI,GAAG/xC,OACjB8xC,EAAWA,EAAS3zC,MAAM4zC,EAAI,GAAG/xC,QAC7B,mBAAmBhC,KAAK8zC,GACpB7I,GAGA,MAoBV9D,EAAW6E,QAAQwH,kBAAoB,CAQtCQ,qBAAuB,gCAUvBC,eAAiB,4BAQjBC,8BAAgC,gCAQhCC,QAAS,2FA2BTV,QAAU,SAAUK,EAAU5B,GAC7B,QACGA,IAAqBvwC,KAAKyyC,iBAAkBlC,IAC9CvwC,KAAK0yC,iCAAkCP,EAAU5B,IAChDvwC,KAAK2yC,sCAAuCR,EAAU5B,KACrDvwC,KAAK4yC,iBAAkBT,KAU3BS,iBAAmB,SAAWC,GAC7B,IAAIC,EAAW,IAAItsC,OAAOxG,KAAKqyC,qBAAqBlzC,OAASa,KAAKwyC,QAAQrzC,QAG1E,OAAqB,OAFL0zC,EAAe30C,MAAO40C,IAcvCL,iBAAmB,SAAUI,GAC5B,IAAIE,EAAYF,EAAe30C,MAAO8B,KAAKsyC,gBAAkB,GAAIh0C,cAEjE,MAAuB,gBAAdy0C,GAA6C,cAAdA,GAyBzCL,iCAAmC,SAAUP,EAAU5B,GACtD,SAAW4B,GAAe5B,GAAqBvwC,KAAKqyC,qBAAqBh0C,KAAMkyC,KAAqD,IAA7B4B,EAASxyC,QAAS,OAqB1HgzC,sCAAwC,SAAUR,EAAU5B,GAC3D,SAAI4B,IAAY5B,GACPvwC,KAAKuyC,8BAA8Bl0C,KAAM8zC,MAgBpD3M,EAAWiC,SAAS4G,YAAc,SAASN,EAAYvC,EAAaC,GACnE,OAAOjG,EAAW2C,KAAKoD,SAAUwC,EAAYvC,EAAaC,IAe3DjG,EAAWiC,SAAS2G,eAAiB,SAAS7pC,EAAKinC,EAAaC,GAC9D,GAAIlnC,EAAIlE,QAAUmrC,EAChB,OAAOjnC,EAET,IAAIyuC,EAAkBxH,EAAcC,EAAcprC,OAC9C4yC,EAAM,GAIV,OAHID,EAAkB,IACpBC,EAAM1uC,EAAI2/B,QAAS,EAAGt8B,KAAKsrC,MAAMF,EAAgB,MAE3CzuC,EAAI2/B,OAAO,EAAGt8B,KAAKurC,KAAKH,EAAgB,IAAMvH,EAAgBwH,GAAK/O,OAAO,EAAGsH,IAgBvFhG,EAAWiC,SAAS0G,cAAgB,SAAS5pC,EAAKinC,EAAaC,GAC9D,IA+BI2H,EAAW,SAASC,GACvB,IAAI9uC,EAAM,GAgBV,OAfI8uC,EAAOC,QAAUD,EAAOzX,OAC3Br3B,GAAO8uC,EAAOC,OAAS,OAEpBD,EAAOzX,OACVr3B,GAAO8uC,EAAOzX,MAEXyX,EAAOE,OACVhvC,GAAO,IAAM8uC,EAAOE,MAEjBF,EAAOG,QACVjvC,GAAO,IAAM8uC,EAAOG,OAEjBH,EAAOI,WACVlvC,GAAO,IAAM8uC,EAAOI,UAEdlvC,GAGJmvC,EAAe,SAASC,EAASC,GACpC,IAAIC,EAA+BD,EAA0B,EAC3DE,EAAclsC,KAAKurC,KAAKU,GACxBE,GAAc,EAAGnsC,KAAKsrC,MAAMW,GAC5BZ,EAAM,GAIR,OAHIc,EAAY,IACfd,EAAMU,EAAQzP,OAAO6P,IAEfJ,EAAQzP,OAAO,EAAG4P,GAAerI,EAAgBwH,GAEzD,GAAI1uC,EAAIlE,QAAUmrC,EACjB,OAAOjnC,EAER,IAAIyuC,EAAkBxH,EAAcC,EAAcprC,OAC9CgzC,EAjEY,SAAS9uC,GACxB,IAAI8uC,EAAS,GACTW,EAASzvC,EACTrG,EAAQ81C,EAAO91C,MAAM,mBAyBzB,OAxBIA,IACHm1C,EAAOC,OAASp1C,EAAM,GACtB81C,EAASA,EAAO9P,OAAOhmC,EAAM,GAAGmC,UAEjCnC,EAAQ81C,EAAO91C,MAAM,6BAEpBm1C,EAAOzX,KAAO19B,EAAM,GACpB81C,EAASA,EAAO9P,OAAOhmC,EAAM,GAAGmC,UAEjCnC,EAAQ81C,EAAO91C,MAAM,4BAEpBm1C,EAAOE,KAAOr1C,EAAM,GACpB81C,EAASA,EAAO9P,OAAOhmC,EAAM,GAAGmC,UAEjCnC,EAAQ81C,EAAO91C,MAAM,yBAEpBm1C,EAAOG,MAAQt1C,EAAM,GACrB81C,EAASA,EAAO9P,OAAOhmC,EAAM,GAAGmC,UAEjCnC,EAAQ81C,EAAO91C,MAAM,gBAEpBm1C,EAAOI,SAAWv1C,EAAM,IAGlBm1C,EAqCKY,CAAU1vC,GAEvB,GAAI8uC,EAAOG,MAAO,CACjB,IAAIU,EAAab,EAAOG,MAAMt1C,MAAM,4BAChCg2C,IAEHb,EAAOG,MAAQH,EAAOG,MAAMtP,OAAO,EAAGgQ,EAAW,GAAG7zC,QACpDkE,EAAM6uC,EAASC,IAGjB,GAAI9uC,EAAIlE,QAAUmrC,EACjB,OAAOjnC,EAMR,GAJI8uC,EAAOzX,OACVyX,EAAOzX,KAAOyX,EAAOzX,KAAKh8B,QAAQ,SAAU,IAC5C2E,EAAM6uC,EAASC,IAEZ9uC,EAAIlE,QAAUmrC,EACjB,OAAOjnC,EAGR,IAAI7E,EAAM,GAIV,GAHI2zC,EAAOzX,OACVl8B,GAAO2zC,EAAOzX,MAEXl8B,EAAIW,QAAU2yC,EACjB,OAAIK,EAAOzX,KAAKv7B,QAAUmrC,GACjB6H,EAAOzX,KAAKsI,OAAO,EAAIsH,EAAcC,EAAcprC,QAAWorC,GAAevH,OAAO,EAAGsH,GAEzFkI,EAAah0C,EAAKszC,GAAiB9O,OAAO,EAAGsH,GAErD,IAAI2I,EAAe,GAOnB,GANId,EAAOE,OACVY,GAAgB,IAAMd,EAAOE,MAE1BF,EAAOG,QACVW,GAAgB,IAAMd,EAAOG,OAE1BW,EAAc,CACjB,IAAKz0C,EAAIy0C,GAAc9zC,QAAU2yC,EAChC,OAAKtzC,EAAIy0C,GAAc9zC,QAAUmrC,GACxB9rC,EAAMy0C,GAAcjQ,OAAO,EAAGsH,IAG/B9rC,EAAMg0C,EAAaS,EADInB,EAAkBtzC,EAAIW,SACe6jC,OAAO,EAAGsH,GAE9E9rC,GAAOy0C,EAGT,GAAId,EAAOI,SAAU,CACpB,IAAIA,EAAW,IAAIJ,EAAOI,SAC1B,IAAK/zC,EAAI+zC,GAAUpzC,QAAU2yC,EAC5B,OAAKtzC,EAAI+zC,GAAUpzC,QAAUmrC,GACpB9rC,EAAM+zC,GAAUvP,OAAO,EAAGsH,IAG3B9rC,EAAMg0C,EAAaD,EADKT,EAAkBtzC,EAAIW,SACW6jC,OAAO,EAAGsH,GAE3E9rC,GAAO+zC,EAGT,GAAIJ,EAAOC,QAAUD,EAAOzX,KAAM,CACjC,IAAI0X,EAASD,EAAOC,OAAS,MAC7B,IAAK5zC,EAAI4zC,GAAQjzC,OAAS2yC,EACzB,OAAQM,EAAS5zC,GAAKwkC,OAAO,EAAGsH,GAGlC,GAAI9rC,EAAIW,QAAUmrC,EACjB,OAAO9rC,EAER,IAAIuzC,EAAM,GAIV,OAHID,EAAkB,IACrBC,EAAMvzC,EAAIwkC,QAAS,EAAGt8B,KAAKsrC,MAAMF,EAAgB,MAE1CtzC,EAAIwkC,OAAO,EAAGt8B,KAAKurC,KAAKH,EAAgB,IAAMvH,EAAgBwH,GAAK/O,OAAO,EAAGsH,IAG/EhG,IA7qHe,gC,6BCLtB,IAAIzlC,EAAa,EAAQ,GACrBq0C,EAAa,EAAQ,IAMrBzW,EAAS,CACX,CAAE,OAAc,EAAQ,KACxB,CAAE,SAAc,EAAQ,IAA6B,CAAE,YAAa,aAAc,SAClF,CAAE,aAAc,EAAQ,IAA6B,CAAE,YAAa,aAAc,SAClF,CAAE,KAAc,EAAQ,IAA6B,CAAE,YAAa,aAAc,SAClF,CAAE,OAAc,EAAQ,IAA6B,CAAE,YAAa,eACpE,CAAE,WAAc,EAAQ,IAA6B,CAAE,cACvD,CAAE,UAAc,EAAQ,IAA6B,CAAE,YAAa,eACpE,CAAE,WAAc,EAAQ,KACxB,CAAE,YAAc,EAAQ,IAA6B,CAAE,YAAa,eACpE,CAAE,QAAc,EAAQ,IAA6B,CAAE,cACvD,CAAE,UAAc,EAAQ,IAA6B,CAAE,cACvD,CAAE,YAAc,EAAQ,MAS1B,SAAS5B,IACP/7B,KAAK48B,MAAQ,IAAI78B,EACjB,IAAK,IAAI1E,EAAI,EAAGA,EAAIsiC,EAAOt9B,OAAQhF,IACjC2E,KAAK48B,MAAM/7B,KAAK88B,EAAOtiC,GAAG,GAAIsiC,EAAOtiC,GAAG,GAAI,CAC1CsF,KAAMg9B,EAAOtiC,GAAG,IAAM,IAAImD,UAchCu9B,EAAY9+B,UAAUo3C,SAAW,SAAUlyC,EAAOmyC,EAAWC,GAO3D,IANA,IAIQl5C,EAJJ4hC,EAAQj9B,KAAK48B,MAAM36B,SAAS,IAC5B7B,EAAM68B,EAAM58B,OACZm0C,EAAOF,EACPG,GAAgB,EAGbD,EAAOD,IACZpyC,EAAMqyC,KAAOA,EAAOryC,EAAMuyC,eAAeF,KACrCA,GAAQD,OAMRpyC,EAAMwyC,OAAOH,GAAQryC,EAAMyyC,YARV,CAmBrB,IAAKv5C,EAAI,EAAGA,EAAI+E,IACT68B,EAAM5hC,GAAG8G,EAAOqyC,EAAMD,GAAS,GADjBl5C,KAkBrB,GATA8G,EAAMi9B,OAASqV,EAGXtyC,EAAM0yC,QAAQ1yC,EAAMqyC,KAAO,KAC7BC,GAAgB,IAGlBD,EAAOryC,EAAMqyC,MAEFD,GAAWpyC,EAAM0yC,QAAQL,GAAO,CAKzC,GAJAC,GAAgB,IAChBD,EAGWD,GAAgC,SAArBpyC,EAAM2yC,YAAyB3yC,EAAM0yC,QAAQL,GAAS,MAC5EryC,EAAMqyC,KAAOA,KAKnB,IAAIO,EAAe,UACfC,EAAe,qCACfC,EAAe,UAYnBlZ,EAAY9+B,UAAUmgC,MAAQ,SAAU19B,EAAKuB,EAASoC,EAAKC,GACzD,IAAInB,EAAO+yC,EAAY,EAAGC,EAAa,EACvC,IAAKz1C,EAAO,MAAO,IAMnBA,GAHAA,EAAMA,EAAIE,QAAQq1C,EAAW,MAGnBr1C,QAAQo1C,EAAa,OAGvBr1C,QAAQ,OAAS,IACvBD,EAAMA,EAAIE,QAAQm1C,GAAc,SAAU72C,EAAOorC,GAC/C,IAAI1L,EACJ,OAA+B,KAA3Bl+B,EAAItB,WAAWkrC,IACjB4L,EAAY5L,EAAS,EACrB6L,EAAa,EACNj3C,IAET0/B,EAAS,OAAOp/B,OAAO8qC,EAAS4L,EAAYC,GAAc,GAC1DA,EAAa7L,EAAS4L,EAAY,EAC3BtX,OAIXz7B,EAAQ,IAAIiyC,EAAW10C,EAAKM,KAAMiB,EAASoC,EAAKC,GAChDtD,KAAKq0C,SAASlyC,EAAOA,EAAMqyC,KAAMryC,EAAMizC,UAOzCh6C,EAAOD,QAAU4gC,G,6BCrJjB,SAASqY,EAAWpxC,EAAKC,EAAQhC,EAASoC,EAAKE,GAC7C,IAAI1E,EAAIzB,EAAGgF,EAAOQ,EAAKxC,EAAKi1C,EAAQC,EAyCpC,IAvCAt1C,KAAKgD,IAAMA,EAGXhD,KAAKiD,OAASA,EAEdjD,KAAKiB,QAAUA,EAEfjB,KAAKqD,IAAMA,EAMXrD,KAAKuD,OAASA,EAEdvD,KAAKu1C,OAAS,GACdv1C,KAAKw1C,OAAS,GACdx1C,KAAK20C,OAAS,GAGd30C,KAAK40C,UAAa,EAElB50C,KAAKw0C,KAAa,EAClBx0C,KAAKo1C,QAAa,EAClBp1C,KAAKo/B,OAAa,EAClBp/B,KAAK80C,WAAa,OAClB90C,KAAKy1C,UAAc,EAEnBz1C,KAAKqC,MAAQ,EAGbrC,KAAK49B,OAAS,GAKdyX,EAAS,EACTC,GAAe,EAEVlzC,EAAQQ,EAAMyyC,EAAS,EAAGj1C,GAJ/BhD,EAAI4C,KAAKgD,KAI8B3C,OAAQuC,EAAMxC,EAAKwC,IAAO,CAG/D,GAFA/D,EAAKzB,EAAEgB,WAAWwE,IAEb0yC,EAAc,CACjB,GAAW,KAAPz2C,EAAwB,CAC1Bw2C,IACA,SAEAC,GAAe,EAIR,KAAPz2C,GAAe+D,IAAQxC,EAAM,IACpB,KAAPvB,GAAe+D,IACnB5C,KAAKu1C,OAAO10C,KAAKuB,GACjBpC,KAAKw1C,OAAO30C,KAAK+B,GACjB5C,KAAK20C,OAAO9zC,KAAKw0C,GAEjBC,GAAe,EACfD,EAAS,EACTjzC,EAAQQ,EAAM,GAKlB5C,KAAKu1C,OAAO10C,KAAKzD,EAAEiD,QACnBL,KAAKw1C,OAAO30C,KAAKzD,EAAEiD,QACnBL,KAAK20C,OAAO9zC,KAAK,GAEjBb,KAAKo1C,QAAUp1C,KAAKu1C,OAAOl1C,OAAS,EAGtC+zC,EAAWn3C,UAAU43C,QAAU,SAAiBL,GAC9C,OAAOx0C,KAAKu1C,OAAOf,GAAQx0C,KAAK20C,OAAOH,IAASx0C,KAAKw1C,OAAOhB,IAG9DJ,EAAWn3C,UAAUy3C,eAAiB,SAAwB/jB,GAC5D,IAAK,IAAIluB,EAAMzC,KAAKo1C,QAASzkB,EAAOluB,KAC9BzC,KAAKu1C,OAAO5kB,GAAQ3wB,KAAK20C,OAAOhkB,GAAQ3wB,KAAKw1C,OAAO7kB,IADjBA,KAKzC,OAAOA,GAITyjB,EAAWn3C,UAAUy4C,WAAa,SAAoB9yC,GACpD,IAAK,IAAIH,EAAMzC,KAAKgD,IAAI3C,OAAQuC,EAAMH,GACH,KAA7BzC,KAAKgD,IAAI5E,WAAWwE,GADiBA,KAG3C,OAAOA,GAITwxC,EAAWn3C,UAAU04C,UAAY,SAAmB/yC,EAAKzE,GACvD,IAAK,IAAIsE,EAAMzC,KAAKgD,IAAI3C,OAAQuC,EAAMH,GAChCzC,KAAKgD,IAAI5E,WAAWwE,KAASzE,EADQyE,KAG3C,OAAOA,GAITwxC,EAAWn3C,UAAU24C,cAAgB,SAAuBhzC,EAAKzE,EAAMsW,GACrE,GAAI7R,GAAO6R,EAAO,OAAO7R,EAEzB,KAAOA,EAAM6R,GACX,GAAItW,IAAS6B,KAAKgD,IAAI5E,aAAawE,GAAQ,OAAOA,EAAM,EAE1D,OAAOA,GAITwxC,EAAWn3C,UAAU44C,SAAW,SAAkBC,EAAO7C,EAAKoC,EAAQU,GACpE,IAAI16C,EAAG26C,EAAOC,EAAMC,EAAOvkC,EACvB6iC,EAAOsB,EAEX,GAAIA,GAAS7C,EACX,MAAO,GAIT,GAAIuB,EAAO,IAAMvB,EAGf,OAFA+C,EAAQh2C,KAAKu1C,OAAOf,GAAQ5sC,KAAK6M,IAAIzU,KAAK20C,OAAOH,GAAOa,GACxDY,EAAOF,EAAa/1C,KAAKw1C,OAAOhB,GAAQ,EAAIx0C,KAAKw1C,OAAOhB,GACjDx0C,KAAKgD,IAAIxE,MAAMw3C,EAAOC,GAK/B,IAFAC,EAAQ,IAAIp0C,MAAMmxC,EAAM6C,GAEnBz6C,EAAI,EAAGm5C,EAAOvB,EAAKuB,IAAQn5C,KAC9BsW,EAAQ3R,KAAK20C,OAAOH,IACRa,IAAU1jC,EAAQ0jC,GAC1B1jC,EAAQ,IAAKA,EAAQ,GAEzBqkC,EAAQh2C,KAAKu1C,OAAOf,GAAQ7iC,EAI1BskC,EAFEzB,EAAO,EAAIvB,GAAO8C,EAEb/1C,KAAKw1C,OAAOhB,GAAQ,EAEpBx0C,KAAKw1C,OAAOhB,GAGrB0B,EAAM76C,GAAK2E,KAAKgD,IAAIxE,MAAMw3C,EAAOC,GAGnC,OAAOC,EAAM/a,KAAK,KAIpB//B,EAAOD,QAAUi5C,G,6BCxJjBh5C,EAAOD,QAAU,SAAcgH,EAAOmyC,EAAWC,GAC/C,IAAI4B,EAAUF,EAEd,GAAI9zC,EAAMwyC,OAAOL,GAAanyC,EAAMyyC,UAAY,EAAK,OAAO,EAI5D,IAFAqB,EAAOE,EAAW7B,EAAY,EAEvB6B,EAAW5B,GAChB,GAAIpyC,EAAM0yC,QAAQsB,GAChBA,QADF,CAIA,KAAIh0C,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,WAAa,GAKhD,MAHEqB,IADAE,EAgBJ,OATAh0C,EAAMqyC,KAAO2B,EACbh0C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,OACNC,QAAS5B,EAAM0zC,SAASvB,EAAW2B,EAAM,EAAI9zC,EAAMyyC,WAAW,GAC9DtY,OAAO,EACPqG,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BnyC,MAAOF,EAAME,SAGR,I,6BC7BTjH,EAAOD,QAAU,SAAgBgH,EAAOmyC,EAAWC,EAAS6B,GAC1D,IAAI7zC,EAAQnC,EAAKsqB,EAAQyrB,EAAUE,EAC/BC,GAAgB,EAChB1zC,EAAMT,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAC7C7xC,EAAMN,EAAMqzC,OAAOlB,GAEvB,GAAI1xC,EAAM,EAAIH,EAAO,OAAO,EAI5B,GAAe,OAFfF,EAASJ,EAAMa,IAAI5E,WAAWwE,KAEW,KAAXL,EAC5B,OAAO,EAST,GALA8zC,EAAMzzC,GAGNxC,GAFAwC,EAAMT,EAAMwzC,UAAU/yC,EAAKL,IAEf8zC,GAEF,EAAK,OAAO,EAItB,IAFA3rB,EAASvoB,EAAMa,IAAIxE,MAAMoE,EAAKH,GAAKmC,QAExBjF,QAAQ,MAAQ,EAAK,OAAO,EAGvC,GAAIy2C,EAAU,OAAO,EAKrB,IAFAD,EAAW7B,MAGT6B,GACgB5B,OAMhB3xC,EAAMyzC,EAAMl0C,EAAMozC,OAAOY,GAAYh0C,EAAMwyC,OAAOwB,KAClD1zC,EAAMN,EAAMqzC,OAAOW,KAEFh0C,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,YAOhD,GAAIzyC,EAAMa,IAAI5E,WAAWwE,KAASL,KAE9BJ,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,WAAa,IAKhDhyC,EAAMT,EAAMwzC,UAAU/yC,EAAKL,IAGjB8zC,EAAMj2C,IAGhBwC,EAAMT,EAAMuzC,WAAW9yC,IAEbH,GAAV,CAEA6zC,GAAgB,EAEhB,MAeF,OAXAl2C,EAAM+B,EAAMwyC,OAAOL,GAEnBnyC,EAAMqyC,KAAO2B,GAAYG,EAAgB,EAAI,GAC7Cn0C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,QACN4mB,OAAQA,EACR3mB,QAAS5B,EAAM0zC,SAASvB,EAAY,EAAG6B,EAAU/1C,GAAK,GACtDuiC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BnyC,MAAOF,EAAME,SAGR,I,6BCpFTjH,EAAOD,QAAU,SAAoBgH,EAAOmyC,EAAWC,EAAS6B,GAC9D,IAAID,EAAUI,EAAeC,EAAWC,EAAWC,EAAWC,EAAehU,EACzEiU,EACAv7C,EAAGC,EAAGu7C,EACNj0C,EAAMT,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAC7C7xC,EAAMN,EAAMqzC,OAAOlB,GAEvB,GAAI1xC,EAAMH,EAAO,OAAO,EAGxB,GAAoC,KAAhCN,EAAMa,IAAI5E,WAAWwE,KAA0B,OAAO,EAE1D,GAAIT,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAItD,GAAIV,EAAU,OAAO,EAsCrB,IAnCkC,KAA9Bj0C,EAAMa,IAAI5E,WAAWwE,IAAiBA,IAE1C8zC,EAAYv0C,EAAMyyC,UAClBzyC,EAAMyyC,UAAY,EAElB6B,EAAY,CAAEt0C,EAAMozC,OAAOjB,IAC3BnyC,EAAMozC,OAAOjB,GAAa1xC,EAI1B2zC,GADA3zC,EAAMA,EAAMH,EAAMN,EAAMuzC,WAAW9yC,GAAOA,IACnBH,EAEvB+zC,EAAY,CAAEr0C,EAAMwyC,OAAOL,IAC3BnyC,EAAMwyC,OAAOL,GAAa1xC,EAAMT,EAAMozC,OAAOjB,GAE7CsC,EAAkBz0C,EAAMc,OAAO25B,MAAM36B,SAAS,cAoBzCk0C,EAAW7B,EAAY,EAAG6B,EAAW5B,MACxC3xC,EAAMT,EAAMozC,OAAOY,GAAYh0C,EAAMwyC,OAAOwB,MAC5C1zC,EAAMN,EAAMqzC,OAAOW,KAF8BA,IASjD,GAAoC,KAAhCh0C,EAAMa,IAAI5E,WAAWwE,KAAzB,CAkBA,GAAI2zC,EAAiB,MAIrB,IADAM,GAAY,EACPx7C,EAAI,EAAGC,EAAIs7C,EAAgBv2C,OAAQhF,EAAIC,EAAGD,IAC7C,GAAIu7C,EAAgBv7C,GAAG8G,EAAOg0C,EAAU5B,GAAS,GAAO,CACtDsC,GAAY,EACZ,MAGJ,GAAIA,EAAa,MAEjBJ,EAAU51C,KAAKsB,EAAMozC,OAAOY,IAC5BK,EAAU31C,KAAKsB,EAAMwyC,OAAOwB,IAM5Bh0C,EAAMwyC,OAAOwB,IAAa,UAjCU,KAA9Bh0C,EAAMa,IAAI5E,WAAWwE,IAAiBA,IAE1C6zC,EAAU51C,KAAKsB,EAAMozC,OAAOY,IAC5Bh0C,EAAMozC,OAAOY,GAAYvzC,EAGzB2zC,GADA3zC,EAAMA,EAAMH,EAAMN,EAAMuzC,WAAW9yC,GAAOA,IACnBH,EAEvB+zC,EAAU31C,KAAKsB,EAAMwyC,OAAOwB,IAC5Bh0C,EAAMwyC,OAAOwB,GAAYvzC,EAAMT,EAAMozC,OAAOY,GA4ChD,IAjBAQ,EAAgBx0C,EAAM2yC,WACtB3yC,EAAM2yC,WAAa,aACnB3yC,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,kBACN6+B,MAAOA,EAAQ,CAAE2R,EAAW,GAC5BjyC,MAAOF,EAAME,UAEfF,EAAMc,OAAOoxC,SAASlyC,EAAOmyC,EAAW6B,GACxCh0C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,mBACNzB,QAASF,EAAME,QAEjBF,EAAM2yC,WAAa6B,EACnBhU,EAAM,GAAKxgC,EAAMqyC,KAIZn5C,EAAI,EAAGA,EAAIm7C,EAAUn2C,OAAQhF,IAChC8G,EAAMozC,OAAOl6C,EAAIi5C,GAAamC,EAAUp7C,GACxC8G,EAAMwyC,OAAOt5C,EAAIi5C,GAAakC,EAAUn7C,GAI1C,OAFA8G,EAAMyyC,UAAY8B,GAEX,I,6BC9HTt7C,EAAOD,QAAU,SAAYgH,EAAOmyC,EAAWC,EAAS6B,GACtD,IAAI7zC,EAAQw0C,EAAKl4C,EACb+D,EAAMT,EAAMozC,OAAOjB,GACnB7xC,EAAMN,EAAMqzC,OAAOlB,GAIvB,IAFA1xC,GAAOT,EAAMwyC,OAAOL,IAEV7xC,EAAO,OAAO,EAKxB,GAAe,MAHfF,EAASJ,EAAMa,IAAI5E,WAAWwE,OAIf,KAAXL,GACW,KAAXA,EACF,OAAO,EAMT,IADAw0C,EAAM,EACCn0C,EAAMH,GAAK,CAEhB,IADA5D,EAAKsD,EAAMa,IAAI5E,WAAWwE,QACfL,GAAiB,KAAP1D,EAA0B,OAAO,EAClDA,IAAO0D,GAAUw0C,IAGvB,QAAIA,EAAM,KAENX,IAEJj0C,EAAMqyC,KAAOF,EAAY,EACzBnyC,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,KACN6+B,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BnyC,MAAOF,EAAME,UANM,K,6BC3BvB,SAAS20C,EAAqB70C,EAAOmyC,GACnC,IAAI/xC,EAAQK,EAAKH,EAKjB,OAHAG,EAAMT,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,MAC7C7xC,EAAMN,EAAMqzC,OAAOlB,KAMJ,MAFf/xC,EAASJ,EAAMa,IAAI5E,WAAWwE,OAGf,KAAXL,GACW,KAAXA,GAIAK,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAVZ,EAenBA,EAKT,SAASq0C,EAAsB90C,EAAOmyC,GACpC,IAAIz1C,EACA+D,EAAMT,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAC7C7xC,EAAMN,EAAMqzC,OAAOlB,GAEvB,GAAI1xC,EAAM,GAAKH,EAAO,OAAQ,EAI9B,IAFA5D,EAAKsD,EAAMa,IAAI5E,WAAWwE,MAEjB,IAAe/D,EAAK,GAAe,OAAQ,EAEpD,OAAS,CAEP,GAAI+D,GAAOH,EAAO,OAAQ,EAI1B,MAFA5D,EAAKsD,EAAMa,IAAI5E,WAAWwE,OAEhB,IAAe/D,GAAM,IAA/B,CAKA,GAAW,KAAPA,GAA6B,KAAPA,EACxB,MAGF,OAAQ,GAIV,OAAI+D,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAE5B,EAEHA,EAiBTxH,EAAOD,QAAU,SAAcgH,EAAOmyC,EAAWC,EAAS6B,GACxD,IAAID,EACAd,EACAmB,EACAE,EACAQ,EACAP,EACAv0C,EACA+0C,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAhB,EACAv7C,EAAGC,EAAGu7C,EAFNzX,GAAQ,EAKZ,IAAK+X,EAAiBF,EAAsB90C,EAAOmyC,KAAe,EAChEiD,GAAY,MACP,OAAKJ,EAAiBH,EAAqB70C,EAAOmyC,KAAe,GAGtE,OAAO,EAFPiD,GAAY,EAKd,GAAIp1C,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAMtD,GAHAQ,EAAiBn1C,EAAMa,IAAI5E,WAAW+4C,EAAiB,GAGnDf,EAAU,OAAO,EAgCrB,IA7BAqB,EAAat1C,EAAMoB,OAAOlD,OAEtBk3C,GACFn1C,EAAQD,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAC/C+C,EAAcxc,OAAO14B,EAAMa,IAAIkhC,OAAO9hC,EAAO+0C,EAAiB/0C,EAAQ,IAEtED,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,oBACNm7B,MAAOoY,EACP1U,MAAOgV,EAAY,CAAErD,EAAW,GAChCjyC,MAAOF,EAAME,WAIfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,mBACN6+B,MAAOgV,EAAY,CAAErD,EAAW,GAChCjyC,MAAOF,EAAME,UAQjB8zC,EAAW7B,EACXoD,GAAe,EACfd,EAAkBz0C,EAAMc,OAAO25B,MAAM36B,SAAS,YAEvCk0C,EAAW5B,MAMd6C,GALFI,EAAer1C,EAAMuzC,WAAWyB,KAC1Bh1C,EAAMqzC,OAAOW,GAIG,EAEAqB,EAAeL,GAKb,IAAKC,EAAoB,GAI7CA,EAAoB,IAAKA,EAAoB,GAIjD/B,EAAU8B,EAAiBh1C,EAAMozC,OAAOY,GAAaiB,EAGrDj1C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,iBACN6+B,MAAOiV,EAAY,CAAEtD,EAAW,GAChCjyC,MAAOF,EAAME,UAGfq0C,EAAYv0C,EAAMyyC,UAClBsC,EAAW/0C,EAAMi9B,MACjBoX,EAAYr0C,EAAMwyC,OAAOL,GACzBqC,EAAgBx0C,EAAM2yC,WACtB3yC,EAAMwyC,OAAOL,GAAakD,EAAer1C,EAAMozC,OAAOjB,GACtDnyC,EAAMyyC,UAAYS,EAClBlzC,EAAMi9B,OAAQ,EACdj9B,EAAM2yC,WAAa,OAEnB3yC,EAAMc,OAAOoxC,SAASlyC,EAAOmyC,EAAWC,GAAS,GAG5CpyC,EAAMi9B,QAASsY,IAClBtY,GAAQ,GAIVsY,EAAgBv1C,EAAMqyC,KAAOF,EAAa,GAAKnyC,EAAM0yC,QAAQ1yC,EAAMqyC,KAAO,GAE1EryC,EAAMyyC,UAAY8B,EAClBv0C,EAAMwyC,OAAOL,GAAakC,EAC1Br0C,EAAMi9B,MAAQ8X,EACd/0C,EAAM2yC,WAAa6B,EAEnBx0C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,kBACNzB,QAASF,EAAME,QAGjB8zC,EAAW7B,EAAYnyC,EAAMqyC,KAC7BoD,EAAU,GAAKzB,EACfqB,EAAer1C,EAAMozC,OAAOjB,GAExB6B,GAAY5B,IAEZpyC,EAAM0yC,QAAQsB,IAOdh0C,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,YAxEV,CA4EzB,IADAiC,GAAY,EACPx7C,EAAI,EAAGC,EAAIs7C,EAAgBv2C,OAAQhF,EAAIC,EAAGD,IAC7C,GAAIu7C,EAAgBv7C,GAAG8G,EAAOg0C,EAAU5B,GAAS,GAAO,CACtDsC,GAAY,EACZ,MAGJ,GAAIA,EAAa,MAGjB,GAAIU,GAEF,IADAJ,EAAiBF,EAAsB90C,EAAOg0C,IACzB,EAAK,WAG1B,IADAgB,EAAiBH,EAAqB70C,EAAOg0C,IACxB,EAAK,MAG5B,GAAImB,IAAmBn1C,EAAMa,IAAI5E,WAAW+4C,EAAiB,GAAM,MAiBrE,OAbAh1C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAMyzC,EAAY,qBAAuB,oBACzCl1C,QAASF,EAAME,QAEjBs1C,EAAU,GAAKxB,EAEfh0C,EAAMqyC,KAAO2B,EAGT/W,GA9LN,SAA6Bj9B,EAAOjB,GAClC,IAAI7F,EAAGC,EACH+G,EAAQF,EAAME,MAAQ,EAE1B,IAAKhH,EAAI6F,EAAM,EAAG5F,EAAI6G,EAAMoB,OAAOlD,OAAS,EAAGhF,EAAIC,EAAGD,IAChD8G,EAAMoB,OAAOlI,GAAGgH,QAAUA,GAAkC,mBAAzBF,EAAMoB,OAAOlI,GAAGyI,OACrD3B,EAAMoB,OAAOlI,EAAI,GAAG+jC,OAAQ,EAC5Bj9B,EAAMoB,OAAOlI,GAAG+jC,OAAQ,EACxB/jC,GAAK,GAuLPw8C,CAAoB11C,EAAOs1C,IAGtB,I,6BCnQTr8C,EAAOD,QAAU,SAAkBgH,EAAOmyC,EAAWC,EAAS6B,GAC5D,IAAI0B,EAAUtB,EAAWG,EAAe/zC,EAAKyrB,EACzCjsB,EAAQD,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAC/C7xC,EAAMN,EAAMqzC,OAAOlB,GAGvB,GAAIlyC,EAAQ,EAAIK,EAAO,OAAO,EAE9B,GAAoC,KAAhCN,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAwC,KAApCD,EAAMa,IAAI5E,WAAWgE,EAAQ,GAAsB,OAAO,EAC9D,GAAID,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAEtD,IAAKl0C,EAAMR,EAAQ,EAAGQ,EAAMH,EAAKG,IAAO,CACtC,GAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,GAAiB,OAAO,EACjD,GAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,GACvB,MAIJ,OAAIA,IAAQR,EAAQ,MAChBQ,EAAM,GAAKH,GAAuC,KAAhCN,EAAMa,IAAI5E,aAAawE,MACzCwzC,IACJxzC,IAEKT,EAAMkB,IAAIsgC,YAAaxhC,EAAMkB,IAAIsgC,UAAY,IAC7CxhC,EAAMkB,IAAIsgC,UAAUoU,OAAQ51C,EAAMkB,IAAIsgC,UAAUoU,KAAO,IAC5D1pB,EAAQlsB,EAAMa,IAAIxE,MAAM4D,EAAQ,EAAGQ,EAAM,GACzCT,EAAMkB,IAAIsgC,UAAUoU,KAAK,IAAM1pB,IAAU,EAEzClsB,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,0BACNuqB,MAAOA,EACPhsB,MAAOF,EAAME,UAGfy1C,EAAW31C,EAAMozC,OAAOjB,GACxBkC,EAAYr0C,EAAMwyC,OAAOL,GACzBqC,EAAgBx0C,EAAM2yC,WACtB3yC,EAAMwyC,OAAOL,GAAanyC,EAAMuzC,WAAW9yC,GAAOA,EAClDT,EAAMozC,OAAOjB,GAAa1xC,EAC1BT,EAAMyyC,WAAa,EACnBzyC,EAAM2yC,WAAa,WAEf3yC,EAAMwyC,OAAOL,GAAanyC,EAAMyyC,YAClCzyC,EAAMwyC,OAAOL,IAAcnyC,EAAMyyC,UACjCzyC,EAAMozC,OAAOjB,IAAcnyC,EAAMyyC,WAGnCzyC,EAAMc,OAAOoxC,SAASlyC,EAAOmyC,EAAWC,GAAS,GAEjDpyC,EAAM2yC,WAAa6B,EACnBx0C,EAAMyyC,WAAa,EACnBzyC,EAAMwyC,OAAOL,GAAakC,EAC1Br0C,EAAMozC,OAAOjB,GAAawD,EAE1B31C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,2BACNzB,QAASF,EAAME,UApCI,M,6BCrBvBjH,EAAOD,QAAU,SAAiBgH,EAAOmyC,EAAWC,EAAS6B,GAC3D,IAAIv3C,EAAIwD,EAAO21C,EACXp1C,EAAMT,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAC7C7xC,EAAMN,EAAMqzC,OAAOlB,GAEvB,GAAI1xC,GAAOH,EAAO,OAAO,EAIzB,GAAW,MAFX5D,EAAMsD,EAAMa,IAAI5E,WAAWwE,KAEDA,GAAOH,EAAO,OAAO,EAK/C,IAFAJ,EAAQ,EACRxD,EAAKsD,EAAMa,IAAI5E,aAAawE,GACd,KAAP/D,GAAsB+D,EAAMH,GAAOJ,GAAS,GACjDA,IACAxD,EAAKsD,EAAMa,IAAI5E,aAAawE,GAG9B,QAAIP,EAAQ,GAAMO,EAAMH,GAAc,KAAP5D,KAE3Bu3C,IAIJ3zC,EAAMN,EAAMyzC,cAAcnzC,EAAK,GAAMG,IACrCo1C,EAAM71C,EAAMyzC,cAAcnzC,EAAK,GAAMG,IAC3BA,GAAyC,KAAlCT,EAAMa,IAAI5E,WAAW45C,EAAM,KAC1Cv1C,EAAMu1C,GAGR71C,EAAMqyC,KAAOF,EAAY,EAEzBnyC,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,eACxB06B,OAAQn8B,EACRsgC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BnyC,MAAOF,EAAME,QAIXO,EAAMH,GACRN,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAAS5B,EAAMa,IAAIxE,MAAMoE,EAAKH,GAAKmC,OACnCvC,MAAOF,EAAME,MAAQ,EACrBsgC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1Bp9B,SAAU,KAGdjV,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,gBAAiB06B,OAAQn8B,EAAOA,MAAOF,EAAME,UA5BlD,K,6BCrBvBjH,EAAOD,QAAU,SAAkBgH,EAAOmyC,EAAWC,GACnD,IAAIhyC,EAAQK,EAAKH,EACbqX,EAAOw6B,EAAY,EAEvB,QAAIx6B,GAAQy6B,OACRpyC,EAAMwyC,OAAO76B,GAAQ3X,EAAMyyC,eAI3BzyC,EAAMwyC,OAAO76B,GAAQ3X,EAAMyyC,UAAY,QAE3ChyC,EAAMT,EAAMozC,OAAOz7B,GAAQ3X,EAAMwyC,OAAO76B,MACxCrX,EAAMN,EAAMqzC,OAAO17B,QAMJ,MAFfvX,EAASJ,EAAMa,IAAI5E,WAAWwE,KAEW,KAAXL,KAE9BK,EAAMT,EAAMwzC,UAAU/yC,EAAKL,MAE3BK,EAAMT,EAAMuzC,WAAW9yC,IAEbH,KAEVG,EAAMT,EAAMozC,OAAOjB,GAAanyC,EAAMwyC,OAAOL,GAE7CnyC,EAAMqyC,KAAO16B,EAAO,EACpB3X,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,eACN06B,OAAmB,KAAXj8B,EAAyB,EAAI,EACrCogC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BnyC,MAAOF,EAAME,QAEfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAAS5B,EAAMa,IAAIxE,MAAMoE,EAAKT,EAAMqzC,OAAOlB,IAAY1vC,OACvDvC,MAAOF,EAAME,MAAQ,EACrBsgC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,KAAO,GACjCp9B,SAAU,KAEZjV,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,gBACN06B,OAAmB,KAAXj8B,EAAyB,EAAI,EACrCF,MAAOF,EAAME,SAGR,U,6BChDT,IAAI41C,EAAc,EAAQ,IAGtBC,EAAmB,4BACnBC,EAAoB,4BAQxB/8C,EAAOD,QAAU,SAAmBgH,EAAOmyC,EAAWC,EAAS6B,GAC7D,IAAIv3C,EAAIX,EAAOi4C,EACXvzC,EAAMT,EAAMozC,OAAOjB,GACnB7xC,EAAMN,EAAMqzC,OAAOlB,GACnB3iC,EAAQxP,EAAMwyC,OAAOL,GAIzB,GAFA1xC,GAAO+O,GAEFxP,EAAMlB,QAAQ8lB,KAAQ,OAAO,EAElC,GAAIpV,EAAQ,GAAK/O,EAAM,GAAKH,EAAO,OAAO,EAE1C,GAAkC,KAA9BN,EAAMa,IAAI5E,WAAWwE,GAAwB,OAAO,EAIxD,GAAW,MAFX/D,EAAKsD,EAAMa,IAAI5E,WAAWwE,EAAM,KAEC,KAAP/D,GAExB,GAAIu3C,EAAU,OAAO,MAEhB,IAAW,KAAPv3C,IA1Bb,SAAkBA,GAEhB,IAAIu5C,EAAU,GAALv5C,EACT,OAAQu5C,GAAM,IAAiBA,GAAM,IAuBJxT,CAAS/lC,GAiBxC,OAAO,EAdP,GAAW,KAAPA,GAGF,KADAX,EAAQiE,EAAMa,IAAIxE,MAAMoE,EAAKH,GAAKvE,MAAMi6C,IAC1B,OAAO,OAIrB,KADAj6C,EAAQiE,EAAMa,IAAIxE,MAAMoE,EAAKH,GAAKvE,MAAMg6C,IAC1B,OAAO,EAGvB,IAA4C,IAAxCD,EAAY/5C,EAAM,GAAGI,eAA2B,OAAO,EAC3D,GAAI83C,EAAU,OAAO,EASvB,IADAD,EAAW7B,EAAY,EAChB6B,EAAWh0C,EAAMizC,UAAYjzC,EAAM0yC,QAAQsB,IAChDA,IAWF,OARAh0C,EAAMqyC,KAAO2B,EACbh0C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,YACNzB,MAAOF,EAAME,MACbsgC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BzwC,QAAS5B,EAAM0zC,SAASvB,EAAW6B,EAAU,GAAG,MAG3C,I,6BCnET,IAAIkC,EAAc,GAElB,CACE,UACA,QACA,SACA,aACA,OACA,SACA,UACA,MACA,WACA,KACA,MACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,KACA,SACA,KACA,MACA,SACA,KACA,SACA,IACA,MACA,WACA,SACA,UACA,QACA,QACA,QACA,KACA,WACA,QACA,KACA,KACA,QACA,KACA,SACAn5C,SAAQ,SAAUtD,GAAQy8C,EAAYz8C,IAAQ,KAGhDR,EAAOD,QAAUk9C,G,6BCxDjB,SAASC,EAAQn2C,EAAOqyC,GACtB,IAAI5xC,EAAMT,EAAMozC,OAAOf,GAAQryC,EAAMyyC,UACjCnyC,EAAMN,EAAMqzC,OAAOhB,GAEvB,OAAOryC,EAAMa,IAAIkhC,OAAOthC,EAAKH,EAAMG,GAGrCxH,EAAOD,QAAU,SAAegH,EAAOmyC,EAAWC,EAAS6B,GACzD,IAAIv3C,EAAI05C,EAAU31C,EAAKvH,EAAG86C,EAAUqC,EAAMC,EACtCC,EAAQn8C,EAAGo8C,EAAYC,EAG3B,GAAItE,EAAY,EAAIC,EAAW,OAAO,EAItC,GAFA4B,EAAW7B,EAAY,EAEnBnyC,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,UAAa,OAAO,EAKvD,IADAhyC,EAAMT,EAAMozC,OAAOY,GAAYh0C,EAAMwyC,OAAOwB,KACjCh0C,EAAMqzC,OAAOW,GAAa,OAAO,EAG5C,GAAW,OADXt3C,EAAKsD,EAAMa,IAAI5E,WAAWwE,KACO,KAAP/D,GAA6B,KAAPA,EAAsB,OAAO,EAG7E,GADA05C,EAAWD,EAAQn2C,EAAOmyC,EAAY,IACjC,YAAYj2C,KAAKk6C,GAAa,OAAO,EAG1C,IADAC,EAAOD,EAAShzC,MAAM,OACV,EAAK,OAAO,EAExB,IADAmzC,EAAS,GACJr9C,EAAI,EAAGA,EAAIm9C,EAAKn4C,OAAQhF,IAAK,CAEhC,KADAkB,EAAIi8C,EAAKn9C,GAAGuJ,QACJ,CAGN,GAAU,IAANvJ,GAAWA,IAAMm9C,EAAKn4C,OAAS,EACjC,SAEA,OAAO,EAIX,IAAK,WAAWhC,KAAK9B,GAAM,OAAO,EACC,KAA/BA,EAAE6B,WAAW7B,EAAE8D,OAAS,GAC1Bq4C,EAAO73C,KAAyB,KAApBtE,EAAE6B,WAAW,GAAqB,SAAW,SAC5B,KAApB7B,EAAE6B,WAAW,GACtBs6C,EAAO73C,KAAK,QAEZ63C,EAAO73C,KAAK,IAKhB,IAA+B,KAD/B03C,EAAWD,EAAQn2C,EAAOmyC,GAAW1vC,QACxBjF,QAAQ,KAAe,OAAO,EAE3C,GADA64C,EAAOD,EAAS34C,QAAQ,WAAY,IAAI2F,MAAM,KAC1CmzC,EAAOr4C,SAAWm4C,EAAKn4C,OAAU,OAAO,EAC5C,GAAI+1C,EAAU,OAAO,EAkBrB,IAhBAj0C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,aACN6+B,MAAOgW,EAAa,CAAErE,EAAW,GACjCjyC,MAAOF,EAAME,UAEfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,aACN6+B,MAAO,CAAE2R,EAAWA,EAAY,GAChCjyC,MAAOF,EAAME,UAGfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,UACN6+B,MAAO,CAAE2R,EAAWA,EAAY,GAChCjyC,MAAOF,EAAME,UAEVhH,EAAI,EAAGA,EAAIm9C,EAAKn4C,OAAQhF,IAC3B8G,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,UACNs8B,MAAOsY,EAAOr9C,GACdsnC,MAAO,CAAE2R,EAAWA,EAAY,GAChCjyC,MAAOF,EAAME,UAEfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAASy0C,EAAKn9C,GAAGuJ,OACjB+9B,MAAO,CAAE2R,EAAWA,EAAY,GAChCjyC,MAAOF,EAAME,MACb+U,SAAU,KAEZjV,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,WAAYzB,QAASF,EAAME,QAWvD,IATAF,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,WAAYzB,QAASF,EAAME,QACrDF,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,cAAezB,QAASF,EAAME,QAExDF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,aACN6+B,MAAOiW,EAAa,CAAEtE,EAAY,EAAG,GACrCjyC,MAAOF,EAAME,UAGV8zC,EAAW7B,EAAY,EAAG6B,EAAW5B,KACpCpyC,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,aAGJ,KAD/B2D,EAAWD,EAAQn2C,EAAOg0C,GAAUvxC,QACvBjF,QAAQ,KAJ4Bw2C,IAAY,CAQ7D,IAHAqC,EAAOD,EAAS34C,QAAQ,WAAY,IAAI2F,MAAM,KAE9CpD,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,UAAWzB,MAAOF,EAAME,UAC7ChH,EAAI,EAAGA,EAAIm9C,EAAKn4C,OAAQhF,IAC3B8G,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,UAAWs8B,MAAOsY,EAAOr9C,GAAIgH,MAAOF,EAAME,UAEpEo2C,EAAOD,EAAKn9C,GAAGkvB,UACe,MAA1BiuB,EAAKn9C,GAAG+C,WAAW,GAAc,EAAI,EACM,MAA3Co6C,EAAKn9C,GAAG+C,WAAWo6C,EAAKn9C,GAAGgF,OAAS,GAAcm4C,EAAKn9C,GAAGgF,OAAS,EAAIm4C,EAAKn9C,GAAGgF,QACjFuE,OACFzC,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAAS00C,EACTp2C,MAAOF,EAAME,MACb+U,SAAU,KAEZjV,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,WAAYzB,QAASF,EAAME,QAEvDF,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,WAAYzB,QAASF,EAAME,QAOvD,OALAF,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,cAAezB,QAASF,EAAME,QACxDF,EAAMoB,OAAO1C,KAAK,CAAEiD,KAAM,cAAezB,QAASF,EAAME,QAExDs2C,EAAW,GAAKC,EAAW,GAAKzC,EAChCh0C,EAAMqyC,KAAO2B,GACN,I,6BCjIT,SAAS0C,EAAW12C,EAAOqyC,GACzB,IAAI5xC,EAAKL,EACLH,EAAQD,EAAMozC,OAAOf,GAAQryC,EAAMwyC,OAAOH,GAC1C/xC,EAAMN,EAAMqzC,OAAOhB,GAEvB,OAAIpyC,GAASK,GAIE,OADfF,EAASJ,EAAMa,IAAI5E,WAAWgE,OACW,KAAXG,GAK1BH,KAHJQ,EAAMT,EAAMuzC,WAAWtzC,KAMnBQ,GAAOH,GAZiB,EAcrBG,EAgBTxH,EAAOD,QAAU,SAAiBgH,EAAOmyC,EAAWC,EAAS6B,GAC3D,IAAIoB,EACAsB,EACAC,EACAnB,EACAD,EACAF,EACAtB,EACAO,EACAsC,EACArC,EACAH,EACAU,EACAQ,EACAtY,EAEJ,GAAIgX,EAEF,QAAIj0C,EAAMszC,SAAW,IACdoD,EAAW12C,EAAOmyC,IAAc,EAIzC,GADA6B,EAAW7B,EAAY,EACnBnyC,EAAM0yC,QAAQsB,MACVA,EAAW5B,EAAW,OAAO,EAGrC,GAAIpyC,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,UAAa,OAAO,EAEvD,IADA4C,EAAeqB,EAAW12C,EAAOg0C,IACd,EAAK,OAAO,EAE/B,GAAIh0C,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAGtDW,EAAat1C,EAAMoB,OAAOlD,OAE1B8B,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,UACN6+B,MAAOgV,EAAY,CAAErD,EAAW,GAChCjyC,MAAOF,EAAME,UAOf02C,EAASzE,EACTwE,EAAS3C,EAST9Q,EACA,OAAS,CAqBP,IApBAjG,GAAQ,EACRsY,GAAe,EAEfv1C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,UACN6+B,MAAO,CAAEoW,EAAQA,GACjB12C,MAAOF,EAAME,UAEfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAAS5B,EAAM0zC,SAASkD,EAAQA,EAAS,EAAG52C,EAAMyyC,WAAW,GAAOhwC,OACpEvC,MAAOF,EAAME,MAAQ,EACrBsgC,MAAO,CAAEoW,EAAQA,GACjB3hC,SAAU,KAEZjV,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,WACNzB,QAASF,EAAME,UAGR,CAwCP,GAvCAF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,UACN6+B,MAAOiV,EAAY,CAAEzB,EAAU,GAC/B9zC,MAAOF,EAAME,UAGf60C,EAAW/0C,EAAMi9B,MACjB4Z,EAAc72C,EAAMszC,SACpBiB,EAAYv0C,EAAMyyC,UAClB4B,EAAYr0C,EAAMwyC,OAAOmE,GACzBnC,EAAgBx0C,EAAM2yC,WACtB3yC,EAAMyyC,UAAYzyC,EAAMszC,SAAWtzC,EAAMwyC,OAAOmE,GAAU,EAC1D32C,EAAMwyC,OAAOmE,GAAUtB,EAAer1C,EAAMozC,OAAOuD,GACnD32C,EAAMi9B,OAAQ,EACdj9B,EAAM2yC,WAAa,UAEnB3yC,EAAMc,OAAOoxC,SAASlyC,EAAO22C,EAAQvE,GAAS,GAGzCpyC,EAAMi9B,QAASsY,IAClBtY,GAAQ,GAIVsY,EAAgBv1C,EAAMqyC,KAAOsE,EAAU,GAAK32C,EAAM0yC,QAAQ1yC,EAAMqyC,KAAO,GAEvEryC,EAAMwyC,OAAOmE,GAAUtC,EACvBr0C,EAAMi9B,MAAQ8X,EACd/0C,EAAM2yC,WAAa6B,EACnBx0C,EAAMyyC,UAAY8B,EAClBv0C,EAAMszC,SAAWuD,EAEjB72C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,WACNzB,QAASF,EAAME,QAGjBu1C,EAAU,GAAKzB,EAAWh0C,EAAMqyC,KAE5B2B,GAAY5B,EAAW,MAAMlP,EAEjC,GAAIljC,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,UAAa,MAAMvP,EAEtD,IADAmS,EAAeqB,EAAW12C,EAAOg0C,IACd,EAAK,MAExB2C,EAAS3C,EAMX,GAAIA,GAAY5B,EAAW,MAG3B,GAFAwE,EAAS5C,EAELh0C,EAAM0yC,QAAQkE,GAAW,MAC7B,GAAI52C,EAAMwyC,OAAOoE,GAAU52C,EAAMyyC,UAAa,MAG9C,IADAkE,EAASC,EAAS,IACJxE,EAAW,MAEzB,GADIpyC,EAAM0yC,QAAQiE,IAAWA,IACzBA,GAAUvE,EAAW,MAEzB,GAAIpyC,EAAMwyC,OAAOmE,GAAU32C,EAAMyyC,UAAa,MAE9C,IADA4C,EAAeqB,EAAW12C,EAAO22C,IACd,EAAK,MAoB1B,OAbA32C,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,WACNzB,QAASF,EAAME,QAEjBs1C,EAAU,GAAKxB,EAEfh0C,EAAMqyC,KAAO2B,EAGT/W,GA5KN,SAA6Bj9B,EAAOjB,GAClC,IAAI7F,EAAGC,EACH+G,EAAQF,EAAME,MAAQ,EAE1B,IAAKhH,EAAI6F,EAAM,EAAG5F,EAAI6G,EAAMoB,OAAOlD,OAAS,EAAGhF,EAAIC,EAAGD,IAChD8G,EAAMoB,OAAOlI,GAAGgH,QAAUA,GAAkC,mBAAzBF,EAAMoB,OAAOlI,GAAGyI,OACrD3B,EAAMoB,OAAOlI,EAAI,GAAG+jC,OAAQ,EAC5Bj9B,EAAMoB,OAAOlI,GAAG+jC,OAAQ,EACxB/jC,GAAK,GAqKPw8C,CAAoB11C,EAAOs1C,IAGtB,I,6BCxMTr8C,EAAOD,QAAU,SAAmBgH,EAAOmyC,GACzC,IAAIC,EAASxwC,EAAS8yC,EAAWx7C,EAAGC,EAEhCs7C,EADAT,EAAW7B,EAAY,EAM3B,GAAI6B,GAHJ5B,EAAUpyC,EAAMizC,WAGWjzC,EAAM0yC,QAAQsB,GAGvC,IAFAS,EAAkBz0C,EAAMc,OAAO25B,MAAM36B,SAAS,aAEvCk0C,EAAW5B,IAAYpyC,EAAM0yC,QAAQsB,GAAWA,IAGrD,KAAIh0C,EAAMwyC,OAAOwB,GAAYh0C,EAAMyyC,UAAY,GAA/C,CAIA,IADAiC,GAAY,EACPx7C,EAAI,EAAGC,EAAIs7C,EAAgBv2C,OAAQhF,EAAIC,EAAGD,IAC7C,GAAIu7C,EAAgBv7C,GAAG8G,EAAOg0C,EAAU5B,GAAS,GAAO,CACtDsC,GAAY,EACZ,MAGJ,GAAIA,EAAa,MA4BrB,OAxBA9yC,EAAU5B,EAAM0zC,SAASvB,EAAW6B,EAAUh0C,EAAMyyC,WAAW,GAAOhwC,OAEtEzC,EAAMqyC,KAAO2B,EACTpyC,EAAQ1D,SACV8B,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,iBACNs7B,OAAO,EACPuD,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1BnyC,MAAOF,EAAME,QAEfF,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,SACNC,QAASA,EACT1B,MAAOF,EAAME,MAAQ,EACrBsgC,MAAO,CAAE2R,EAAWnyC,EAAMqyC,MAC1Bp9B,SAAU,KAEZjV,EAAMoB,OAAO1C,KAAK,CAChBiD,KAAM,kBACNs7B,OAAO,EACP/8B,MAAOF,EAAME,UAIV,I,6BCnDT,IAAItC,EAAc,EAAQ,GACtBoD,EAAc,EAAQ,GACtBs6B,EAAc,EAAQ,GAMtBE,EAAS,CACX,CAAE,OAAmB,EAAQ,KAC7B,CAAE,UAAmB,EAAQ,KAC7B,CAAE,SAAmB,EAAQ,KAC7B,CAAE,YAAmB,EAAQ,KAC7B,CAAE,MAAmB,EAAQ,KAC7B,CAAE,MAAmB,EAAQ,KAC7B,CAAE,OAAmB,EAAQ,KAC7B,CAAE,WAAmB,EAAQ,KAC7B,CAAE,MAAmB,EAAQ,KAC7B,CAAE,MAAmB,EAAQ,KAC7B,CAAE,QAAmB,EAAQ,KAC7B,CAAE,kBAAmB,EAAQ,KAC7B,CAAE,eAAmB,EAAQ,KAC7B,CAAE,WAAmB,EAAQ,KAC7B,CAAE,UAAmB,EAAQ,KAC7B,CAAE,SAAmB,EAAQ,MAW/B,SAAS3B,IACPh8B,KAAK48B,MAAQ,IAAI78B,EACjB,IAAK,IAAI1E,EAAI,EAAGA,EAAIsiC,EAAOt9B,OAAQhF,IACjC2E,KAAK48B,MAAM/7B,KAAK88B,EAAOtiC,GAAG,GAAIsiC,EAAOtiC,GAAG,IAI1C2E,KAAKsE,aAAeA,EAiGtB,SAASA,EAAaC,GACpB,IACI7E,EAAM6E,EAAIK,OAAOtG,cAGrB,OAA0B,KAD1BoB,EAAM+9B,EAAM59B,gBAAgBH,IACpBC,QAAQ,OAA6D,IAJzD,CAAE,WAAY,aAAc,OAAQ,QAIXA,QAAQD,EAAI6F,MAAM,KAAK,IA3FtEy2B,EAAa/+B,UAAUiG,UAAY,SAAUf,GAC3C,IAGI9G,EAAG49C,EAHHhc,EAAQj9B,KAAK48B,MAAM36B,SAAS,IAC5B7B,EAAM68B,EAAM58B,OACZuC,EAAMT,EAAMS,IAGhB,IAAKq2C,EAAa92C,EAAMgC,SAASvB,IAAQ,EACvCT,EAAMS,IAAMq2C,MADd,CAKA,IAAK59C,EAAI,EAAGA,EAAI+E,EAAK/E,IACnB,GAAI4hC,EAAM5hC,GAAG8G,GAAO,GAElB,YADAA,EAAM8B,SAASrB,EAAKT,EAAMS,KAK9BT,EAAMS,MACNT,EAAM8B,SAASrB,EAAKT,EAAMS,OAU5Bo5B,EAAa/+B,UAAUo3C,SAAW,SAAUlyC,GAM1C,IALA,IAGI+2C,EAAI79C,EAHJ4hC,EAAQj9B,KAAK48B,MAAM36B,SAAS,IAC5B7B,EAAM68B,EAAM58B,OACZ4yC,EAAM9wC,EAAMO,OAGTP,EAAMS,IAAMqwC,GAAK,CAQtB,IAAK53C,EAAI,EAAGA,EAAI+E,KACd84C,EAAKjc,EAAM5hC,GAAG8G,GAAO,IADF9G,KAQrB,GAAI69C,GACF,GAAI/2C,EAAMS,KAAOqwC,EAAO,WAI1B9wC,EAAMqB,SAAWrB,EAAMa,IAAIb,EAAMS,OAG/BT,EAAMqB,SACRrB,EAAM0B,eAcVm4B,EAAa/+B,UAAUmgC,MAAQ,SAAU19B,EAAKuB,EAASoC,EAAKC,GAC1D,IAAInB,EAAQ,IAAIgB,EAAYzD,EAAKM,KAAMiB,EAASoC,EAAKC,GACrDtD,KAAKq0C,SAASlyC,IAyBhB/G,EAAOD,QAAU6gC,G,6BCxJjB,SAASmd,EAAiBt6C,GACxB,OAAQA,GACN,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,IACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,IACL,KAAK,GACL,KAAK,GACL,KAAK,GACH,OAAO,EACT,QACE,OAAO,GAIbzD,EAAOD,QAAU,SAAcgH,EAAOi0C,GAGpC,IAFA,IAAIxzC,EAAMT,EAAMS,IAETA,EAAMT,EAAMO,SAAWy2C,EAAiBh3C,EAAMa,IAAI5E,WAAWwE,KAClEA,IAGF,OAAIA,IAAQT,EAAMS,MAEbwzC,IAAUj0C,EAAMqB,SAAWrB,EAAMa,IAAIxE,MAAM2D,EAAMS,IAAKA,IAE3DT,EAAMS,IAAMA,GAEL,K,6BC9CTxH,EAAOD,QAAU,SAAiBgH,EAAOi0C,GACvC,IAAIgD,EAAM32C,EAAKG,EAAMT,EAAMS,IAE3B,GAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,GAAyB,OAAO,EASzD,GAPAw2C,EAAOj3C,EAAMqB,QAAQnD,OAAS,EAC9BoC,EAAMN,EAAMO,QAMP0zC,EACH,GAAIgD,GAAQ,GAAwC,KAAnCj3C,EAAMqB,QAAQpF,WAAWg7C,GACxC,GAAIA,GAAQ,GAA4C,KAAvCj3C,EAAMqB,QAAQpF,WAAWg7C,EAAO,GAAa,CAE5D,IAAK,IAAI/9C,EAAI+9C,EAAO,EAAG/9C,GAAK,EAAGA,IAC7B,GAAoC,KAAhC8G,EAAMqB,QAAQpF,WAAW/C,GAAa,CACxC8G,EAAMqB,QAAUrB,EAAMqB,QAAQ+mB,UAAU,EAAGlvB,EAAI,GAC/C,MAGJ8G,EAAMtB,KAAK,CACTiD,KAAM,YACNzB,MAAOF,EAAME,aAGfF,EAAMqB,QAAUrB,EAAMqB,QAAQhF,MAAM,GAAI,GACxC2D,EAAMtB,KAAK,CACTiD,KAAM,YACNzB,MAAOF,EAAME,aAKjBF,EAAMtB,KAAK,CACTiD,KAAM,YACNzB,MAAOF,EAAME,QAQnB,IAHAO,IAGOA,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAAiBA,IAG1D,OADAT,EAAMS,IAAMA,GACL,I,6BC9CT,IAFA,IAAIy2C,EAAU,GAELh+C,EAAI,EAAGA,EAAI,IAAKA,IAAOg+C,EAAQx4C,KAAK,GAE7C,qCACG0E,MAAM,IAAIrG,SAAQ,SAASL,GAAMw6C,EAAQx6C,EAAGT,WAAW,IAAM,KAGhEhD,EAAOD,QAAU,SAAgBgH,EAAOi0C,GACtC,IAAIv3C,EAAI+D,EAAMT,EAAMS,IAAKH,EAAMN,EAAMO,OAErC,GAAkC,KAA9BP,EAAMa,IAAI5E,WAAWwE,GAAwB,OAAO,EAIxD,KAFAA,EAEUH,EAAK,CAGb,IAFA5D,EAAKsD,EAAMa,IAAI5E,WAAWwE,IAEjB,KAAuB,IAAhBy2C,EAAQx6C,GAGtB,OAFKu3C,IAAUj0C,EAAMqB,SAAWrB,EAAMa,IAAIJ,IAC1CT,EAAMS,KAAO,GACN,EAGT,GAAW,KAAP/D,EAAa,CAUf,IATKu3C,GACHj0C,EAAMtB,KAAK,CACTiD,KAAM,YACNzB,MAAOF,EAAME,QAIjBO,IAEOA,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAAiBA,IAG1D,OADAT,EAAMS,IAAMA,GACL,GAMX,OAFKwzC,IAAUj0C,EAAMqB,SAAW,MAChCrB,EAAMS,OACC,I,6BC3CTxH,EAAOD,QAAU,SAAmBgH,EAAOi0C,GACzC,IAAIh0C,EAAOK,EAAKF,EAAQ+2C,EAAYC,EAChC32C,EAAMT,EAAMS,IAGhB,GAAW,KAFFT,EAAMa,IAAI5E,WAAWwE,GAEJ,OAAO,EAMjC,IAJAR,EAAQQ,EACRA,IACAH,EAAMN,EAAMO,OAELE,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAAwBA,IAMjE,IAJAL,EAASJ,EAAMa,IAAIxE,MAAM4D,EAAOQ,GAEhC02C,EAAaC,EAAW32C,GAEoC,KAApD02C,EAAan3C,EAAMa,IAAIrD,QAAQ,IAAK45C,KAAmB,CAG7D,IAFAA,EAAWD,EAAa,EAEjBC,EAAW92C,GAA0C,KAAnCN,EAAMa,IAAI5E,WAAWm7C,IAA6BA,IAE3E,GAAIA,EAAWD,IAAe/2C,EAAOlC,OAYnC,OAXK+1C,GACHj0C,EAAMtB,KAAK,CACTiD,KAAM,OACNC,QAAS5B,EAAMa,IAAIxE,MAAMoE,EAAK02C,GACT15C,QAAQ,UAAW,KACnBgF,OACrB03B,OAAO,EACPj6B,MAAOF,EAAME,QAGjBF,EAAMS,IAAM22C,GACL,EAMX,OAFKnD,IAAUj0C,EAAMqB,SAAWjB,GAChCJ,EAAMS,KAAOL,EAAOlC,QACb,I,6BCxCTjF,EAAOD,QAAU,SAAagH,EAAOi0C,GACnC,IAAI9zC,EACAM,EACAwiC,EAGAoU,EACAC,EAHAh3C,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAIlB,GAAoC,MAAhCT,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAIg0C,EAAU,OAAO,EACrB,GAAIh0C,EAAQ,GAAKK,EAAO,OAAO,EAC/B,GAAwC,MAApCN,EAAMa,IAAI5E,WAAWgE,EAAQ,GAAsB,OAAO,EAC9D,GAAID,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAKtD,GAHA0C,EAAWp3C,EAAQ,EAAID,EAAMa,IAAI5E,WAAWgE,EAAQ,IAAM,EAC1Dq3C,EAAWt3C,EAAMa,IAAI5E,WAAWgE,EAAQ,GAEvB,MAAbo3C,EAA4B,OAAO,EACvC,GAAiB,MAAbC,EAA4B,OAAO,EACvC,GAAiB,KAAbA,GAAkC,KAAbA,EAAqB,OAAO,EAGrD,IADA72C,EAAMR,EAAQ,EACPQ,EAAMH,GAAqC,MAA9BN,EAAMa,IAAI5E,WAAWwE,IAAwBA,IACjE,GAAIA,EAAMR,EAAQ,EAIhB,OAFAD,EAAMS,KAAOA,EAAMR,EACdg0C,IAAUj0C,EAAMqB,SAAWrB,EAAMa,IAAIxE,MAAM4D,EAAOQ,KAChD,EAMT,IAHAT,EAAMS,IAAMR,EAAQ,EACpBgjC,EAAQ,EAEDjjC,EAAMS,IAAM,EAAIH,GAAK,CAC1B,GAAwC,MAApCN,EAAMa,IAAI5E,WAAW+D,EAAMS,MACe,MAAxCT,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,KACnC42C,EAAWr3C,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,GAE3B,OADjB62C,EAAWt3C,EAAMS,IAAM,EAAIH,EAAMN,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,IAAM,IAC3B,MAAb42C,IACb,KAAbA,GAAkC,KAAbA,EAEvBpU,IACsB,KAAbqU,GAAkC,KAAbA,GAE9BrU,IAIEA,GAAS,IAAG,CACd9iC,GAAQ,EACR,MAMRH,EAAMc,OAAOC,UAAUf,GAGzB,OAAKG,GAOLH,EAAMO,OAASP,EAAMS,IACrBT,EAAMS,IAAMR,EAAQ,EAEfg0C,IACHj0C,EAAMtB,KAAK,CAAEiD,KAAM,WAAYzB,MAAOF,EAAME,UAC5CF,EAAMc,OAAOoxC,SAASlyC,GACtBA,EAAMtB,KAAK,CAAEiD,KAAM,YAAazB,QAASF,EAAME,SAGjDF,EAAMS,IAAMT,EAAMO,OAAS,EAC3BP,EAAMO,OAASD,GACR,IAhBLN,EAAMS,IAAMR,GACL,K,6BC/DXhH,EAAOD,QAAU,SAAagH,EAAOi0C,GACnC,IAAI9zC,EACAM,EACAwiC,EAGAoU,EACAC,EAHAh3C,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAIlB,GAAoC,KAAhCT,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAIg0C,EAAU,OAAO,EACrB,GAAIh0C,EAAQ,GAAKK,EAAO,OAAO,EAC/B,GAAwC,KAApCN,EAAMa,IAAI5E,WAAWgE,EAAQ,GAAsB,OAAO,EAC9D,GAAID,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAKtD,GAHA0C,EAAWp3C,EAAQ,EAAID,EAAMa,IAAI5E,WAAWgE,EAAQ,IAAM,EAC1Dq3C,EAAWt3C,EAAMa,IAAI5E,WAAWgE,EAAQ,GAEvB,KAAbo3C,EAA4B,OAAO,EACvC,GAAiB,KAAbC,EAA4B,OAAO,EACvC,GAAiB,KAAbA,GAAkC,KAAbA,EAAqB,OAAO,EAGrD,IADA72C,EAAMR,EAAQ,EACPQ,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAAwBA,IACjE,GAAIA,IAAQR,EAAQ,EAIlB,OAFAD,EAAMS,KAAOA,EAAMR,EACdg0C,IAAUj0C,EAAMqB,SAAWrB,EAAMa,IAAIxE,MAAM4D,EAAOQ,KAChD,EAMT,IAHAT,EAAMS,IAAMR,EAAQ,EACpBgjC,EAAQ,EAEDjjC,EAAMS,IAAM,EAAIH,GAAK,CAC1B,GAAwC,KAApCN,EAAMa,IAAI5E,WAAW+D,EAAMS,MACe,KAAxCT,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,KACnC42C,EAAWr3C,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,GAE3B,MADjB62C,EAAWt3C,EAAMS,IAAM,EAAIH,EAAMN,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,IAAM,IAC3B,KAAb42C,IACb,KAAbA,GAAkC,KAAbA,EAEvBpU,IACsB,KAAbqU,GAAkC,KAAbA,GAE9BrU,IAIEA,GAAS,IAAG,CACd9iC,GAAQ,EACR,MAMRH,EAAMc,OAAOC,UAAUf,GAGzB,OAAKG,GAOLH,EAAMO,OAASP,EAAMS,IACrBT,EAAMS,IAAMR,EAAQ,EAEfg0C,IACHj0C,EAAMtB,KAAK,CAAEiD,KAAM,WAAYzB,MAAOF,EAAME,UAC5CF,EAAMc,OAAOoxC,SAASlyC,GACtBA,EAAMtB,KAAK,CAAEiD,KAAM,YAAazB,QAASF,EAAME,SAGjDF,EAAMS,IAAMT,EAAMO,OAAS,EAC3BP,EAAMO,OAASD,GACR,IAhBLN,EAAMS,IAAMR,GACL,K,6BC/DXhH,EAAOD,QAAU,SAAagH,EAAOi0C,GACnC,IAAI9zC,EACAM,EACAwiC,EAGAoU,EACAC,EAHAh3C,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAIlB,GAAoC,KAAhCT,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAIg0C,EAAU,OAAO,EACrB,GAAIh0C,EAAQ,GAAKK,EAAO,OAAO,EAC/B,GAAwC,KAApCN,EAAMa,IAAI5E,WAAWgE,EAAQ,GAAsB,OAAO,EAC9D,GAAID,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAKtD,GAHA0C,EAAWp3C,EAAQ,EAAID,EAAMa,IAAI5E,WAAWgE,EAAQ,IAAM,EAC1Dq3C,EAAWt3C,EAAMa,IAAI5E,WAAWgE,EAAQ,GAEvB,KAAbo3C,EAA4B,OAAO,EACvC,GAAiB,KAAbC,EAA4B,OAAO,EACvC,GAAiB,KAAbA,GAAkC,KAAbA,EAAqB,OAAO,EAGrD,IADA72C,EAAMR,EAAQ,EACPQ,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,IAAwBA,IACjE,GAAIA,IAAQR,EAAQ,EAIlB,OAFAD,EAAMS,KAAOA,EAAMR,EACdg0C,IAAUj0C,EAAMqB,SAAWrB,EAAMa,IAAIxE,MAAM4D,EAAOQ,KAChD,EAMT,IAHAT,EAAMS,IAAMR,EAAQ,EACpBgjC,EAAQ,EAEDjjC,EAAMS,IAAM,EAAIH,GAAK,CAC1B,GAAwC,KAApCN,EAAMa,IAAI5E,WAAW+D,EAAMS,MACe,KAAxCT,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,KACnC42C,EAAWr3C,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,GAE3B,MADjB62C,EAAWt3C,EAAMS,IAAM,EAAIH,EAAMN,EAAMa,IAAI5E,WAAW+D,EAAMS,IAAM,IAAM,IAC3B,KAAb42C,IACb,KAAbA,GAAkC,KAAbA,EAEvBpU,IACsB,KAAbqU,GAAkC,KAAbA,GAE9BrU,IAIEA,GAAS,IAAG,CACd9iC,GAAQ,EACR,MAMRH,EAAMc,OAAOC,UAAUf,GAGzB,OAAKG,GAOLH,EAAMO,OAASP,EAAMS,IACrBT,EAAMS,IAAMR,EAAQ,EAEfg0C,IACHj0C,EAAMtB,KAAK,CAAEiD,KAAM,YAAazB,MAAOF,EAAME,UAC7CF,EAAMc,OAAOoxC,SAASlyC,GACtBA,EAAMtB,KAAK,CAAEiD,KAAM,aAAczB,QAASF,EAAME,SAGlDF,EAAMS,IAAMT,EAAMO,OAAS,EAC3BP,EAAMO,OAASD,GACR,IAhBLN,EAAMS,IAAMR,GACL,K,6BC9DX,SAASs3C,EAAWv7C,GAClB,OAAQA,GAAQ,IAAgBA,GAAQ,IAChCA,GAAQ,IAAgBA,GAAQ,IAChCA,GAAQ,IAAgBA,GAAQ,IAK1C,SAASw7C,EAAWx3C,EAAOC,GACzB,IAAiBo3C,EAAUC,EAAU7V,EAAjChhC,EAAMR,EACNw3C,GAAW,EACXC,GAAY,EACZp3C,EAAMN,EAAMO,OACZH,EAASJ,EAAMa,IAAI5E,WAAWgE,GAIlC,IAFAo3C,EAAWp3C,EAAQ,EAAID,EAAMa,IAAI5E,WAAWgE,EAAQ,IAAM,EAEnDQ,EAAMH,GAAON,EAAMa,IAAI5E,WAAWwE,KAASL,GAAUK,IAqB5D,OApBIA,GAAOH,IAAOm3C,GAAW,IAC7BhW,EAAQhhC,EAAMR,IAED,EAEXw3C,EAAWC,GAAY,GAKN,MAHjBJ,EAAW72C,EAAMH,EAAMN,EAAMa,IAAI5E,WAAWwE,IAAQ,IAGd,KAAb62C,IAAqBG,GAAW,GACxC,KAAbJ,GAAkC,KAAbA,IAAqBK,GAAY,GAE3C,KAAXt3C,IAEEm3C,EAAWF,KAAaI,GAAW,GACnCF,EAAWD,KAAaI,GAAY,KAIrC,CACLD,SAAUA,EACVC,UAAWA,EACXC,OAAQlW,GAIZxoC,EAAOD,QAAU,SAAkBgH,EAAOi0C,GACxC,IAAI2D,EACAnW,EACAthC,EACA03C,EACAC,EACA7U,EACAgN,EACA3vC,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IACdL,EAASJ,EAAMa,IAAI5E,WAAWgE,GAElC,GAAe,KAAXG,GAAqC,KAAXA,EAA2B,OAAO,EAChE,GAAI6zC,EAAU,OAAO,EAIrB,GADA2D,GADA3H,EAAMuH,EAAWx3C,EAAOC,IACP03C,QACZ1H,EAAIwH,SAGP,OAFAz3C,EAAMS,KAAOm3C,EACR3D,IAAUj0C,EAAMqB,SAAWrB,EAAMa,IAAIxE,MAAM4D,EAAOD,EAAMS,OACtD,EAGT,GAAIT,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAKtD,IAHA30C,EAAMS,IAAMR,EAAQ23C,EACpB3U,EAAQ,CAAE2U,GAEH53C,EAAMS,IAAMH,GACjB,GAAIN,EAAMa,IAAI5E,WAAW+D,EAAMS,OAASL,EAmCxCJ,EAAMc,OAAOC,UAAUf,OAnCvB,CAGE,GADAyhC,GADAwO,EAAMuH,EAAWx3C,EAAOA,EAAMS,MAClBk3C,OACR1H,EAAIyH,UAAW,CAIjB,IAHAG,EAAW5U,EAAMzqB,MACjBs/B,EAAWrW,EAEJoW,IAAaC,GAAU,CAC5B,GAAIA,EAAWD,EAAU,CACvB5U,EAAMvkC,KAAKm5C,EAAWC,GACtB,MAMF,GAFAA,GAAYD,EAES,IAAjB5U,EAAM/kC,OAAgB,MAC1B8B,EAAMS,KAAOo3C,EACbA,EAAW5U,EAAMzqB,MAGnB,GAAqB,IAAjByqB,EAAM/kC,OAAc,CACtB05C,EAAaC,EACb13C,GAAQ,EACR,MAEFH,EAAMS,KAAOghC,EACb,SAGEwO,EAAIwH,UAAYxU,EAAMvkC,KAAK+iC,GAC/BzhC,EAAMS,KAAOghC,EAOjB,OAAKthC,GAOLH,EAAMO,OAASP,EAAMS,IACrBT,EAAMS,IAAMR,EAAQ23C,EAEf3D,IACgB,IAAf2D,GAAmC,IAAfA,GACtB53C,EAAMtB,KAAK,CAAEiD,KAAM,cAAezB,MAAOF,EAAME,UAE9B,IAAf03C,GAAmC,IAAfA,GACtB53C,EAAMtB,KAAK,CAAEiD,KAAM,UAAWzB,MAAOF,EAAME,UAG7CF,EAAMc,OAAOoxC,SAASlyC,GAEH,IAAf43C,GAAmC,IAAfA,GACtB53C,EAAMtB,KAAK,CAAEiD,KAAM,WAAYzB,QAASF,EAAME,QAE7B,IAAf03C,GAAmC,IAAfA,GACtB53C,EAAMtB,KAAK,CAAEiD,KAAM,eAAgBzB,QAASF,EAAME,SAItDF,EAAMS,IAAMT,EAAMO,OAASq3C,EAC3B53C,EAAMO,OAASD,GACR,IA5BLN,EAAMS,IAAMR,GACL,K,6BCnHX,IAAI83C,EAAc,8CAElB9+C,EAAOD,QAAU,SAAagH,EAAOi0C,GACnC,IAAI9zC,EACAyB,EACAtB,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAElB,GAAoC,MAAhCT,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAIg0C,EAAU,OAAO,EACrB,GAAIh0C,EAAQ,GAAKK,EAAO,OAAO,EAC/B,GAAIN,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAItD,IAFA30C,EAAMS,IAAMR,EAAQ,EAEbD,EAAMS,IAAMH,GAAK,CACtB,GAAwC,MAApCN,EAAMa,IAAI5E,WAAW+D,EAAMS,KAAsB,CACnDN,GAAQ,EACR,MAGFH,EAAMc,OAAOC,UAAUf,GAGzB,OAAKG,GAASF,EAAQ,IAAMD,EAAMS,KAKlCmB,EAAU5B,EAAMa,IAAIxE,MAAM4D,EAAQ,EAAGD,EAAMS,MAG/B1E,MAAM,uBAChBiE,EAAMS,IAAMR,GACL,IAITD,EAAMO,OAASP,EAAMS,IACrBT,EAAMS,IAAMR,EAAQ,EAEfg0C,GACHj0C,EAAMtB,KAAK,CACTiD,KAAM,MACNzB,MAAOF,EAAME,MACb0B,QAASA,EAAQnE,QAAQs6C,EAAa,QAI1C/3C,EAAMS,IAAMT,EAAMO,OAAS,EAC3BP,EAAMO,OAASD,GACR,IA1BLN,EAAMS,IAAMR,GACL,K,6BC1BX,IAAI83C,EAAc,8CAElB9+C,EAAOD,QAAU,SAAagH,EAAOi0C,GACnC,IAAI9zC,EACAyB,EACAtB,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAElB,GAAoC,KAAhCT,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAIg0C,EAAU,OAAO,EACrB,GAAIh0C,EAAQ,GAAKK,EAAO,OAAO,EAC/B,GAAIN,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAItD,IAFA30C,EAAMS,IAAMR,EAAQ,EAEbD,EAAMS,IAAMH,GAAK,CACtB,GAAwC,KAApCN,EAAMa,IAAI5E,WAAW+D,EAAMS,KAAsB,CACnDN,GAAQ,EACR,MAGFH,EAAMc,OAAOC,UAAUf,GAGzB,OAAKG,GAASF,EAAQ,IAAMD,EAAMS,KAKlCmB,EAAU5B,EAAMa,IAAIxE,MAAM4D,EAAQ,EAAGD,EAAMS,MAG/B1E,MAAM,uBAChBiE,EAAMS,IAAMR,GACL,IAITD,EAAMO,OAASP,EAAMS,IACrBT,EAAMS,IAAMR,EAAQ,EAEfg0C,GACHj0C,EAAMtB,KAAK,CACTiD,KAAM,MACNzB,MAAOF,EAAME,MACb0B,QAASA,EAAQnE,QAAQs6C,EAAa,QAI1C/3C,EAAMS,IAAMT,EAAMO,OAAS,EAC3BP,EAAMO,OAASD,GACR,IA1BLN,EAAMS,IAAMR,GACL,K,6BC3BX,IAAIwgC,EAAuB,EAAQ,GAC/BG,EAAuB,EAAQ,GAC/BC,EAAuB,EAAQ,GAC/BC,EAAuB,EAAQ,GAGnC7nC,EAAOD,QAAU,SAAegH,EAAOi0C,GACrC,IAAI+D,EACA33C,EACA6rB,EACAlD,EACAE,EACAzoB,EACAw3C,EACAj8C,EACAk8C,GAAU,EACV13C,EAASR,EAAMS,IACfH,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IACdL,EAASJ,EAAMa,IAAI5E,WAAWgE,GAOlC,GALe,KAAXG,IACF83C,GAAU,EACV93C,EAASJ,EAAMa,IAAI5E,aAAagE,IAGnB,KAAXG,EAA0B,OAAO,EACrC,GAAIJ,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAMtD,GAJAqD,EAAa/3C,EAAQ,GACrBI,EAAWogC,EAAezgC,EAAOC,IAGlB,EAAK,OAAO,EAG3B,IADAQ,EAAMJ,EAAW,GACPC,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,GAAsB,CAQ1D,IADAA,IACOA,EAAMH,IAEE,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,KACE,KAATzE,GAFLyE,KAIlB,GAAIA,GAAOH,EAAO,OAAO,EAezB,IAXAL,EAAQQ,EACJmgC,EAAqB5gC,EAAOS,IAC9BuoB,EAAOhpB,EAAMyB,YACbhB,EAAMT,EAAMS,KAEZuoB,EAAO,GAKT/oB,EAAQQ,EACDA,EAAMH,IAEE,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,KACE,KAATzE,GAFLyE,KAOlB,GAAIA,EAAMH,GAAOL,IAAUQ,GAAOogC,EAAe7gC,EAAOS,GAMtD,IALAyoB,EAAQlpB,EAAMyB,YACdhB,EAAMT,EAAMS,IAILA,EAAMH,IAEE,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,KACE,KAATzE,GAFLyE,UAKlByoB,EAAQ,GAGV,GAAIzoB,GAAOH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,GAErC,OADAT,EAAMS,IAAMD,GACL,EAETC,QACK,CAML,GAAIT,EAAMwB,UAAY,EAAK,OAAO,EAIlC,KAAOf,EAAMH,IAEE,MADbtE,EAAOgE,EAAMa,IAAI5E,WAAWwE,KACE,KAATzE,GAFLyE,KAyBlB,GApBIA,EAAMH,GAAqC,KAA9BN,EAAMa,IAAI5E,WAAWwE,KACpCR,EAAQQ,EAAM,GACdA,EAAMggC,EAAezgC,EAAOS,KACjB,EACTyrB,EAAQlsB,EAAMa,IAAIxE,MAAM4D,EAAOQ,KAE/BA,EAAMR,EAAQ,GAMbisB,SACkB,IAAVA,IACTzrB,EAAMJ,EAAW,GAEnB6rB,EAAQlsB,EAAMa,IAAIxE,MAAM27C,EAAY33C,MAGtC43C,EAAMj4C,EAAMkB,IAAI8/B,WAAWF,EAAmB5U,KAG5C,OADAlsB,EAAMS,IAAMD,GACL,EAETwoB,EAAOivB,EAAIjvB,KACXE,EAAQ+uB,EAAI/uB,MAmCd,OA5BK+qB,IACHj0C,EAAMS,IAAMu3C,EACZh4C,EAAMO,OAASF,EAEX63C,EACFl4C,EAAMtB,KAAK,CACTiD,KAAM,QACNd,IAAKmoB,EACLE,MAAOA,EACP1qB,IAAKwB,EAAMa,IAAIkhC,OAAOiW,EAAY33C,EAAW23C,GAC7C93C,MAAOF,EAAME,SAGfF,EAAMtB,KAAK,CACTiD,KAAM,YACNqnB,KAAMA,EACNE,MAAOA,EACPhpB,MAAOF,EAAME,UAEfF,EAAMwB,YACNxB,EAAMc,OAAOoxC,SAASlyC,GACtBA,EAAMwB,YACNxB,EAAMtB,KAAK,CAAEiD,KAAM,aAAczB,QAASF,EAAME,UAIpDF,EAAMS,IAAMA,EACZT,EAAMO,OAASD,GACR,I,6BCpKT,IAAImgC,EAAiB,EAAQ,GAG7BxnC,EAAOD,QAAU,SAAyBgH,EAAOi0C,GAC/C,IAAI+D,EACA33C,EACA83C,EACAC,EACA93C,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAElB,QAAIR,EAAQ,GAAKK,KACmB,KAAhCN,EAAMa,IAAI5E,WAAWgE,KACe,KAApCD,EAAMa,IAAI5E,WAAWgE,EAAQ,OAC7BD,EAAME,OAASF,EAAMlB,QAAQ61C,cAEjCqD,EAAa/3C,EAAQ,KACrBI,EAAWogC,EAAezgC,EAAOC,EAAQ,IAG1B,KAKVg0C,IACEj0C,EAAMkB,IAAIsgC,YAAaxhC,EAAMkB,IAAIsgC,UAAY,IAC7CxhC,EAAMkB,IAAIsgC,UAAU/hC,OAAQO,EAAMkB,IAAIsgC,UAAU/hC,KAAO,IAC5D04C,EAAan4C,EAAMkB,IAAIsgC,UAAU/hC,KAAKvB,OAEtC8B,EAAMS,IAAMu3C,EACZh4C,EAAMO,OAASF,EAEfL,EAAMtB,KAAK,CACTiD,KAAM,eACNwG,GAAIgwC,EACJj4C,MAAOF,EAAME,QAEfF,EAAMwB,YACN42C,EAAYp4C,EAAMoB,OAAOlD,OACzB8B,EAAMc,OAAOoxC,SAASlyC,GACtBA,EAAMkB,IAAIsgC,UAAU/hC,KAAK04C,GAAc,CAAE/2C,OAAQpB,EAAMoB,OAAO/B,OAAO+4C,IACrEp4C,EAAMwB,aAGRxB,EAAMS,IAAMJ,EAAW,EACvBL,EAAMO,OAASD,GACR,S,6BC9CTrH,EAAOD,QAAU,SAAsBgH,EAAOi0C,GAC5C,IAAI/nB,EACAzrB,EACA03C,EACAE,EACA/3C,EAAMN,EAAMO,OACZN,EAAQD,EAAMS,IAGlB,GAAIR,EAAQ,EAAIK,EAAO,OAAO,EAE9B,IAAKN,EAAMkB,IAAIsgC,YAAcxhC,EAAMkB,IAAIsgC,UAAUoU,KAAQ,OAAO,EAChE,GAAoC,KAAhC51C,EAAMa,IAAI5E,WAAWgE,GAA0B,OAAO,EAC1D,GAAwC,KAApCD,EAAMa,IAAI5E,WAAWgE,EAAQ,GAAsB,OAAO,EAC9D,GAAID,EAAME,OAASF,EAAMlB,QAAQ61C,WAAc,OAAO,EAEtD,IAAKl0C,EAAMR,EAAQ,EAAGQ,EAAMH,EAAKG,IAAO,CACtC,GAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,GAAiB,OAAO,EACjD,GAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,GAAiB,OAAO,EACjD,GAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,GACvB,MAIJ,OAAIA,IAAQR,EAAQ,MAChBQ,GAAOH,KACXG,IAEAyrB,EAAQlsB,EAAMa,IAAIxE,MAAM4D,EAAQ,EAAGQ,EAAM,QACY,IAA1CT,EAAMkB,IAAIsgC,UAAUoU,KAAK,IAAM1pB,KAErC+nB,IACEj0C,EAAMkB,IAAIsgC,UAAU/hC,OAAQO,EAAMkB,IAAIsgC,UAAU/hC,KAAO,IAExDO,EAAMkB,IAAIsgC,UAAUoU,KAAK,IAAM1pB,GAAS,GAC1CisB,EAAan4C,EAAMkB,IAAIsgC,UAAU/hC,KAAKvB,OACtC8B,EAAMkB,IAAIsgC,UAAU/hC,KAAK04C,GAAc,CAAEjsB,MAAOA,EAAOuV,MAAO,GAC9DzhC,EAAMkB,IAAIsgC,UAAUoU,KAAK,IAAM1pB,GAASisB,GAExCA,EAAan4C,EAAMkB,IAAIsgC,UAAUoU,KAAK,IAAM1pB,GAG9CmsB,EAAgBr4C,EAAMkB,IAAIsgC,UAAU/hC,KAAK04C,GAAY1W,MACrDzhC,EAAMkB,IAAIsgC,UAAU/hC,KAAK04C,GAAY1W,QAErCzhC,EAAMtB,KAAK,CACTiD,KAAM,eACNwG,GAAIgwC,EACJzY,MAAO2Y,EACPn4C,MAAOF,EAAME,SAIjBF,EAAMS,IAAMA,EACZT,EAAMO,OAASD,GACR,O,6BCxDT,IAAIg4C,EAAgB,EAAQ,IACxBr2C,EAAgB,EAAQ,GAIxBs2C,EAAc,2IACdC,EAAc,2CAGlBv/C,EAAOD,QAAU,SAAkBgH,EAAOi0C,GACxC,IAAIwE,EAAMC,EAAWC,EAAYv2C,EAAKw2C,EAASn4C,EAAMT,EAAMS,IAE3D,OAAkC,KAA9BT,EAAMa,IAAI5E,WAAWwE,QAEzBg4C,EAAOz4C,EAAMa,IAAIxE,MAAMoE,IAEdjD,QAAQ,KAAO,MAExBk7C,EAAYD,EAAK18C,MAAMy8C,MAGjBF,EAAY96C,QAAQk7C,EAAU,GAAGv8C,eAAiB,KAEtDiG,EAAMs2C,EAAU,GAAGr8C,MAAM,GAAI,GAC7Bu8C,EAAU32C,EAAcG,KACnBpC,EAAMc,OAAOqB,aAAaC,KAE1B6xC,IACHj0C,EAAMtB,KAAK,CACTiD,KAAM,YACNqnB,KAAM4vB,EACN14C,MAAOF,EAAME,QAEfF,EAAMtB,KAAK,CACTiD,KAAM,OACNC,QAASQ,EACTlC,MAAOF,EAAME,MAAQ,IAEvBF,EAAMtB,KAAK,CAAEiD,KAAM,aAAczB,MAAOF,EAAME,SAGhDF,EAAMS,KAAOi4C,EAAU,GAAGx6C,QACnB,OAGTy6C,EAAaF,EAAK18C,MAAMw8C,MAItBn2C,EAAMu2C,EAAW,GAAGt8C,MAAM,GAAI,GAE9Bu8C,EAAU32C,EAAc,UAAYG,KAC/BpC,EAAMc,OAAOqB,aAAay2C,KAE1B3E,IACHj0C,EAAMtB,KAAK,CACTiD,KAAM,YACNqnB,KAAM4vB,EACN14C,MAAOF,EAAME,QAEfF,EAAMtB,KAAK,CACTiD,KAAM,OACNC,QAASQ,EACTlC,MAAOF,EAAME,MAAQ,IAEvBF,EAAMtB,KAAK,CAAEiD,KAAM,aAAczB,MAAOF,EAAME,SAGhDF,EAAMS,KAAOk4C,EAAW,GAAGz6C,QACpB,Q,6BCnEXjF,EAAOD,QAAU,CACf,OACA,MACA,aACA,MACA,OACA,QACA,OACA,MACA,MACA,OACA,OACA,MACA,OACA,MACA,OACA,MACA,MACA,KACA,SACA,OACA,OACA,QACA,MACA,OACA,KACA,OACA,OACA,MACA,OACA,YACA,WACA,YACA,WACA,OACA,SACA,MACA,OACA,QACA,OACA,UACA,OACA,MACA,KACA,MACA,OACA,kBACA,MACA,OACA,OACA,UACA,UACA,QACA,QACA,MACA,OACA,MACA,OACA,YACA,aACA,MACA,MACA,SACA,OACA,cACA,SACA,MACA,KACA,MACA,QACA,KACA,MACA,OACA,cACA,cACA,eACA,OACA,UACA,UACA,YACA,MACA,MACA,MACA,MACA,aACA,KACA,UACA,UACA,OACA,SACA,SACA,mBACA,0BACA,UACA,MACA,k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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","'use strict';\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nexports.assign            = assign;\nexports.isString          = isString;\nexports.has               = has;\nexports.unescapeMd        = unescapeMd;\nexports.isValidEntityCode = isValidEntityCode;\nexports.fromCodePoint     = fromCodePoint;\nexports.replaceEntities   = replaceEntities;\nexports.escapeHtml        = escapeHtml;\n","'use strict';\n\n/**\n * Ruler is a helper class for building responsibility chains from\n * parse rules. It allows:\n *\n *   - easy stack rules chains\n *   - getting main chain and named chains content (as arrays of functions)\n *\n * Helper methods, should not be used directly.\n * @api private\n */\n\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // { name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ] }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - digital anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n/**\n * Find the index of a rule by `name`.\n *\n * @param  {String} `name`\n * @return {Number} Index of the given `name`\n * @api private\n */\n\nRuler.prototype.__find__ = function (name) {\n  var len = this.__rules__.length;\n  var i = -1;\n\n  while (len--) {\n    if (this.__rules__[++i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Build the rules lookup cache\n *\n * @api private\n */\n\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler public methods\n * ------------------------------------------------\n */\n\n/**\n * Replace rule function\n *\n * @param  {String} `name` Rule name\n * @param  {Function `fn`\n * @param  {Object} `options`\n * @api private\n */\n\nRuler.prototype.at = function (name, fn, options) {\n  var idx = this.__find__(name);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n\n  this.__rules__[idx].fn = fn;\n  this.__rules__[idx].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain before given the `ruleName`.\n *\n * @param  {String}   `beforeName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var idx = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n\n  this.__rules__.splice(idx, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain after the given `ruleName`.\n *\n * @param  {String}   `afterName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var idx = this.__find__(afterName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n\n  this.__rules__.splice(idx + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the end of chain.\n *\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @return {String}\n */\n\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Enable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to enable\n * @param  {Boolean} `strict` If `true`, all non listed rules will be disabled.\n * @api private\n */\n\nRuler.prototype.enable = function (list, strict) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // In strict mode disable all existing rules first\n  if (strict) {\n    this.__rules__.forEach(function (rule) {\n      rule.enabled = false;\n    });\n  }\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Disable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to disable\n * @api private\n */\n\nRuler.prototype.disable = function (list) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n/**\n * Get a rules list as an array of functions.\n *\n * @param  {String} `chainName`\n * @return {Object}\n * @api private\n */\n\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n  return this.__cache__[chainName] || [];\n};\n\n/**\n * Expose `Ruler`\n */\n\nmodule.exports = Ruler;\n","'use strict';\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nmodule.exports = function parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n};\n","// Inline parser state\n\n'use strict';\n\nfunction StateInline(src, parserInline, options, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.options = options;\n  this.parser = parserInline;\n  this.tokens = outTokens;\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = [];        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  // Link parser state vars\n\n  this.isInLabel = false; // Set true when seek link label - we should disable\n                          // \"paired\" rules (emphasis, strikes) to not skip\n                          // tailing `]`\n\n  this.linkLevel = 0;     // Increment for each nesting link. Used to prevent\n                          // nesting in definitions\n\n  this.linkContent = '';  // Temporary storage for link url\n\n  this.labelUnmatchedScopes = 0; // Track unpaired `[` for link labels\n                                 // (backtrack optimization)\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  this.tokens.push({\n    type: 'text',\n    content: this.pending,\n    level: this.pendingLevel\n  });\n  this.pending = '';\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (token) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  this.tokens.push(token);\n  this.pendingLevel = this.level;\n};\n\n// Store value to cache.\n// !!! Implementation has parser-specific optimizations\n// !!! keys MUST be integer, >= 0; values MUST be integer, > 0\n//\nStateInline.prototype.cacheSet = function (key, val) {\n  for (var i = this.cache.length; i <= key; i++) {\n    this.cache.push(0);\n  }\n\n  this.cache[key] = val;\n};\n\n// Get cache value\n//\nStateInline.prototype.cacheGet = function (key) {\n  return key < this.cache.length ? this.cache[key] : 0;\n};\n\nmodule.exports = StateInline;\n","// List of valid entities\n//\n// Generate with ./support/entities.js script\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = {\n  \"Aacute\":\"\\u00C1\",\n  \"aacute\":\"\\u00E1\",\n  \"Abreve\":\"\\u0102\",\n  \"abreve\":\"\\u0103\",\n  \"ac\":\"\\u223E\",\n  \"acd\":\"\\u223F\",\n  \"acE\":\"\\u223E\\u0333\",\n  \"Acirc\":\"\\u00C2\",\n  \"acirc\":\"\\u00E2\",\n  \"acute\":\"\\u00B4\",\n  \"Acy\":\"\\u0410\",\n  \"acy\":\"\\u0430\",\n  \"AElig\":\"\\u00C6\",\n  \"aelig\":\"\\u00E6\",\n  \"af\":\"\\u2061\",\n  \"Afr\":\"\\uD835\\uDD04\",\n  \"afr\":\"\\uD835\\uDD1E\",\n  \"Agrave\":\"\\u00C0\",\n  \"agrave\":\"\\u00E0\",\n  \"alefsym\":\"\\u2135\",\n  \"aleph\":\"\\u2135\",\n  \"Alpha\":\"\\u0391\",\n  \"alpha\":\"\\u03B1\",\n  \"Amacr\":\"\\u0100\",\n  \"amacr\":\"\\u0101\",\n  \"amalg\":\"\\u2A3F\",\n  \"AMP\":\"\\u0026\",\n  \"amp\":\"\\u0026\",\n  \"And\":\"\\u2A53\",\n  \"and\":\"\\u2227\",\n  \"andand\":\"\\u2A55\",\n  \"andd\":\"\\u2A5C\",\n  \"andslope\":\"\\u2A58\",\n  \"andv\":\"\\u2A5A\",\n  \"ang\":\"\\u2220\",\n  \"ange\":\"\\u29A4\",\n  \"angle\":\"\\u2220\",\n  \"angmsd\":\"\\u2221\",\n  \"angmsdaa\":\"\\u29A8\",\n  \"angmsdab\":\"\\u29A9\",\n  \"angmsdac\":\"\\u29AA\",\n  \"angmsdad\":\"\\u29AB\",\n  \"angmsdae\":\"\\u29AC\",\n  \"angmsdaf\":\"\\u29AD\",\n  \"angmsdag\":\"\\u29AE\",\n  \"angmsdah\":\"\\u29AF\",\n  \"angrt\":\"\\u221F\",\n  \"angrtvb\":\"\\u22BE\",\n  \"angrtvbd\":\"\\u299D\",\n  \"angsph\":\"\\u2222\",\n  \"angst\":\"\\u00C5\",\n  \"angzarr\":\"\\u237C\",\n  \"Aogon\":\"\\u0104\",\n  \"aogon\":\"\\u0105\",\n  \"Aopf\":\"\\uD835\\uDD38\",\n  \"aopf\":\"\\uD835\\uDD52\",\n  \"ap\":\"\\u2248\",\n  \"apacir\":\"\\u2A6F\",\n  \"apE\":\"\\u2A70\",\n  \"ape\":\"\\u224A\",\n  \"apid\":\"\\u224B\",\n  \"apos\":\"\\u0027\",\n  \"ApplyFunction\":\"\\u2061\",\n  \"approx\":\"\\u2248\",\n  \"approxeq\":\"\\u224A\",\n  \"Aring\":\"\\u00C5\",\n  \"aring\":\"\\u00E5\",\n  \"Ascr\":\"\\uD835\\uDC9C\",\n  \"ascr\":\"\\uD835\\uDCB6\",\n  \"Assign\":\"\\u2254\",\n  \"ast\":\"\\u002A\",\n  \"asymp\":\"\\u2248\",\n  \"asympeq\":\"\\u224D\",\n  \"Atilde\":\"\\u00C3\",\n  \"atilde\":\"\\u00E3\",\n  \"Auml\":\"\\u00C4\",\n  \"auml\":\"\\u00E4\",\n  \"awconint\":\"\\u2233\",\n  \"awint\":\"\\u2A11\",\n  \"backcong\":\"\\u224C\",\n  \"backepsilon\":\"\\u03F6\",\n  \"backprime\":\"\\u2035\",\n  \"backsim\":\"\\u223D\",\n  \"backsimeq\":\"\\u22CD\",\n  \"Backslash\":\"\\u2216\",\n  \"Barv\":\"\\u2AE7\",\n  \"barvee\":\"\\u22BD\",\n  \"Barwed\":\"\\u2306\",\n  \"barwed\":\"\\u2305\",\n  \"barwedge\":\"\\u2305\",\n  \"bbrk\":\"\\u23B5\",\n  \"bbrktbrk\":\"\\u23B6\",\n  \"bcong\":\"\\u224C\",\n  \"Bcy\":\"\\u0411\",\n  \"bcy\":\"\\u0431\",\n  \"bdquo\":\"\\u201E\",\n  \"becaus\":\"\\u2235\",\n  \"Because\":\"\\u2235\",\n  \"because\":\"\\u2235\",\n  \"bemptyv\":\"\\u29B0\",\n  \"bepsi\":\"\\u03F6\",\n  \"bernou\":\"\\u212C\",\n  \"Bernoullis\":\"\\u212C\",\n  \"Beta\":\"\\u0392\",\n  \"beta\":\"\\u03B2\",\n  \"beth\":\"\\u2136\",\n  \"between\":\"\\u226C\",\n  \"Bfr\":\"\\uD835\\uDD05\",\n  \"bfr\":\"\\uD835\\uDD1F\",\n  \"bigcap\":\"\\u22C2\",\n  \"bigcirc\":\"\\u25EF\",\n  \"bigcup\":\"\\u22C3\",\n  \"bigodot\":\"\\u2A00\",\n  \"bigoplus\":\"\\u2A01\",\n  \"bigotimes\":\"\\u2A02\",\n  \"bigsqcup\":\"\\u2A06\",\n  \"bigstar\":\"\\u2605\",\n  \"bigtriangledown\":\"\\u25BD\",\n  \"bigtriangleup\":\"\\u25B3\",\n  \"biguplus\":\"\\u2A04\",\n  \"bigvee\":\"\\u22C1\",\n  \"bigwedge\":\"\\u22C0\",\n  \"bkarow\":\"\\u290D\",\n  \"blacklozenge\":\"\\u29EB\",\n  \"blacksquare\":\"\\u25AA\",\n  \"blacktriangle\":\"\\u25B4\",\n  \"blacktriangledown\":\"\\u25BE\",\n  \"blacktriangleleft\":\"\\u25C2\",\n  \"blacktriangleright\":\"\\u25B8\",\n  \"blank\":\"\\u2423\",\n  \"blk12\":\"\\u2592\",\n  \"blk14\":\"\\u2591\",\n  \"blk34\":\"\\u2593\",\n  \"block\":\"\\u2588\",\n  \"bne\":\"\\u003D\\u20E5\",\n  \"bnequiv\":\"\\u2261\\u20E5\",\n  \"bNot\":\"\\u2AED\",\n  \"bnot\":\"\\u2310\",\n  \"Bopf\":\"\\uD835\\uDD39\",\n  \"bopf\":\"\\uD835\\uDD53\",\n  \"bot\":\"\\u22A5\",\n  \"bottom\":\"\\u22A5\",\n  \"bowtie\":\"\\u22C8\",\n  \"boxbox\":\"\\u29C9\",\n  \"boxDL\":\"\\u2557\",\n  \"boxDl\":\"\\u2556\",\n  \"boxdL\":\"\\u2555\",\n  \"boxdl\":\"\\u2510\",\n  \"boxDR\":\"\\u2554\",\n  \"boxDr\":\"\\u2553\",\n  \"boxdR\":\"\\u2552\",\n  \"boxdr\":\"\\u250C\",\n  \"boxH\":\"\\u2550\",\n  \"boxh\":\"\\u2500\",\n  \"boxHD\":\"\\u2566\",\n  \"boxHd\":\"\\u2564\",\n  \"boxhD\":\"\\u2565\",\n  \"boxhd\":\"\\u252C\",\n  \"boxHU\":\"\\u2569\",\n  \"boxHu\":\"\\u2567\",\n  \"boxhU\":\"\\u2568\",\n  \"boxhu\":\"\\u2534\",\n  \"boxminus\":\"\\u229F\",\n  \"boxplus\":\"\\u229E\",\n  \"boxtimes\":\"\\u22A0\",\n  \"boxUL\":\"\\u255D\",\n  \"boxUl\":\"\\u255C\",\n  \"boxuL\":\"\\u255B\",\n  \"boxul\":\"\\u2518\",\n  \"boxUR\":\"\\u255A\",\n  \"boxUr\":\"\\u2559\",\n  \"boxuR\":\"\\u2558\",\n  \"boxur\":\"\\u2514\",\n  \"boxV\":\"\\u2551\",\n  \"boxv\":\"\\u2502\",\n  \"boxVH\":\"\\u256C\",\n  \"boxVh\":\"\\u256B\",\n  \"boxvH\":\"\\u256A\",\n  \"boxvh\":\"\\u253C\",\n  \"boxVL\":\"\\u2563\",\n  \"boxVl\":\"\\u2562\",\n  \"boxvL\":\"\\u2561\",\n  \"boxvl\":\"\\u2524\",\n  \"boxVR\":\"\\u2560\",\n  \"boxVr\":\"\\u255F\",\n  \"boxvR\":\"\\u255E\",\n  \"boxvr\":\"\\u251C\",\n  \"bprime\":\"\\u2035\",\n  \"Breve\":\"\\u02D8\",\n  \"breve\":\"\\u02D8\",\n  \"brvbar\":\"\\u00A6\",\n  \"Bscr\":\"\\u212C\",\n  \"bscr\":\"\\uD835\\uDCB7\",\n  \"bsemi\":\"\\u204F\",\n  \"bsim\":\"\\u223D\",\n  \"bsime\":\"\\u22CD\",\n  \"bsol\":\"\\u005C\",\n  \"bsolb\":\"\\u29C5\",\n  \"bsolhsub\":\"\\u27C8\",\n  \"bull\":\"\\u2022\",\n  \"bullet\":\"\\u2022\",\n  \"bump\":\"\\u224E\",\n  \"bumpE\":\"\\u2AAE\",\n  \"bumpe\":\"\\u224F\",\n  \"Bumpeq\":\"\\u224E\",\n  \"bumpeq\":\"\\u224F\",\n  \"Cacute\":\"\\u0106\",\n  \"cacute\":\"\\u0107\",\n  \"Cap\":\"\\u22D2\",\n  \"cap\":\"\\u2229\",\n  \"capand\":\"\\u2A44\",\n  \"capbrcup\":\"\\u2A49\",\n  \"capcap\":\"\\u2A4B\",\n  \"capcup\":\"\\u2A47\",\n  \"capdot\":\"\\u2A40\",\n  \"CapitalDifferentialD\":\"\\u2145\",\n  \"caps\":\"\\u2229\\uFE00\",\n  \"caret\":\"\\u2041\",\n  \"caron\":\"\\u02C7\",\n  \"Cayleys\":\"\\u212D\",\n  \"ccaps\":\"\\u2A4D\",\n  \"Ccaron\":\"\\u010C\",\n  \"ccaron\":\"\\u010D\",\n  \"Ccedil\":\"\\u00C7\",\n  \"ccedil\":\"\\u00E7\",\n  \"Ccirc\":\"\\u0108\",\n  \"ccirc\":\"\\u0109\",\n  \"Cconint\":\"\\u2230\",\n  \"ccups\":\"\\u2A4C\",\n  \"ccupssm\":\"\\u2A50\",\n  \"Cdot\":\"\\u010A\",\n  \"cdot\":\"\\u010B\",\n  \"cedil\":\"\\u00B8\",\n  \"Cedilla\":\"\\u00B8\",\n  \"cemptyv\":\"\\u29B2\",\n  \"cent\":\"\\u00A2\",\n  \"CenterDot\":\"\\u00B7\",\n  \"centerdot\":\"\\u00B7\",\n  \"Cfr\":\"\\u212D\",\n  \"cfr\":\"\\uD835\\uDD20\",\n  \"CHcy\":\"\\u0427\",\n  \"chcy\":\"\\u0447\",\n  \"check\":\"\\u2713\",\n  \"checkmark\":\"\\u2713\",\n  \"Chi\":\"\\u03A7\",\n  \"chi\":\"\\u03C7\",\n  \"cir\":\"\\u25CB\",\n  \"circ\":\"\\u02C6\",\n  \"circeq\":\"\\u2257\",\n  \"circlearrowleft\":\"\\u21BA\",\n  \"circlearrowright\":\"\\u21BB\",\n  \"circledast\":\"\\u229B\",\n  \"circledcirc\":\"\\u229A\",\n  \"circleddash\":\"\\u229D\",\n  \"CircleDot\":\"\\u2299\",\n  \"circledR\":\"\\u00AE\",\n  \"circledS\":\"\\u24C8\",\n  \"CircleMinus\":\"\\u2296\",\n  \"CirclePlus\":\"\\u2295\",\n  \"CircleTimes\":\"\\u2297\",\n  \"cirE\":\"\\u29C3\",\n  \"cire\":\"\\u2257\",\n  \"cirfnint\":\"\\u2A10\",\n  \"cirmid\":\"\\u2AEF\",\n  \"cirscir\":\"\\u29C2\",\n  \"ClockwiseContourIntegral\":\"\\u2232\",\n  \"CloseCurlyDoubleQuote\":\"\\u201D\",\n  \"CloseCurlyQuote\":\"\\u2019\",\n  \"clubs\":\"\\u2663\",\n  \"clubsuit\":\"\\u2663\",\n  \"Colon\":\"\\u2237\",\n  \"colon\":\"\\u003A\",\n  \"Colone\":\"\\u2A74\",\n  \"colone\":\"\\u2254\",\n  \"coloneq\":\"\\u2254\",\n  \"comma\":\"\\u002C\",\n  \"commat\":\"\\u0040\",\n  \"comp\":\"\\u2201\",\n  \"compfn\":\"\\u2218\",\n  \"complement\":\"\\u2201\",\n  \"complexes\":\"\\u2102\",\n  \"cong\":\"\\u2245\",\n  \"congdot\":\"\\u2A6D\",\n  \"Congruent\":\"\\u2261\",\n  \"Conint\":\"\\u222F\",\n  \"conint\":\"\\u222E\",\n  \"ContourIntegral\":\"\\u222E\",\n  \"Copf\":\"\\u2102\",\n  \"copf\":\"\\uD835\\uDD54\",\n  \"coprod\":\"\\u2210\",\n  \"Coproduct\":\"\\u2210\",\n  \"COPY\":\"\\u00A9\",\n  \"copy\":\"\\u00A9\",\n  \"copysr\":\"\\u2117\",\n  \"CounterClockwiseContourIntegral\":\"\\u2233\",\n  \"crarr\":\"\\u21B5\",\n  \"Cross\":\"\\u2A2F\",\n  \"cross\":\"\\u2717\",\n  \"Cscr\":\"\\uD835\\uDC9E\",\n  \"cscr\":\"\\uD835\\uDCB8\",\n  \"csub\":\"\\u2ACF\",\n  \"csube\":\"\\u2AD1\",\n  \"csup\":\"\\u2AD0\",\n  \"csupe\":\"\\u2AD2\",\n  \"ctdot\":\"\\u22EF\",\n  \"cudarrl\":\"\\u2938\",\n  \"cudarrr\":\"\\u2935\",\n  \"cuepr\":\"\\u22DE\",\n  \"cuesc\":\"\\u22DF\",\n  \"cularr\":\"\\u21B6\",\n  \"cularrp\":\"\\u293D\",\n  \"Cup\":\"\\u22D3\",\n  \"cup\":\"\\u222A\",\n  \"cupbrcap\":\"\\u2A48\",\n  \"CupCap\":\"\\u224D\",\n  \"cupcap\":\"\\u2A46\",\n  \"cupcup\":\"\\u2A4A\",\n  \"cupdot\":\"\\u228D\",\n  \"cupor\":\"\\u2A45\",\n  \"cups\":\"\\u222A\\uFE00\",\n  \"curarr\":\"\\u21B7\",\n  \"curarrm\":\"\\u293C\",\n  \"curlyeqprec\":\"\\u22DE\",\n  \"curlyeqsucc\":\"\\u22DF\",\n  \"curlyvee\":\"\\u22CE\",\n  \"curlywedge\":\"\\u22CF\",\n  \"curren\":\"\\u00A4\",\n  \"curvearrowleft\":\"\\u21B6\",\n  \"curvearrowright\":\"\\u21B7\",\n  \"cuvee\":\"\\u22CE\",\n  \"cuwed\":\"\\u22CF\",\n  \"cwconint\":\"\\u2232\",\n  \"cwint\":\"\\u2231\",\n  \"cylcty\":\"\\u232D\",\n  \"Dagger\":\"\\u2021\",\n  \"dagger\":\"\\u2020\",\n  \"daleth\":\"\\u2138\",\n  \"Darr\":\"\\u21A1\",\n  \"dArr\":\"\\u21D3\",\n  \"darr\":\"\\u2193\",\n  \"dash\":\"\\u2010\",\n  \"Dashv\":\"\\u2AE4\",\n  \"dashv\":\"\\u22A3\",\n  \"dbkarow\":\"\\u290F\",\n  \"dblac\":\"\\u02DD\",\n  \"Dcaron\":\"\\u010E\",\n  \"dcaron\":\"\\u010F\",\n  \"Dcy\":\"\\u0414\",\n  \"dcy\":\"\\u0434\",\n  \"DD\":\"\\u2145\",\n  \"dd\":\"\\u2146\",\n  \"ddagger\":\"\\u2021\",\n  \"ddarr\":\"\\u21CA\",\n  \"DDotrahd\":\"\\u2911\",\n  \"ddotseq\":\"\\u2A77\",\n  \"deg\":\"\\u00B0\",\n  \"Del\":\"\\u2207\",\n  \"Delta\":\"\\u0394\",\n  \"delta\":\"\\u03B4\",\n  \"demptyv\":\"\\u29B1\",\n  \"dfisht\":\"\\u297F\",\n  \"Dfr\":\"\\uD835\\uDD07\",\n  \"dfr\":\"\\uD835\\uDD21\",\n  \"dHar\":\"\\u2965\",\n  \"dharl\":\"\\u21C3\",\n  \"dharr\":\"\\u21C2\",\n  \"DiacriticalAcute\":\"\\u00B4\",\n  \"DiacriticalDot\":\"\\u02D9\",\n  \"DiacriticalDoubleAcute\":\"\\u02DD\",\n  \"DiacriticalGrave\":\"\\u0060\",\n  \"DiacriticalTilde\":\"\\u02DC\",\n  \"diam\":\"\\u22C4\",\n  \"Diamond\":\"\\u22C4\",\n  \"diamond\":\"\\u22C4\",\n  \"diamondsuit\":\"\\u2666\",\n  \"diams\":\"\\u2666\",\n  \"die\":\"\\u00A8\",\n  \"DifferentialD\":\"\\u2146\",\n  \"digamma\":\"\\u03DD\",\n  \"disin\":\"\\u22F2\",\n  \"div\":\"\\u00F7\",\n  \"divide\":\"\\u00F7\",\n  \"divideontimes\":\"\\u22C7\",\n  \"divonx\":\"\\u22C7\",\n  \"DJcy\":\"\\u0402\",\n  \"djcy\":\"\\u0452\",\n  \"dlcorn\":\"\\u231E\",\n  \"dlcrop\":\"\\u230D\",\n  \"dollar\":\"\\u0024\",\n  \"Dopf\":\"\\uD835\\uDD3B\",\n  \"dopf\":\"\\uD835\\uDD55\",\n  \"Dot\":\"\\u00A8\",\n  \"dot\":\"\\u02D9\",\n  \"DotDot\":\"\\u20DC\",\n  \"doteq\":\"\\u2250\",\n  \"doteqdot\":\"\\u2251\",\n  \"DotEqual\":\"\\u2250\",\n  \"dotminus\":\"\\u2238\",\n  \"dotplus\":\"\\u2214\",\n  \"dotsquare\":\"\\u22A1\",\n  \"doublebarwedge\":\"\\u2306\",\n  \"DoubleContourIntegral\":\"\\u222F\",\n  \"DoubleDot\":\"\\u00A8\",\n  \"DoubleDownArrow\":\"\\u21D3\",\n  \"DoubleLeftArrow\":\"\\u21D0\",\n  \"DoubleLeftRightArrow\":\"\\u21D4\",\n  \"DoubleLeftTee\":\"\\u2AE4\",\n  \"DoubleLongLeftArrow\":\"\\u27F8\",\n  \"DoubleLongLeftRightArrow\":\"\\u27FA\",\n  \"DoubleLongRightArrow\":\"\\u27F9\",\n  \"DoubleRightArrow\":\"\\u21D2\",\n  \"DoubleRightTee\":\"\\u22A8\",\n  \"DoubleUpArrow\":\"\\u21D1\",\n  \"DoubleUpDownArrow\":\"\\u21D5\",\n  \"DoubleVerticalBar\":\"\\u2225\",\n  \"DownArrow\":\"\\u2193\",\n  \"Downarrow\":\"\\u21D3\",\n  \"downarrow\":\"\\u2193\",\n  \"DownArrowBar\":\"\\u2913\",\n  \"DownArrowUpArrow\":\"\\u21F5\",\n  \"DownBreve\":\"\\u0311\",\n  \"downdownarrows\":\"\\u21CA\",\n  \"downharpoonleft\":\"\\u21C3\",\n  \"downharpoonright\":\"\\u21C2\",\n  \"DownLeftRightVector\":\"\\u2950\",\n  \"DownLeftTeeVector\":\"\\u295E\",\n  \"DownLeftVector\":\"\\u21BD\",\n  \"DownLeftVectorBar\":\"\\u2956\",\n  \"DownRightTeeVector\":\"\\u295F\",\n  \"DownRightVector\":\"\\u21C1\",\n  \"DownRightVectorBar\":\"\\u2957\",\n  \"DownTee\":\"\\u22A4\",\n  \"DownTeeArrow\":\"\\u21A7\",\n  \"drbkarow\":\"\\u2910\",\n  \"drcorn\":\"\\u231F\",\n  \"drcrop\":\"\\u230C\",\n  \"Dscr\":\"\\uD835\\uDC9F\",\n  \"dscr\":\"\\uD835\\uDCB9\",\n  \"DScy\":\"\\u0405\",\n  \"dscy\":\"\\u0455\",\n  \"dsol\":\"\\u29F6\",\n  \"Dstrok\":\"\\u0110\",\n  \"dstrok\":\"\\u0111\",\n  \"dtdot\":\"\\u22F1\",\n  \"dtri\":\"\\u25BF\",\n  \"dtrif\":\"\\u25BE\",\n  \"duarr\":\"\\u21F5\",\n  \"duhar\":\"\\u296F\",\n  \"dwangle\":\"\\u29A6\",\n  \"DZcy\":\"\\u040F\",\n  \"dzcy\":\"\\u045F\",\n  \"dzigrarr\":\"\\u27FF\",\n  \"Eacute\":\"\\u00C9\",\n  \"eacute\":\"\\u00E9\",\n  \"easter\":\"\\u2A6E\",\n  \"Ecaron\":\"\\u011A\",\n  \"ecaron\":\"\\u011B\",\n  \"ecir\":\"\\u2256\",\n  \"Ecirc\":\"\\u00CA\",\n  \"ecirc\":\"\\u00EA\",\n  \"ecolon\":\"\\u2255\",\n  \"Ecy\":\"\\u042D\",\n  \"ecy\":\"\\u044D\",\n  \"eDDot\":\"\\u2A77\",\n  \"Edot\":\"\\u0116\",\n  \"eDot\":\"\\u2251\",\n  \"edot\":\"\\u0117\",\n  \"ee\":\"\\u2147\",\n  \"efDot\":\"\\u2252\",\n  \"Efr\":\"\\uD835\\uDD08\",\n  \"efr\":\"\\uD835\\uDD22\",\n  \"eg\":\"\\u2A9A\",\n  \"Egrave\":\"\\u00C8\",\n  \"egrave\":\"\\u00E8\",\n  \"egs\":\"\\u2A96\",\n  \"egsdot\":\"\\u2A98\",\n  \"el\":\"\\u2A99\",\n  \"Element\":\"\\u2208\",\n  \"elinters\":\"\\u23E7\",\n  \"ell\":\"\\u2113\",\n  \"els\":\"\\u2A95\",\n  \"elsdot\":\"\\u2A97\",\n  \"Emacr\":\"\\u0112\",\n  \"emacr\":\"\\u0113\",\n  \"empty\":\"\\u2205\",\n  \"emptyset\":\"\\u2205\",\n  \"EmptySmallSquare\":\"\\u25FB\",\n  \"emptyv\":\"\\u2205\",\n  \"EmptyVerySmallSquare\":\"\\u25AB\",\n  \"emsp\":\"\\u2003\",\n  \"emsp13\":\"\\u2004\",\n  \"emsp14\":\"\\u2005\",\n  \"ENG\":\"\\u014A\",\n  \"eng\":\"\\u014B\",\n  \"ensp\":\"\\u2002\",\n  \"Eogon\":\"\\u0118\",\n  \"eogon\":\"\\u0119\",\n  \"Eopf\":\"\\uD835\\uDD3C\",\n  \"eopf\":\"\\uD835\\uDD56\",\n  \"epar\":\"\\u22D5\",\n  \"eparsl\":\"\\u29E3\",\n  \"eplus\":\"\\u2A71\",\n  \"epsi\":\"\\u03B5\",\n  \"Epsilon\":\"\\u0395\",\n  \"epsilon\":\"\\u03B5\",\n  \"epsiv\":\"\\u03F5\",\n  \"eqcirc\":\"\\u2256\",\n  \"eqcolon\":\"\\u2255\",\n  \"eqsim\":\"\\u2242\",\n  \"eqslantgtr\":\"\\u2A96\",\n  \"eqslantless\":\"\\u2A95\",\n  \"Equal\":\"\\u2A75\",\n  \"equals\":\"\\u003D\",\n  \"EqualTilde\":\"\\u2242\",\n  \"equest\":\"\\u225F\",\n  \"Equilibrium\":\"\\u21CC\",\n  \"equiv\":\"\\u2261\",\n  \"equivDD\":\"\\u2A78\",\n  \"eqvparsl\":\"\\u29E5\",\n  \"erarr\":\"\\u2971\",\n  \"erDot\":\"\\u2253\",\n  \"Escr\":\"\\u2130\",\n  \"escr\":\"\\u212F\",\n  \"esdot\":\"\\u2250\",\n  \"Esim\":\"\\u2A73\",\n  \"esim\":\"\\u2242\",\n  \"Eta\":\"\\u0397\",\n  \"eta\":\"\\u03B7\",\n  \"ETH\":\"\\u00D0\",\n  \"eth\":\"\\u00F0\",\n  \"Euml\":\"\\u00CB\",\n  \"euml\":\"\\u00EB\",\n  \"euro\":\"\\u20AC\",\n  \"excl\":\"\\u0021\",\n  \"exist\":\"\\u2203\",\n  \"Exists\":\"\\u2203\",\n  \"expectation\":\"\\u2130\",\n  \"ExponentialE\":\"\\u2147\",\n  \"exponentiale\":\"\\u2147\",\n  \"fallingdotseq\":\"\\u2252\",\n  \"Fcy\":\"\\u0424\",\n  \"fcy\":\"\\u0444\",\n  \"female\":\"\\u2640\",\n  \"ffilig\":\"\\uFB03\",\n  \"fflig\":\"\\uFB00\",\n  \"ffllig\":\"\\uFB04\",\n  \"Ffr\":\"\\uD835\\uDD09\",\n  \"ffr\":\"\\uD835\\uDD23\",\n  \"filig\":\"\\uFB01\",\n  \"FilledSmallSquare\":\"\\u25FC\",\n  \"FilledVerySmallSquare\":\"\\u25AA\",\n  \"fjlig\":\"\\u0066\\u006A\",\n  \"flat\":\"\\u266D\",\n  \"fllig\":\"\\uFB02\",\n  \"fltns\":\"\\u25B1\",\n  \"fnof\":\"\\u0192\",\n  \"Fopf\":\"\\uD835\\uDD3D\",\n  \"fopf\":\"\\uD835\\uDD57\",\n  \"ForAll\":\"\\u2200\",\n  \"forall\":\"\\u2200\",\n  \"fork\":\"\\u22D4\",\n  \"forkv\":\"\\u2AD9\",\n  \"Fouriertrf\":\"\\u2131\",\n  \"fpartint\":\"\\u2A0D\",\n  \"frac12\":\"\\u00BD\",\n  \"frac13\":\"\\u2153\",\n  \"frac14\":\"\\u00BC\",\n  \"frac15\":\"\\u2155\",\n  \"frac16\":\"\\u2159\",\n  \"frac18\":\"\\u215B\",\n  \"frac23\":\"\\u2154\",\n  \"frac25\":\"\\u2156\",\n  \"frac34\":\"\\u00BE\",\n  \"frac35\":\"\\u2157\",\n  \"frac38\":\"\\u215C\",\n  \"frac45\":\"\\u2158\",\n  \"frac56\":\"\\u215A\",\n  \"frac58\":\"\\u215D\",\n  \"frac78\":\"\\u215E\",\n  \"frasl\":\"\\u2044\",\n  \"frown\":\"\\u2322\",\n  \"Fscr\":\"\\u2131\",\n  \"fscr\":\"\\uD835\\uDCBB\",\n  \"gacute\":\"\\u01F5\",\n  \"Gamma\":\"\\u0393\",\n  \"gamma\":\"\\u03B3\",\n  \"Gammad\":\"\\u03DC\",\n  \"gammad\":\"\\u03DD\",\n  \"gap\":\"\\u2A86\",\n  \"Gbreve\":\"\\u011E\",\n  \"gbreve\":\"\\u011F\",\n  \"Gcedil\":\"\\u0122\",\n  \"Gcirc\":\"\\u011C\",\n  \"gcirc\":\"\\u011D\",\n  \"Gcy\":\"\\u0413\",\n  \"gcy\":\"\\u0433\",\n  \"Gdot\":\"\\u0120\",\n  \"gdot\":\"\\u0121\",\n  \"gE\":\"\\u2267\",\n  \"ge\":\"\\u2265\",\n  \"gEl\":\"\\u2A8C\",\n  \"gel\":\"\\u22DB\",\n  \"geq\":\"\\u2265\",\n  \"geqq\":\"\\u2267\",\n  \"geqslant\":\"\\u2A7E\",\n  \"ges\":\"\\u2A7E\",\n  \"gescc\":\"\\u2AA9\",\n  \"gesdot\":\"\\u2A80\",\n  \"gesdoto\":\"\\u2A82\",\n  \"gesdotol\":\"\\u2A84\",\n  \"gesl\":\"\\u22DB\\uFE00\",\n  \"gesles\":\"\\u2A94\",\n  \"Gfr\":\"\\uD835\\uDD0A\",\n  \"gfr\":\"\\uD835\\uDD24\",\n  \"Gg\":\"\\u22D9\",\n  \"gg\":\"\\u226B\",\n  \"ggg\":\"\\u22D9\",\n  \"gimel\":\"\\u2137\",\n  \"GJcy\":\"\\u0403\",\n  \"gjcy\":\"\\u0453\",\n  \"gl\":\"\\u2277\",\n  \"gla\":\"\\u2AA5\",\n  \"glE\":\"\\u2A92\",\n  \"glj\":\"\\u2AA4\",\n  \"gnap\":\"\\u2A8A\",\n  \"gnapprox\":\"\\u2A8A\",\n  \"gnE\":\"\\u2269\",\n  \"gne\":\"\\u2A88\",\n  \"gneq\":\"\\u2A88\",\n  \"gneqq\":\"\\u2269\",\n  \"gnsim\":\"\\u22E7\",\n  \"Gopf\":\"\\uD835\\uDD3E\",\n  \"gopf\":\"\\uD835\\uDD58\",\n  \"grave\":\"\\u0060\",\n  \"GreaterEqual\":\"\\u2265\",\n  \"GreaterEqualLess\":\"\\u22DB\",\n  \"GreaterFullEqual\":\"\\u2267\",\n  \"GreaterGreater\":\"\\u2AA2\",\n  \"GreaterLess\":\"\\u2277\",\n  \"GreaterSlantEqual\":\"\\u2A7E\",\n  \"GreaterTilde\":\"\\u2273\",\n  \"Gscr\":\"\\uD835\\uDCA2\",\n  \"gscr\":\"\\u210A\",\n  \"gsim\":\"\\u2273\",\n  \"gsime\":\"\\u2A8E\",\n  \"gsiml\":\"\\u2A90\",\n  \"GT\":\"\\u003E\",\n  \"Gt\":\"\\u226B\",\n  \"gt\":\"\\u003E\",\n  \"gtcc\":\"\\u2AA7\",\n  \"gtcir\":\"\\u2A7A\",\n  \"gtdot\":\"\\u22D7\",\n  \"gtlPar\":\"\\u2995\",\n  \"gtquest\":\"\\u2A7C\",\n  \"gtrapprox\":\"\\u2A86\",\n  \"gtrarr\":\"\\u2978\",\n  \"gtrdot\":\"\\u22D7\",\n  \"gtreqless\":\"\\u22DB\",\n  \"gtreqqless\":\"\\u2A8C\",\n  \"gtrless\":\"\\u2277\",\n  \"gtrsim\":\"\\u2273\",\n  \"gvertneqq\":\"\\u2269\\uFE00\",\n  \"gvnE\":\"\\u2269\\uFE00\",\n  \"Hacek\":\"\\u02C7\",\n  \"hairsp\":\"\\u200A\",\n  \"half\":\"\\u00BD\",\n  \"hamilt\":\"\\u210B\",\n  \"HARDcy\":\"\\u042A\",\n  \"hardcy\":\"\\u044A\",\n  \"hArr\":\"\\u21D4\",\n  \"harr\":\"\\u2194\",\n  \"harrcir\":\"\\u2948\",\n  \"harrw\":\"\\u21AD\",\n  \"Hat\":\"\\u005E\",\n  \"hbar\":\"\\u210F\",\n  \"Hcirc\":\"\\u0124\",\n  \"hcirc\":\"\\u0125\",\n  \"hearts\":\"\\u2665\",\n  \"heartsuit\":\"\\u2665\",\n  \"hellip\":\"\\u2026\",\n  \"hercon\":\"\\u22B9\",\n  \"Hfr\":\"\\u210C\",\n  \"hfr\":\"\\uD835\\uDD25\",\n  \"HilbertSpace\":\"\\u210B\",\n  \"hksearow\":\"\\u2925\",\n  \"hkswarow\":\"\\u2926\",\n  \"hoarr\":\"\\u21FF\",\n  \"homtht\":\"\\u223B\",\n  \"hookleftarrow\":\"\\u21A9\",\n  \"hookrightarrow\":\"\\u21AA\",\n  \"Hopf\":\"\\u210D\",\n  \"hopf\":\"\\uD835\\uDD59\",\n  \"horbar\":\"\\u2015\",\n  \"HorizontalLine\":\"\\u2500\",\n  \"Hscr\":\"\\u210B\",\n  \"hscr\":\"\\uD835\\uDCBD\",\n  \"hslash\":\"\\u210F\",\n  \"Hstrok\":\"\\u0126\",\n  \"hstrok\":\"\\u0127\",\n  \"HumpDownHump\":\"\\u224E\",\n  \"HumpEqual\":\"\\u224F\",\n  \"hybull\":\"\\u2043\",\n  \"hyphen\":\"\\u2010\",\n  \"Iacute\":\"\\u00CD\",\n  \"iacute\":\"\\u00ED\",\n  \"ic\":\"\\u2063\",\n  \"Icirc\":\"\\u00CE\",\n  \"icirc\":\"\\u00EE\",\n  \"Icy\":\"\\u0418\",\n  \"icy\":\"\\u0438\",\n  \"Idot\":\"\\u0130\",\n  \"IEcy\":\"\\u0415\",\n  \"iecy\":\"\\u0435\",\n  \"iexcl\":\"\\u00A1\",\n  \"iff\":\"\\u21D4\",\n  \"Ifr\":\"\\u2111\",\n  \"ifr\":\"\\uD835\\uDD26\",\n  \"Igrave\":\"\\u00CC\",\n  \"igrave\":\"\\u00EC\",\n  \"ii\":\"\\u2148\",\n  \"iiiint\":\"\\u2A0C\",\n  \"iiint\":\"\\u222D\",\n  \"iinfin\":\"\\u29DC\",\n  \"iiota\":\"\\u2129\",\n  \"IJlig\":\"\\u0132\",\n  \"ijlig\":\"\\u0133\",\n  \"Im\":\"\\u2111\",\n  \"Imacr\":\"\\u012A\",\n  \"imacr\":\"\\u012B\",\n  \"image\":\"\\u2111\",\n  \"ImaginaryI\":\"\\u2148\",\n  \"imagline\":\"\\u2110\",\n  \"imagpart\":\"\\u2111\",\n  \"imath\":\"\\u0131\",\n  \"imof\":\"\\u22B7\",\n  \"imped\":\"\\u01B5\",\n  \"Implies\":\"\\u21D2\",\n  \"in\":\"\\u2208\",\n  \"incare\":\"\\u2105\",\n  \"infin\":\"\\u221E\",\n  \"infintie\":\"\\u29DD\",\n  \"inodot\":\"\\u0131\",\n  \"Int\":\"\\u222C\",\n  \"int\":\"\\u222B\",\n  \"intcal\":\"\\u22BA\",\n  \"integers\":\"\\u2124\",\n  \"Integral\":\"\\u222B\",\n  \"intercal\":\"\\u22BA\",\n  \"Intersection\":\"\\u22C2\",\n  \"intlarhk\":\"\\u2A17\",\n  \"intprod\":\"\\u2A3C\",\n  \"InvisibleComma\":\"\\u2063\",\n  \"InvisibleTimes\":\"\\u2062\",\n  \"IOcy\":\"\\u0401\",\n  \"iocy\":\"\\u0451\",\n  \"Iogon\":\"\\u012E\",\n  \"iogon\":\"\\u012F\",\n  \"Iopf\":\"\\uD835\\uDD40\",\n  \"iopf\":\"\\uD835\\uDD5A\",\n  \"Iota\":\"\\u0399\",\n  \"iota\":\"\\u03B9\",\n  \"iprod\":\"\\u2A3C\",\n  \"iquest\":\"\\u00BF\",\n  \"Iscr\":\"\\u2110\",\n  \"iscr\":\"\\uD835\\uDCBE\",\n  \"isin\":\"\\u2208\",\n  \"isindot\":\"\\u22F5\",\n  \"isinE\":\"\\u22F9\",\n  \"isins\":\"\\u22F4\",\n  \"isinsv\":\"\\u22F3\",\n  \"isinv\":\"\\u2208\",\n  \"it\":\"\\u2062\",\n  \"Itilde\":\"\\u0128\",\n  \"itilde\":\"\\u0129\",\n  \"Iukcy\":\"\\u0406\",\n  \"iukcy\":\"\\u0456\",\n  \"Iuml\":\"\\u00CF\",\n  \"iuml\":\"\\u00EF\",\n  \"Jcirc\":\"\\u0134\",\n  \"jcirc\":\"\\u0135\",\n  \"Jcy\":\"\\u0419\",\n  \"jcy\":\"\\u0439\",\n  \"Jfr\":\"\\uD835\\uDD0D\",\n  \"jfr\":\"\\uD835\\uDD27\",\n  \"jmath\":\"\\u0237\",\n  \"Jopf\":\"\\uD835\\uDD41\",\n  \"jopf\":\"\\uD835\\uDD5B\",\n  \"Jscr\":\"\\uD835\\uDCA5\",\n  \"jscr\":\"\\uD835\\uDCBF\",\n  \"Jsercy\":\"\\u0408\",\n  \"jsercy\":\"\\u0458\",\n  \"Jukcy\":\"\\u0404\",\n  \"jukcy\":\"\\u0454\",\n  \"Kappa\":\"\\u039A\",\n  \"kappa\":\"\\u03BA\",\n  \"kappav\":\"\\u03F0\",\n  \"Kcedil\":\"\\u0136\",\n  \"kcedil\":\"\\u0137\",\n  \"Kcy\":\"\\u041A\",\n  \"kcy\":\"\\u043A\",\n  \"Kfr\":\"\\uD835\\uDD0E\",\n  \"kfr\":\"\\uD835\\uDD28\",\n  \"kgreen\":\"\\u0138\",\n  \"KHcy\":\"\\u0425\",\n  \"khcy\":\"\\u0445\",\n  \"KJcy\":\"\\u040C\",\n  \"kjcy\":\"\\u045C\",\n  \"Kopf\":\"\\uD835\\uDD42\",\n  \"kopf\":\"\\uD835\\uDD5C\",\n  \"Kscr\":\"\\uD835\\uDCA6\",\n  \"kscr\":\"\\uD835\\uDCC0\",\n  \"lAarr\":\"\\u21DA\",\n  \"Lacute\":\"\\u0139\",\n  \"lacute\":\"\\u013A\",\n  \"laemptyv\":\"\\u29B4\",\n  \"lagran\":\"\\u2112\",\n  \"Lambda\":\"\\u039B\",\n  \"lambda\":\"\\u03BB\",\n  \"Lang\":\"\\u27EA\",\n  \"lang\":\"\\u27E8\",\n  \"langd\":\"\\u2991\",\n  \"langle\":\"\\u27E8\",\n  \"lap\":\"\\u2A85\",\n  \"Laplacetrf\":\"\\u2112\",\n  \"laquo\":\"\\u00AB\",\n  \"Larr\":\"\\u219E\",\n  \"lArr\":\"\\u21D0\",\n  \"larr\":\"\\u2190\",\n  \"larrb\":\"\\u21E4\",\n  \"larrbfs\":\"\\u291F\",\n  \"larrfs\":\"\\u291D\",\n  \"larrhk\":\"\\u21A9\",\n  \"larrlp\":\"\\u21AB\",\n  \"larrpl\":\"\\u2939\",\n  \"larrsim\":\"\\u2973\",\n  \"larrtl\":\"\\u21A2\",\n  \"lat\":\"\\u2AAB\",\n  \"lAtail\":\"\\u291B\",\n  \"latail\":\"\\u2919\",\n  \"late\":\"\\u2AAD\",\n  \"lates\":\"\\u2AAD\\uFE00\",\n  \"lBarr\":\"\\u290E\",\n  \"lbarr\":\"\\u290C\",\n  \"lbbrk\":\"\\u2772\",\n  \"lbrace\":\"\\u007B\",\n  \"lbrack\":\"\\u005B\",\n  \"lbrke\":\"\\u298B\",\n  \"lbrksld\":\"\\u298F\",\n  \"lbrkslu\":\"\\u298D\",\n  \"Lcaron\":\"\\u013D\",\n  \"lcaron\":\"\\u013E\",\n  \"Lcedil\":\"\\u013B\",\n  \"lcedil\":\"\\u013C\",\n  \"lceil\":\"\\u2308\",\n  \"lcub\":\"\\u007B\",\n  \"Lcy\":\"\\u041B\",\n  \"lcy\":\"\\u043B\",\n  \"ldca\":\"\\u2936\",\n  \"ldquo\":\"\\u201C\",\n  \"ldquor\":\"\\u201E\",\n  \"ldrdhar\":\"\\u2967\",\n  \"ldrushar\":\"\\u294B\",\n  \"ldsh\":\"\\u21B2\",\n  \"lE\":\"\\u2266\",\n  \"le\":\"\\u2264\",\n  \"LeftAngleBracket\":\"\\u27E8\",\n  \"LeftArrow\":\"\\u2190\",\n  \"Leftarrow\":\"\\u21D0\",\n  \"leftarrow\":\"\\u2190\",\n  \"LeftArrowBar\":\"\\u21E4\",\n  \"LeftArrowRightArrow\":\"\\u21C6\",\n  \"leftarrowtail\":\"\\u21A2\",\n  \"LeftCeiling\":\"\\u2308\",\n  \"LeftDoubleBracket\":\"\\u27E6\",\n  \"LeftDownTeeVector\":\"\\u2961\",\n  \"LeftDownVector\":\"\\u21C3\",\n  \"LeftDownVectorBar\":\"\\u2959\",\n  \"LeftFloor\":\"\\u230A\",\n  \"leftharpoondown\":\"\\u21BD\",\n  \"leftharpoonup\":\"\\u21BC\",\n  \"leftleftarrows\":\"\\u21C7\",\n  \"LeftRightArrow\":\"\\u2194\",\n  \"Leftrightarrow\":\"\\u21D4\",\n  \"leftrightarrow\":\"\\u2194\",\n  \"leftrightarrows\":\"\\u21C6\",\n  \"leftrightharpoons\":\"\\u21CB\",\n  \"leftrightsquigarrow\":\"\\u21AD\",\n  \"LeftRightVector\":\"\\u294E\",\n  \"LeftTee\":\"\\u22A3\",\n  \"LeftTeeArrow\":\"\\u21A4\",\n  \"LeftTeeVector\":\"\\u295A\",\n  \"leftthreetimes\":\"\\u22CB\",\n  \"LeftTriangle\":\"\\u22B2\",\n  \"LeftTriangleBar\":\"\\u29CF\",\n  \"LeftTriangleEqual\":\"\\u22B4\",\n  \"LeftUpDownVector\":\"\\u2951\",\n  \"LeftUpTeeVector\":\"\\u2960\",\n  \"LeftUpVector\":\"\\u21BF\",\n  \"LeftUpVectorBar\":\"\\u2958\",\n  \"LeftVector\":\"\\u21BC\",\n  \"LeftVectorBar\":\"\\u2952\",\n  \"lEg\":\"\\u2A8B\",\n  \"leg\":\"\\u22DA\",\n  \"leq\":\"\\u2264\",\n  \"leqq\":\"\\u2266\",\n  \"leqslant\":\"\\u2A7D\",\n  \"les\":\"\\u2A7D\",\n  \"lescc\":\"\\u2AA8\",\n  \"lesdot\":\"\\u2A7F\",\n  \"lesdoto\":\"\\u2A81\",\n  \"lesdotor\":\"\\u2A83\",\n  \"lesg\":\"\\u22DA\\uFE00\",\n  \"lesges\":\"\\u2A93\",\n  \"lessapprox\":\"\\u2A85\",\n  \"lessdot\":\"\\u22D6\",\n  \"lesseqgtr\":\"\\u22DA\",\n  \"lesseqqgtr\":\"\\u2A8B\",\n  \"LessEqualGreater\":\"\\u22DA\",\n  \"LessFullEqual\":\"\\u2266\",\n  \"LessGreater\":\"\\u2276\",\n  \"lessgtr\":\"\\u2276\",\n  \"LessLess\":\"\\u2AA1\",\n  \"lesssim\":\"\\u2272\",\n  \"LessSlantEqual\":\"\\u2A7D\",\n  \"LessTilde\":\"\\u2272\",\n  \"lfisht\":\"\\u297C\",\n  \"lfloor\":\"\\u230A\",\n  \"Lfr\":\"\\uD835\\uDD0F\",\n  \"lfr\":\"\\uD835\\uDD29\",\n  \"lg\":\"\\u2276\",\n  \"lgE\":\"\\u2A91\",\n  \"lHar\":\"\\u2962\",\n  \"lhard\":\"\\u21BD\",\n  \"lharu\":\"\\u21BC\",\n  \"lharul\":\"\\u296A\",\n  \"lhblk\":\"\\u2584\",\n  \"LJcy\":\"\\u0409\",\n  \"ljcy\":\"\\u0459\",\n  \"Ll\":\"\\u22D8\",\n  \"ll\":\"\\u226A\",\n  \"llarr\":\"\\u21C7\",\n  \"llcorner\":\"\\u231E\",\n  \"Lleftarrow\":\"\\u21DA\",\n  \"llhard\":\"\\u296B\",\n  \"lltri\":\"\\u25FA\",\n  \"Lmidot\":\"\\u013F\",\n  \"lmidot\":\"\\u0140\",\n  \"lmoust\":\"\\u23B0\",\n  \"lmoustache\":\"\\u23B0\",\n  \"lnap\":\"\\u2A89\",\n  \"lnapprox\":\"\\u2A89\",\n  \"lnE\":\"\\u2268\",\n  \"lne\":\"\\u2A87\",\n  \"lneq\":\"\\u2A87\",\n  \"lneqq\":\"\\u2268\",\n  \"lnsim\":\"\\u22E6\",\n  \"loang\":\"\\u27EC\",\n  \"loarr\":\"\\u21FD\",\n  \"lobrk\":\"\\u27E6\",\n  \"LongLeftArrow\":\"\\u27F5\",\n  \"Longleftarrow\":\"\\u27F8\",\n  \"longleftarrow\":\"\\u27F5\",\n  \"LongLeftRightArrow\":\"\\u27F7\",\n  \"Longleftrightarrow\":\"\\u27FA\",\n  \"longleftrightarrow\":\"\\u27F7\",\n  \"longmapsto\":\"\\u27FC\",\n  \"LongRightArrow\":\"\\u27F6\",\n  \"Longrightarrow\":\"\\u27F9\",\n  \"longrightarrow\":\"\\u27F6\",\n  \"looparrowleft\":\"\\u21AB\",\n  \"looparrowright\":\"\\u21AC\",\n  \"lopar\":\"\\u2985\",\n  \"Lopf\":\"\\uD835\\uDD43\",\n  \"lopf\":\"\\uD835\\uDD5D\",\n  \"loplus\":\"\\u2A2D\",\n  \"lotimes\":\"\\u2A34\",\n  \"lowast\":\"\\u2217\",\n  \"lowbar\":\"\\u005F\",\n  \"LowerLeftArrow\":\"\\u2199\",\n  \"LowerRightArrow\":\"\\u2198\",\n  \"loz\":\"\\u25CA\",\n  \"lozenge\":\"\\u25CA\",\n  \"lozf\":\"\\u29EB\",\n  \"lpar\":\"\\u0028\",\n  \"lparlt\":\"\\u2993\",\n  \"lrarr\":\"\\u21C6\",\n  \"lrcorner\":\"\\u231F\",\n  \"lrhar\":\"\\u21CB\",\n  \"lrhard\":\"\\u296D\",\n  \"lrm\":\"\\u200E\",\n  \"lrtri\":\"\\u22BF\",\n  \"lsaquo\":\"\\u2039\",\n  \"Lscr\":\"\\u2112\",\n  \"lscr\":\"\\uD835\\uDCC1\",\n  \"Lsh\":\"\\u21B0\",\n  \"lsh\":\"\\u21B0\",\n  \"lsim\":\"\\u2272\",\n  \"lsime\":\"\\u2A8D\",\n  \"lsimg\":\"\\u2A8F\",\n  \"lsqb\":\"\\u005B\",\n  \"lsquo\":\"\\u2018\",\n  \"lsquor\":\"\\u201A\",\n  \"Lstrok\":\"\\u0141\",\n  \"lstrok\":\"\\u0142\",\n  \"LT\":\"\\u003C\",\n  \"Lt\":\"\\u226A\",\n  \"lt\":\"\\u003C\",\n  \"ltcc\":\"\\u2AA6\",\n  \"ltcir\":\"\\u2A79\",\n  \"ltdot\":\"\\u22D6\",\n  \"lthree\":\"\\u22CB\",\n  \"ltimes\":\"\\u22C9\",\n  \"ltlarr\":\"\\u2976\",\n  \"ltquest\":\"\\u2A7B\",\n  \"ltri\":\"\\u25C3\",\n  \"ltrie\":\"\\u22B4\",\n  \"ltrif\":\"\\u25C2\",\n  \"ltrPar\":\"\\u2996\",\n  \"lurdshar\":\"\\u294A\",\n  \"luruhar\":\"\\u2966\",\n  \"lvertneqq\":\"\\u2268\\uFE00\",\n  \"lvnE\":\"\\u2268\\uFE00\",\n  \"macr\":\"\\u00AF\",\n  \"male\":\"\\u2642\",\n  \"malt\":\"\\u2720\",\n  \"maltese\":\"\\u2720\",\n  \"Map\":\"\\u2905\",\n  \"map\":\"\\u21A6\",\n  \"mapsto\":\"\\u21A6\",\n  \"mapstodown\":\"\\u21A7\",\n  \"mapstoleft\":\"\\u21A4\",\n  \"mapstoup\":\"\\u21A5\",\n  \"marker\":\"\\u25AE\",\n  \"mcomma\":\"\\u2A29\",\n  \"Mcy\":\"\\u041C\",\n  \"mcy\":\"\\u043C\",\n  \"mdash\":\"\\u2014\",\n  \"mDDot\":\"\\u223A\",\n  \"measuredangle\":\"\\u2221\",\n  \"MediumSpace\":\"\\u205F\",\n  \"Mellintrf\":\"\\u2133\",\n  \"Mfr\":\"\\uD835\\uDD10\",\n  \"mfr\":\"\\uD835\\uDD2A\",\n  \"mho\":\"\\u2127\",\n  \"micro\":\"\\u00B5\",\n  \"mid\":\"\\u2223\",\n  \"midast\":\"\\u002A\",\n  \"midcir\":\"\\u2AF0\",\n  \"middot\":\"\\u00B7\",\n  \"minus\":\"\\u2212\",\n  \"minusb\":\"\\u229F\",\n  \"minusd\":\"\\u2238\",\n  \"minusdu\":\"\\u2A2A\",\n  \"MinusPlus\":\"\\u2213\",\n  \"mlcp\":\"\\u2ADB\",\n  \"mldr\":\"\\u2026\",\n  \"mnplus\":\"\\u2213\",\n  \"models\":\"\\u22A7\",\n  \"Mopf\":\"\\uD835\\uDD44\",\n  \"mopf\":\"\\uD835\\uDD5E\",\n  \"mp\":\"\\u2213\",\n  \"Mscr\":\"\\u2133\",\n  \"mscr\":\"\\uD835\\uDCC2\",\n  \"mstpos\":\"\\u223E\",\n  \"Mu\":\"\\u039C\",\n  \"mu\":\"\\u03BC\",\n  \"multimap\":\"\\u22B8\",\n  \"mumap\":\"\\u22B8\",\n  \"nabla\":\"\\u2207\",\n  \"Nacute\":\"\\u0143\",\n  \"nacute\":\"\\u0144\",\n  \"nang\":\"\\u2220\\u20D2\",\n  \"nap\":\"\\u2249\",\n  \"napE\":\"\\u2A70\\u0338\",\n  \"napid\":\"\\u224B\\u0338\",\n  \"napos\":\"\\u0149\",\n  \"napprox\":\"\\u2249\",\n  \"natur\":\"\\u266E\",\n  \"natural\":\"\\u266E\",\n  \"naturals\":\"\\u2115\",\n  \"nbsp\":\"\\u00A0\",\n  \"nbump\":\"\\u224E\\u0338\",\n  \"nbumpe\":\"\\u224F\\u0338\",\n  \"ncap\":\"\\u2A43\",\n  \"Ncaron\":\"\\u0147\",\n  \"ncaron\":\"\\u0148\",\n  \"Ncedil\":\"\\u0145\",\n  \"ncedil\":\"\\u0146\",\n  \"ncong\":\"\\u2247\",\n  \"ncongdot\":\"\\u2A6D\\u0338\",\n  \"ncup\":\"\\u2A42\",\n  \"Ncy\":\"\\u041D\",\n  \"ncy\":\"\\u043D\",\n  \"ndash\":\"\\u2013\",\n  \"ne\":\"\\u2260\",\n  \"nearhk\":\"\\u2924\",\n  \"neArr\":\"\\u21D7\",\n  \"nearr\":\"\\u2197\",\n  \"nearrow\":\"\\u2197\",\n  \"nedot\":\"\\u2250\\u0338\",\n  \"NegativeMediumSpace\":\"\\u200B\",\n  \"NegativeThickSpace\":\"\\u200B\",\n  \"NegativeThinSpace\":\"\\u200B\",\n  \"NegativeVeryThinSpace\":\"\\u200B\",\n  \"nequiv\":\"\\u2262\",\n  \"nesear\":\"\\u2928\",\n  \"nesim\":\"\\u2242\\u0338\",\n  \"NestedGreaterGreater\":\"\\u226B\",\n  \"NestedLessLess\":\"\\u226A\",\n  \"NewLine\":\"\\u000A\",\n  \"nexist\":\"\\u2204\",\n  \"nexists\":\"\\u2204\",\n  \"Nfr\":\"\\uD835\\uDD11\",\n  \"nfr\":\"\\uD835\\uDD2B\",\n  \"ngE\":\"\\u2267\\u0338\",\n  \"nge\":\"\\u2271\",\n  \"ngeq\":\"\\u2271\",\n  \"ngeqq\":\"\\u2267\\u0338\",\n  \"ngeqslant\":\"\\u2A7E\\u0338\",\n  \"nges\":\"\\u2A7E\\u0338\",\n  \"nGg\":\"\\u22D9\\u0338\",\n  \"ngsim\":\"\\u2275\",\n  \"nGt\":\"\\u226B\\u20D2\",\n  \"ngt\":\"\\u226F\",\n  \"ngtr\":\"\\u226F\",\n  \"nGtv\":\"\\u226B\\u0338\",\n  \"nhArr\":\"\\u21CE\",\n  \"nharr\":\"\\u21AE\",\n  \"nhpar\":\"\\u2AF2\",\n  \"ni\":\"\\u220B\",\n  \"nis\":\"\\u22FC\",\n  \"nisd\":\"\\u22FA\",\n  \"niv\":\"\\u220B\",\n  \"NJcy\":\"\\u040A\",\n  \"njcy\":\"\\u045A\",\n  \"nlArr\":\"\\u21CD\",\n  \"nlarr\":\"\\u219A\",\n  \"nldr\":\"\\u2025\",\n  \"nlE\":\"\\u2266\\u0338\",\n  \"nle\":\"\\u2270\",\n  \"nLeftarrow\":\"\\u21CD\",\n  \"nleftarrow\":\"\\u219A\",\n  \"nLeftrightarrow\":\"\\u21CE\",\n  \"nleftrightarrow\":\"\\u21AE\",\n  \"nleq\":\"\\u2270\",\n  \"nleqq\":\"\\u2266\\u0338\",\n  \"nleqslant\":\"\\u2A7D\\u0338\",\n  \"nles\":\"\\u2A7D\\u0338\",\n  \"nless\":\"\\u226E\",\n  \"nLl\":\"\\u22D8\\u0338\",\n  \"nlsim\":\"\\u2274\",\n  \"nLt\":\"\\u226A\\u20D2\",\n  \"nlt\":\"\\u226E\",\n  \"nltri\":\"\\u22EA\",\n  \"nltrie\":\"\\u22EC\",\n  \"nLtv\":\"\\u226A\\u0338\",\n  \"nmid\":\"\\u2224\",\n  \"NoBreak\":\"\\u2060\",\n  \"NonBreakingSpace\":\"\\u00A0\",\n  \"Nopf\":\"\\u2115\",\n  \"nopf\":\"\\uD835\\uDD5F\",\n  \"Not\":\"\\u2AEC\",\n  \"not\":\"\\u00AC\",\n  \"NotCongruent\":\"\\u2262\",\n  \"NotCupCap\":\"\\u226D\",\n  \"NotDoubleVerticalBar\":\"\\u2226\",\n  \"NotElement\":\"\\u2209\",\n  \"NotEqual\":\"\\u2260\",\n  \"NotEqualTilde\":\"\\u2242\\u0338\",\n  \"NotExists\":\"\\u2204\",\n  \"NotGreater\":\"\\u226F\",\n  \"NotGreaterEqual\":\"\\u2271\",\n  \"NotGreaterFullEqual\":\"\\u2267\\u0338\",\n  \"NotGreaterGreater\":\"\\u226B\\u0338\",\n  \"NotGreaterLess\":\"\\u2279\",\n  \"NotGreaterSlantEqual\":\"\\u2A7E\\u0338\",\n  \"NotGreaterTilde\":\"\\u2275\",\n  \"NotHumpDownHump\":\"\\u224E\\u0338\",\n  \"NotHumpEqual\":\"\\u224F\\u0338\",\n  \"notin\":\"\\u2209\",\n  \"notindot\":\"\\u22F5\\u0338\",\n  \"notinE\":\"\\u22F9\\u0338\",\n  \"notinva\":\"\\u2209\",\n  \"notinvb\":\"\\u22F7\",\n  \"notinvc\":\"\\u22F6\",\n  \"NotLeftTriangle\":\"\\u22EA\",\n  \"NotLeftTriangleBar\":\"\\u29CF\\u0338\",\n  \"NotLeftTriangleEqual\":\"\\u22EC\",\n  \"NotLess\":\"\\u226E\",\n  \"NotLessEqual\":\"\\u2270\",\n  \"NotLessGreater\":\"\\u2278\",\n  \"NotLessLess\":\"\\u226A\\u0338\",\n  \"NotLessSlantEqual\":\"\\u2A7D\\u0338\",\n  \"NotLessTilde\":\"\\u2274\",\n  \"NotNestedGreaterGreater\":\"\\u2AA2\\u0338\",\n  \"NotNestedLessLess\":\"\\u2AA1\\u0338\",\n  \"notni\":\"\\u220C\",\n  \"notniva\":\"\\u220C\",\n  \"notnivb\":\"\\u22FE\",\n  \"notnivc\":\"\\u22FD\",\n  \"NotPrecedes\":\"\\u2280\",\n  \"NotPrecedesEqual\":\"\\u2AAF\\u0338\",\n  \"NotPrecedesSlantEqual\":\"\\u22E0\",\n  \"NotReverseElement\":\"\\u220C\",\n  \"NotRightTriangle\":\"\\u22EB\",\n  \"NotRightTriangleBar\":\"\\u29D0\\u0338\",\n  \"NotRightTriangleEqual\":\"\\u22ED\",\n  \"NotSquareSubset\":\"\\u228F\\u0338\",\n  \"NotSquareSubsetEqual\":\"\\u22E2\",\n  \"NotSquareSuperset\":\"\\u2290\\u0338\",\n  \"NotSquareSupersetEqual\":\"\\u22E3\",\n  \"NotSubset\":\"\\u2282\\u20D2\",\n  \"NotSubsetEqual\":\"\\u2288\",\n  \"NotSucceeds\":\"\\u2281\",\n  \"NotSucceedsEqual\":\"\\u2AB0\\u0338\",\n  \"NotSucceedsSlantEqual\":\"\\u22E1\",\n  \"NotSucceedsTilde\":\"\\u227F\\u0338\",\n  \"NotSuperset\":\"\\u2283\\u20D2\",\n  \"NotSupersetEqual\":\"\\u2289\",\n  \"NotTilde\":\"\\u2241\",\n  \"NotTildeEqual\":\"\\u2244\",\n  \"NotTildeFullEqual\":\"\\u2247\",\n  \"NotTildeTilde\":\"\\u2249\",\n  \"NotVerticalBar\":\"\\u2224\",\n  \"npar\":\"\\u2226\",\n  \"nparallel\":\"\\u2226\",\n  \"nparsl\":\"\\u2AFD\\u20E5\",\n  \"npart\":\"\\u2202\\u0338\",\n  \"npolint\":\"\\u2A14\",\n  \"npr\":\"\\u2280\",\n  \"nprcue\":\"\\u22E0\",\n  \"npre\":\"\\u2AAF\\u0338\",\n  \"nprec\":\"\\u2280\",\n  \"npreceq\":\"\\u2AAF\\u0338\",\n  \"nrArr\":\"\\u21CF\",\n  \"nrarr\":\"\\u219B\",\n  \"nrarrc\":\"\\u2933\\u0338\",\n  \"nrarrw\":\"\\u219D\\u0338\",\n  \"nRightarrow\":\"\\u21CF\",\n  \"nrightarrow\":\"\\u219B\",\n  \"nrtri\":\"\\u22EB\",\n  \"nrtrie\":\"\\u22ED\",\n  \"nsc\":\"\\u2281\",\n  \"nsccue\":\"\\u22E1\",\n  \"nsce\":\"\\u2AB0\\u0338\",\n  \"Nscr\":\"\\uD835\\uDCA9\",\n  \"nscr\":\"\\uD835\\uDCC3\",\n  \"nshortmid\":\"\\u2224\",\n  \"nshortparallel\":\"\\u2226\",\n  \"nsim\":\"\\u2241\",\n  \"nsime\":\"\\u2244\",\n  \"nsimeq\":\"\\u2244\",\n  \"nsmid\":\"\\u2224\",\n  \"nspar\":\"\\u2226\",\n  \"nsqsube\":\"\\u22E2\",\n  \"nsqsupe\":\"\\u22E3\",\n  \"nsub\":\"\\u2284\",\n  \"nsubE\":\"\\u2AC5\\u0338\",\n  \"nsube\":\"\\u2288\",\n  \"nsubset\":\"\\u2282\\u20D2\",\n  \"nsubseteq\":\"\\u2288\",\n  \"nsubseteqq\":\"\\u2AC5\\u0338\",\n  \"nsucc\":\"\\u2281\",\n  \"nsucceq\":\"\\u2AB0\\u0338\",\n  \"nsup\":\"\\u2285\",\n  \"nsupE\":\"\\u2AC6\\u0338\",\n  \"nsupe\":\"\\u2289\",\n  \"nsupset\":\"\\u2283\\u20D2\",\n  \"nsupseteq\":\"\\u2289\",\n  \"nsupseteqq\":\"\\u2AC6\\u0338\",\n  \"ntgl\":\"\\u2279\",\n  \"Ntilde\":\"\\u00D1\",\n  \"ntilde\":\"\\u00F1\",\n  \"ntlg\":\"\\u2278\",\n  \"ntriangleleft\":\"\\u22EA\",\n  \"ntrianglelefteq\":\"\\u22EC\",\n  \"ntriangleright\":\"\\u22EB\",\n  \"ntrianglerighteq\":\"\\u22ED\",\n  \"Nu\":\"\\u039D\",\n  \"nu\":\"\\u03BD\",\n  \"num\":\"\\u0023\",\n  \"numero\":\"\\u2116\",\n  \"numsp\":\"\\u2007\",\n  \"nvap\":\"\\u224D\\u20D2\",\n  \"nVDash\":\"\\u22AF\",\n  \"nVdash\":\"\\u22AE\",\n  \"nvDash\":\"\\u22AD\",\n  \"nvdash\":\"\\u22AC\",\n  \"nvge\":\"\\u2265\\u20D2\",\n  \"nvgt\":\"\\u003E\\u20D2\",\n  \"nvHarr\":\"\\u2904\",\n  \"nvinfin\":\"\\u29DE\",\n  \"nvlArr\":\"\\u2902\",\n  \"nvle\":\"\\u2264\\u20D2\",\n  \"nvlt\":\"\\u003C\\u20D2\",\n  \"nvltrie\":\"\\u22B4\\u20D2\",\n  \"nvrArr\":\"\\u2903\",\n  \"nvrtrie\":\"\\u22B5\\u20D2\",\n  \"nvsim\":\"\\u223C\\u20D2\",\n  \"nwarhk\":\"\\u2923\",\n  \"nwArr\":\"\\u21D6\",\n  \"nwarr\":\"\\u2196\",\n  \"nwarrow\":\"\\u2196\",\n  \"nwnear\":\"\\u2927\",\n  \"Oacute\":\"\\u00D3\",\n  \"oacute\":\"\\u00F3\",\n  \"oast\":\"\\u229B\",\n  \"ocir\":\"\\u229A\",\n  \"Ocirc\":\"\\u00D4\",\n  \"ocirc\":\"\\u00F4\",\n  \"Ocy\":\"\\u041E\",\n  \"ocy\":\"\\u043E\",\n  \"odash\":\"\\u229D\",\n  \"Odblac\":\"\\u0150\",\n  \"odblac\":\"\\u0151\",\n  \"odiv\":\"\\u2A38\",\n  \"odot\":\"\\u2299\",\n  \"odsold\":\"\\u29BC\",\n  \"OElig\":\"\\u0152\",\n  \"oelig\":\"\\u0153\",\n  \"ofcir\":\"\\u29BF\",\n  \"Ofr\":\"\\uD835\\uDD12\",\n  \"ofr\":\"\\uD835\\uDD2C\",\n  \"ogon\":\"\\u02DB\",\n  \"Ograve\":\"\\u00D2\",\n  \"ograve\":\"\\u00F2\",\n  \"ogt\":\"\\u29C1\",\n  \"ohbar\":\"\\u29B5\",\n  \"ohm\":\"\\u03A9\",\n  \"oint\":\"\\u222E\",\n  \"olarr\":\"\\u21BA\",\n  \"olcir\":\"\\u29BE\",\n  \"olcross\":\"\\u29BB\",\n  \"oline\":\"\\u203E\",\n  \"olt\":\"\\u29C0\",\n  \"Omacr\":\"\\u014C\",\n  \"omacr\":\"\\u014D\",\n  \"Omega\":\"\\u03A9\",\n  \"omega\":\"\\u03C9\",\n  \"Omicron\":\"\\u039F\",\n  \"omicron\":\"\\u03BF\",\n  \"omid\":\"\\u29B6\",\n  \"ominus\":\"\\u2296\",\n  \"Oopf\":\"\\uD835\\uDD46\",\n  \"oopf\":\"\\uD835\\uDD60\",\n  \"opar\":\"\\u29B7\",\n  \"OpenCurlyDoubleQuote\":\"\\u201C\",\n  \"OpenCurlyQuote\":\"\\u2018\",\n  \"operp\":\"\\u29B9\",\n  \"oplus\":\"\\u2295\",\n  \"Or\":\"\\u2A54\",\n  \"or\":\"\\u2228\",\n  \"orarr\":\"\\u21BB\",\n  \"ord\":\"\\u2A5D\",\n  \"order\":\"\\u2134\",\n  \"orderof\":\"\\u2134\",\n  \"ordf\":\"\\u00AA\",\n  \"ordm\":\"\\u00BA\",\n  \"origof\":\"\\u22B6\",\n  \"oror\":\"\\u2A56\",\n  \"orslope\":\"\\u2A57\",\n  \"orv\":\"\\u2A5B\",\n  \"oS\":\"\\u24C8\",\n  \"Oscr\":\"\\uD835\\uDCAA\",\n  \"oscr\":\"\\u2134\",\n  \"Oslash\":\"\\u00D8\",\n  \"oslash\":\"\\u00F8\",\n  \"osol\":\"\\u2298\",\n  \"Otilde\":\"\\u00D5\",\n  \"otilde\":\"\\u00F5\",\n  \"Otimes\":\"\\u2A37\",\n  \"otimes\":\"\\u2297\",\n  \"otimesas\":\"\\u2A36\",\n  \"Ouml\":\"\\u00D6\",\n  \"ouml\":\"\\u00F6\",\n  \"ovbar\":\"\\u233D\",\n  \"OverBar\":\"\\u203E\",\n  \"OverBrace\":\"\\u23DE\",\n  \"OverBracket\":\"\\u23B4\",\n  \"OverParenthesis\":\"\\u23DC\",\n  \"par\":\"\\u2225\",\n  \"para\":\"\\u00B6\",\n  \"parallel\":\"\\u2225\",\n  \"parsim\":\"\\u2AF3\",\n  \"parsl\":\"\\u2AFD\",\n  \"part\":\"\\u2202\",\n  \"PartialD\":\"\\u2202\",\n  \"Pcy\":\"\\u041F\",\n  \"pcy\":\"\\u043F\",\n  \"percnt\":\"\\u0025\",\n  \"period\":\"\\u002E\",\n  \"permil\":\"\\u2030\",\n  \"perp\":\"\\u22A5\",\n  \"pertenk\":\"\\u2031\",\n  \"Pfr\":\"\\uD835\\uDD13\",\n  \"pfr\":\"\\uD835\\uDD2D\",\n  \"Phi\":\"\\u03A6\",\n  \"phi\":\"\\u03C6\",\n  \"phiv\":\"\\u03D5\",\n  \"phmmat\":\"\\u2133\",\n  \"phone\":\"\\u260E\",\n  \"Pi\":\"\\u03A0\",\n  \"pi\":\"\\u03C0\",\n  \"pitchfork\":\"\\u22D4\",\n  \"piv\":\"\\u03D6\",\n  \"planck\":\"\\u210F\",\n  \"planckh\":\"\\u210E\",\n  \"plankv\":\"\\u210F\",\n  \"plus\":\"\\u002B\",\n  \"plusacir\":\"\\u2A23\",\n  \"plusb\":\"\\u229E\",\n  \"pluscir\":\"\\u2A22\",\n  \"plusdo\":\"\\u2214\",\n  \"plusdu\":\"\\u2A25\",\n  \"pluse\":\"\\u2A72\",\n  \"PlusMinus\":\"\\u00B1\",\n  \"plusmn\":\"\\u00B1\",\n  \"plussim\":\"\\u2A26\",\n  \"plustwo\":\"\\u2A27\",\n  \"pm\":\"\\u00B1\",\n  \"Poincareplane\":\"\\u210C\",\n  \"pointint\":\"\\u2A15\",\n  \"Popf\":\"\\u2119\",\n  \"popf\":\"\\uD835\\uDD61\",\n  \"pound\":\"\\u00A3\",\n  \"Pr\":\"\\u2ABB\",\n  \"pr\":\"\\u227A\",\n  \"prap\":\"\\u2AB7\",\n  \"prcue\":\"\\u227C\",\n  \"prE\":\"\\u2AB3\",\n  \"pre\":\"\\u2AAF\",\n  \"prec\":\"\\u227A\",\n  \"precapprox\":\"\\u2AB7\",\n  \"preccurlyeq\":\"\\u227C\",\n  \"Precedes\":\"\\u227A\",\n  \"PrecedesEqual\":\"\\u2AAF\",\n  \"PrecedesSlantEqual\":\"\\u227C\",\n  \"PrecedesTilde\":\"\\u227E\",\n  \"preceq\":\"\\u2AAF\",\n  \"precnapprox\":\"\\u2AB9\",\n  \"precneqq\":\"\\u2AB5\",\n  \"precnsim\":\"\\u22E8\",\n  \"precsim\":\"\\u227E\",\n  \"Prime\":\"\\u2033\",\n  \"prime\":\"\\u2032\",\n  \"primes\":\"\\u2119\",\n  \"prnap\":\"\\u2AB9\",\n  \"prnE\":\"\\u2AB5\",\n  \"prnsim\":\"\\u22E8\",\n  \"prod\":\"\\u220F\",\n  \"Product\":\"\\u220F\",\n  \"profalar\":\"\\u232E\",\n  \"profline\":\"\\u2312\",\n  \"profsurf\":\"\\u2313\",\n  \"prop\":\"\\u221D\",\n  \"Proportion\":\"\\u2237\",\n  \"Proportional\":\"\\u221D\",\n  \"propto\":\"\\u221D\",\n  \"prsim\":\"\\u227E\",\n  \"prurel\":\"\\u22B0\",\n  \"Pscr\":\"\\uD835\\uDCAB\",\n  \"pscr\":\"\\uD835\\uDCC5\",\n  \"Psi\":\"\\u03A8\",\n  \"psi\":\"\\u03C8\",\n  \"puncsp\":\"\\u2008\",\n  \"Qfr\":\"\\uD835\\uDD14\",\n  \"qfr\":\"\\uD835\\uDD2E\",\n  \"qint\":\"\\u2A0C\",\n  \"Qopf\":\"\\u211A\",\n  \"qopf\":\"\\uD835\\uDD62\",\n  \"qprime\":\"\\u2057\",\n  \"Qscr\":\"\\uD835\\uDCAC\",\n  \"qscr\":\"\\uD835\\uDCC6\",\n  \"quaternions\":\"\\u210D\",\n  \"quatint\":\"\\u2A16\",\n  \"quest\":\"\\u003F\",\n  \"questeq\":\"\\u225F\",\n  \"QUOT\":\"\\u0022\",\n  \"quot\":\"\\u0022\",\n  \"rAarr\":\"\\u21DB\",\n  \"race\":\"\\u223D\\u0331\",\n  \"Racute\":\"\\u0154\",\n  \"racute\":\"\\u0155\",\n  \"radic\":\"\\u221A\",\n  \"raemptyv\":\"\\u29B3\",\n  \"Rang\":\"\\u27EB\",\n  \"rang\":\"\\u27E9\",\n  \"rangd\":\"\\u2992\",\n  \"range\":\"\\u29A5\",\n  \"rangle\":\"\\u27E9\",\n  \"raquo\":\"\\u00BB\",\n  \"Rarr\":\"\\u21A0\",\n  \"rArr\":\"\\u21D2\",\n  \"rarr\":\"\\u2192\",\n  \"rarrap\":\"\\u2975\",\n  \"rarrb\":\"\\u21E5\",\n  \"rarrbfs\":\"\\u2920\",\n  \"rarrc\":\"\\u2933\",\n  \"rarrfs\":\"\\u291E\",\n  \"rarrhk\":\"\\u21AA\",\n  \"rarrlp\":\"\\u21AC\",\n  \"rarrpl\":\"\\u2945\",\n  \"rarrsim\":\"\\u2974\",\n  \"Rarrtl\":\"\\u2916\",\n  \"rarrtl\":\"\\u21A3\",\n  \"rarrw\":\"\\u219D\",\n  \"rAtail\":\"\\u291C\",\n  \"ratail\":\"\\u291A\",\n  \"ratio\":\"\\u2236\",\n  \"rationals\":\"\\u211A\",\n  \"RBarr\":\"\\u2910\",\n  \"rBarr\":\"\\u290F\",\n  \"rbarr\":\"\\u290D\",\n  \"rbbrk\":\"\\u2773\",\n  \"rbrace\":\"\\u007D\",\n  \"rbrack\":\"\\u005D\",\n  \"rbrke\":\"\\u298C\",\n  \"rbrksld\":\"\\u298E\",\n  \"rbrkslu\":\"\\u2990\",\n  \"Rcaron\":\"\\u0158\",\n  \"rcaron\":\"\\u0159\",\n  \"Rcedil\":\"\\u0156\",\n  \"rcedil\":\"\\u0157\",\n  \"rceil\":\"\\u2309\",\n  \"rcub\":\"\\u007D\",\n  \"Rcy\":\"\\u0420\",\n  \"rcy\":\"\\u0440\",\n  \"rdca\":\"\\u2937\",\n  \"rdldhar\":\"\\u2969\",\n  \"rdquo\":\"\\u201D\",\n  \"rdquor\":\"\\u201D\",\n  \"rdsh\":\"\\u21B3\",\n  \"Re\":\"\\u211C\",\n  \"real\":\"\\u211C\",\n  \"realine\":\"\\u211B\",\n  \"realpart\":\"\\u211C\",\n  \"reals\":\"\\u211D\",\n  \"rect\":\"\\u25AD\",\n  \"REG\":\"\\u00AE\",\n  \"reg\":\"\\u00AE\",\n  \"ReverseElement\":\"\\u220B\",\n  \"ReverseEquilibrium\":\"\\u21CB\",\n  \"ReverseUpEquilibrium\":\"\\u296F\",\n  \"rfisht\":\"\\u297D\",\n  \"rfloor\":\"\\u230B\",\n  \"Rfr\":\"\\u211C\",\n  \"rfr\":\"\\uD835\\uDD2F\",\n  \"rHar\":\"\\u2964\",\n  \"rhard\":\"\\u21C1\",\n  \"rharu\":\"\\u21C0\",\n  \"rharul\":\"\\u296C\",\n  \"Rho\":\"\\u03A1\",\n  \"rho\":\"\\u03C1\",\n  \"rhov\":\"\\u03F1\",\n  \"RightAngleBracket\":\"\\u27E9\",\n  \"RightArrow\":\"\\u2192\",\n  \"Rightarrow\":\"\\u21D2\",\n  \"rightarrow\":\"\\u2192\",\n  \"RightArrowBar\":\"\\u21E5\",\n  \"RightArrowLeftArrow\":\"\\u21C4\",\n  \"rightarrowtail\":\"\\u21A3\",\n  \"RightCeiling\":\"\\u2309\",\n  \"RightDoubleBracket\":\"\\u27E7\",\n  \"RightDownTeeVector\":\"\\u295D\",\n  \"RightDownVector\":\"\\u21C2\",\n  \"RightDownVectorBar\":\"\\u2955\",\n  \"RightFloor\":\"\\u230B\",\n  \"rightharpoondown\":\"\\u21C1\",\n  \"rightharpoonup\":\"\\u21C0\",\n  \"rightleftarrows\":\"\\u21C4\",\n  \"rightleftharpoons\":\"\\u21CC\",\n  \"rightrightarrows\":\"\\u21C9\",\n  \"rightsquigarrow\":\"\\u219D\",\n  \"RightTee\":\"\\u22A2\",\n  \"RightTeeArrow\":\"\\u21A6\",\n  \"RightTeeVector\":\"\\u295B\",\n  \"rightthreetimes\":\"\\u22CC\",\n  \"RightTriangle\":\"\\u22B3\",\n  \"RightTriangleBar\":\"\\u29D0\",\n  \"RightTriangleEqual\":\"\\u22B5\",\n  \"RightUpDownVector\":\"\\u294F\",\n  \"RightUpTeeVector\":\"\\u295C\",\n  \"RightUpVector\":\"\\u21BE\",\n  \"RightUpVectorBar\":\"\\u2954\",\n  \"RightVector\":\"\\u21C0\",\n  \"RightVectorBar\":\"\\u2953\",\n  \"ring\":\"\\u02DA\",\n  \"risingdotseq\":\"\\u2253\",\n  \"rlarr\":\"\\u21C4\",\n  \"rlhar\":\"\\u21CC\",\n  \"rlm\":\"\\u200F\",\n  \"rmoust\":\"\\u23B1\",\n  \"rmoustache\":\"\\u23B1\",\n  \"rnmid\":\"\\u2AEE\",\n  \"roang\":\"\\u27ED\",\n  \"roarr\":\"\\u21FE\",\n  \"robrk\":\"\\u27E7\",\n  \"ropar\":\"\\u2986\",\n  \"Ropf\":\"\\u211D\",\n  \"ropf\":\"\\uD835\\uDD63\",\n  \"roplus\":\"\\u2A2E\",\n  \"rotimes\":\"\\u2A35\",\n  \"RoundImplies\":\"\\u2970\",\n  \"rpar\":\"\\u0029\",\n  \"rpargt\":\"\\u2994\",\n  \"rppolint\":\"\\u2A12\",\n  \"rrarr\":\"\\u21C9\",\n  \"Rrightarrow\":\"\\u21DB\",\n  \"rsaquo\":\"\\u203A\",\n  \"Rscr\":\"\\u211B\",\n  \"rscr\":\"\\uD835\\uDCC7\",\n  \"Rsh\":\"\\u21B1\",\n  \"rsh\":\"\\u21B1\",\n  \"rsqb\":\"\\u005D\",\n  \"rsquo\":\"\\u2019\",\n  \"rsquor\":\"\\u2019\",\n  \"rthree\":\"\\u22CC\",\n  \"rtimes\":\"\\u22CA\",\n  \"rtri\":\"\\u25B9\",\n  \"rtrie\":\"\\u22B5\",\n  \"rtrif\":\"\\u25B8\",\n  \"rtriltri\":\"\\u29CE\",\n  \"RuleDelayed\":\"\\u29F4\",\n  \"ruluhar\":\"\\u2968\",\n  \"rx\":\"\\u211E\",\n  \"Sacute\":\"\\u015A\",\n  \"sacute\":\"\\u015B\",\n  \"sbquo\":\"\\u201A\",\n  \"Sc\":\"\\u2ABC\",\n  \"sc\":\"\\u227B\",\n  \"scap\":\"\\u2AB8\",\n  \"Scaron\":\"\\u0160\",\n  \"scaron\":\"\\u0161\",\n  \"sccue\":\"\\u227D\",\n  \"scE\":\"\\u2AB4\",\n  \"sce\":\"\\u2AB0\",\n  \"Scedil\":\"\\u015E\",\n  \"scedil\":\"\\u015F\",\n  \"Scirc\":\"\\u015C\",\n  \"scirc\":\"\\u015D\",\n  \"scnap\":\"\\u2ABA\",\n  \"scnE\":\"\\u2AB6\",\n  \"scnsim\":\"\\u22E9\",\n  \"scpolint\":\"\\u2A13\",\n  \"scsim\":\"\\u227F\",\n  \"Scy\":\"\\u0421\",\n  \"scy\":\"\\u0441\",\n  \"sdot\":\"\\u22C5\",\n  \"sdotb\":\"\\u22A1\",\n  \"sdote\":\"\\u2A66\",\n  \"searhk\":\"\\u2925\",\n  \"seArr\":\"\\u21D8\",\n  \"searr\":\"\\u2198\",\n  \"searrow\":\"\\u2198\",\n  \"sect\":\"\\u00A7\",\n  \"semi\":\"\\u003B\",\n  \"seswar\":\"\\u2929\",\n  \"setminus\":\"\\u2216\",\n  \"setmn\":\"\\u2216\",\n  \"sext\":\"\\u2736\",\n  \"Sfr\":\"\\uD835\\uDD16\",\n  \"sfr\":\"\\uD835\\uDD30\",\n  \"sfrown\":\"\\u2322\",\n  \"sharp\":\"\\u266F\",\n  \"SHCHcy\":\"\\u0429\",\n  \"shchcy\":\"\\u0449\",\n  \"SHcy\":\"\\u0428\",\n  \"shcy\":\"\\u0448\",\n  \"ShortDownArrow\":\"\\u2193\",\n  \"ShortLeftArrow\":\"\\u2190\",\n  \"shortmid\":\"\\u2223\",\n  \"shortparallel\":\"\\u2225\",\n  \"ShortRightArrow\":\"\\u2192\",\n  \"ShortUpArrow\":\"\\u2191\",\n  \"shy\":\"\\u00AD\",\n  \"Sigma\":\"\\u03A3\",\n  \"sigma\":\"\\u03C3\",\n  \"sigmaf\":\"\\u03C2\",\n  \"sigmav\":\"\\u03C2\",\n  \"sim\":\"\\u223C\",\n  \"simdot\":\"\\u2A6A\",\n  \"sime\":\"\\u2243\",\n  \"simeq\":\"\\u2243\",\n  \"simg\":\"\\u2A9E\",\n  \"simgE\":\"\\u2AA0\",\n  \"siml\":\"\\u2A9D\",\n  \"simlE\":\"\\u2A9F\",\n  \"simne\":\"\\u2246\",\n  \"simplus\":\"\\u2A24\",\n  \"simrarr\":\"\\u2972\",\n  \"slarr\":\"\\u2190\",\n  \"SmallCircle\":\"\\u2218\",\n  \"smallsetminus\":\"\\u2216\",\n  \"smashp\":\"\\u2A33\",\n  \"smeparsl\":\"\\u29E4\",\n  \"smid\":\"\\u2223\",\n  \"smile\":\"\\u2323\",\n  \"smt\":\"\\u2AAA\",\n  \"smte\":\"\\u2AAC\",\n  \"smtes\":\"\\u2AAC\\uFE00\",\n  \"SOFTcy\":\"\\u042C\",\n  \"softcy\":\"\\u044C\",\n  \"sol\":\"\\u002F\",\n  \"solb\":\"\\u29C4\",\n  \"solbar\":\"\\u233F\",\n  \"Sopf\":\"\\uD835\\uDD4A\",\n  \"sopf\":\"\\uD835\\uDD64\",\n  \"spades\":\"\\u2660\",\n  \"spadesuit\":\"\\u2660\",\n  \"spar\":\"\\u2225\",\n  \"sqcap\":\"\\u2293\",\n  \"sqcaps\":\"\\u2293\\uFE00\",\n  \"sqcup\":\"\\u2294\",\n  \"sqcups\":\"\\u2294\\uFE00\",\n  \"Sqrt\":\"\\u221A\",\n  \"sqsub\":\"\\u228F\",\n  \"sqsube\":\"\\u2291\",\n  \"sqsubset\":\"\\u228F\",\n  \"sqsubseteq\":\"\\u2291\",\n  \"sqsup\":\"\\u2290\",\n  \"sqsupe\":\"\\u2292\",\n  \"sqsupset\":\"\\u2290\",\n  \"sqsupseteq\":\"\\u2292\",\n  \"squ\":\"\\u25A1\",\n  \"Square\":\"\\u25A1\",\n  \"square\":\"\\u25A1\",\n  \"SquareIntersection\":\"\\u2293\",\n  \"SquareSubset\":\"\\u228F\",\n  \"SquareSubsetEqual\":\"\\u2291\",\n  \"SquareSuperset\":\"\\u2290\",\n  \"SquareSupersetEqual\":\"\\u2292\",\n  \"SquareUnion\":\"\\u2294\",\n  \"squarf\":\"\\u25AA\",\n  \"squf\":\"\\u25AA\",\n  \"srarr\":\"\\u2192\",\n  \"Sscr\":\"\\uD835\\uDCAE\",\n  \"sscr\":\"\\uD835\\uDCC8\",\n  \"ssetmn\":\"\\u2216\",\n  \"ssmile\":\"\\u2323\",\n  \"sstarf\":\"\\u22C6\",\n  \"Star\":\"\\u22C6\",\n  \"star\":\"\\u2606\",\n  \"starf\":\"\\u2605\",\n  \"straightepsilon\":\"\\u03F5\",\n  \"straightphi\":\"\\u03D5\",\n  \"strns\":\"\\u00AF\",\n  \"Sub\":\"\\u22D0\",\n  \"sub\":\"\\u2282\",\n  \"subdot\":\"\\u2ABD\",\n  \"subE\":\"\\u2AC5\",\n  \"sube\":\"\\u2286\",\n  \"subedot\":\"\\u2AC3\",\n  \"submult\":\"\\u2AC1\",\n  \"subnE\":\"\\u2ACB\",\n  \"subne\":\"\\u228A\",\n  \"subplus\":\"\\u2ABF\",\n  \"subrarr\":\"\\u2979\",\n  \"Subset\":\"\\u22D0\",\n  \"subset\":\"\\u2282\",\n  \"subseteq\":\"\\u2286\",\n  \"subseteqq\":\"\\u2AC5\",\n  \"SubsetEqual\":\"\\u2286\",\n  \"subsetneq\":\"\\u228A\",\n  \"subsetneqq\":\"\\u2ACB\",\n  \"subsim\":\"\\u2AC7\",\n  \"subsub\":\"\\u2AD5\",\n  \"subsup\":\"\\u2AD3\",\n  \"succ\":\"\\u227B\",\n  \"succapprox\":\"\\u2AB8\",\n  \"succcurlyeq\":\"\\u227D\",\n  \"Succeeds\":\"\\u227B\",\n  \"SucceedsEqual\":\"\\u2AB0\",\n  \"SucceedsSlantEqual\":\"\\u227D\",\n  \"SucceedsTilde\":\"\\u227F\",\n  \"succeq\":\"\\u2AB0\",\n  \"succnapprox\":\"\\u2ABA\",\n  \"succneqq\":\"\\u2AB6\",\n  \"succnsim\":\"\\u22E9\",\n  \"succsim\":\"\\u227F\",\n  \"SuchThat\":\"\\u220B\",\n  \"Sum\":\"\\u2211\",\n  \"sum\":\"\\u2211\",\n  \"sung\":\"\\u266A\",\n  \"Sup\":\"\\u22D1\",\n  \"sup\":\"\\u2283\",\n  \"sup1\":\"\\u00B9\",\n  \"sup2\":\"\\u00B2\",\n  \"sup3\":\"\\u00B3\",\n  \"supdot\":\"\\u2ABE\",\n  \"supdsub\":\"\\u2AD8\",\n  \"supE\":\"\\u2AC6\",\n  \"supe\":\"\\u2287\",\n  \"supedot\":\"\\u2AC4\",\n  \"Superset\":\"\\u2283\",\n  \"SupersetEqual\":\"\\u2287\",\n  \"suphsol\":\"\\u27C9\",\n  \"suphsub\":\"\\u2AD7\",\n  \"suplarr\":\"\\u297B\",\n  \"supmult\":\"\\u2AC2\",\n  \"supnE\":\"\\u2ACC\",\n  \"supne\":\"\\u228B\",\n  \"supplus\":\"\\u2AC0\",\n  \"Supset\":\"\\u22D1\",\n  \"supset\":\"\\u2283\",\n  \"supseteq\":\"\\u2287\",\n  \"supseteqq\":\"\\u2AC6\",\n  \"supsetneq\":\"\\u228B\",\n  \"supsetneqq\":\"\\u2ACC\",\n  \"supsim\":\"\\u2AC8\",\n  \"supsub\":\"\\u2AD4\",\n  \"supsup\":\"\\u2AD6\",\n  \"swarhk\":\"\\u2926\",\n  \"swArr\":\"\\u21D9\",\n  \"swarr\":\"\\u2199\",\n  \"swarrow\":\"\\u2199\",\n  \"swnwar\":\"\\u292A\",\n  \"szlig\":\"\\u00DF\",\n  \"Tab\":\"\\u0009\",\n  \"target\":\"\\u2316\",\n  \"Tau\":\"\\u03A4\",\n  \"tau\":\"\\u03C4\",\n  \"tbrk\":\"\\u23B4\",\n  \"Tcaron\":\"\\u0164\",\n  \"tcaron\":\"\\u0165\",\n  \"Tcedil\":\"\\u0162\",\n  \"tcedil\":\"\\u0163\",\n  \"Tcy\":\"\\u0422\",\n  \"tcy\":\"\\u0442\",\n  \"tdot\":\"\\u20DB\",\n  \"telrec\":\"\\u2315\",\n  \"Tfr\":\"\\uD835\\uDD17\",\n  \"tfr\":\"\\uD835\\uDD31\",\n  \"there4\":\"\\u2234\",\n  \"Therefore\":\"\\u2234\",\n  \"therefore\":\"\\u2234\",\n  \"Theta\":\"\\u0398\",\n  \"theta\":\"\\u03B8\",\n  \"thetasym\":\"\\u03D1\",\n  \"thetav\":\"\\u03D1\",\n  \"thickapprox\":\"\\u2248\",\n  \"thicksim\":\"\\u223C\",\n  \"ThickSpace\":\"\\u205F\\u200A\",\n  \"thinsp\":\"\\u2009\",\n  \"ThinSpace\":\"\\u2009\",\n  \"thkap\":\"\\u2248\",\n  \"thksim\":\"\\u223C\",\n  \"THORN\":\"\\u00DE\",\n  \"thorn\":\"\\u00FE\",\n  \"Tilde\":\"\\u223C\",\n  \"tilde\":\"\\u02DC\",\n  \"TildeEqual\":\"\\u2243\",\n  \"TildeFullEqual\":\"\\u2245\",\n  \"TildeTilde\":\"\\u2248\",\n  \"times\":\"\\u00D7\",\n  \"timesb\":\"\\u22A0\",\n  \"timesbar\":\"\\u2A31\",\n  \"timesd\":\"\\u2A30\",\n  \"tint\":\"\\u222D\",\n  \"toea\":\"\\u2928\",\n  \"top\":\"\\u22A4\",\n  \"topbot\":\"\\u2336\",\n  \"topcir\":\"\\u2AF1\",\n  \"Topf\":\"\\uD835\\uDD4B\",\n  \"topf\":\"\\uD835\\uDD65\",\n  \"topfork\":\"\\u2ADA\",\n  \"tosa\":\"\\u2929\",\n  \"tprime\":\"\\u2034\",\n  \"TRADE\":\"\\u2122\",\n  \"trade\":\"\\u2122\",\n  \"triangle\":\"\\u25B5\",\n  \"triangledown\":\"\\u25BF\",\n  \"triangleleft\":\"\\u25C3\",\n  \"trianglelefteq\":\"\\u22B4\",\n  \"triangleq\":\"\\u225C\",\n  \"triangleright\":\"\\u25B9\",\n  \"trianglerighteq\":\"\\u22B5\",\n  \"tridot\":\"\\u25EC\",\n  \"trie\":\"\\u225C\",\n  \"triminus\":\"\\u2A3A\",\n  \"TripleDot\":\"\\u20DB\",\n  \"triplus\":\"\\u2A39\",\n  \"trisb\":\"\\u29CD\",\n  \"tritime\":\"\\u2A3B\",\n  \"trpezium\":\"\\u23E2\",\n  \"Tscr\":\"\\uD835\\uDCAF\",\n  \"tscr\":\"\\uD835\\uDCC9\",\n  \"TScy\":\"\\u0426\",\n  \"tscy\":\"\\u0446\",\n  \"TSHcy\":\"\\u040B\",\n  \"tshcy\":\"\\u045B\",\n  \"Tstrok\":\"\\u0166\",\n  \"tstrok\":\"\\u0167\",\n  \"twixt\":\"\\u226C\",\n  \"twoheadleftarrow\":\"\\u219E\",\n  \"twoheadrightarrow\":\"\\u21A0\",\n  \"Uacute\":\"\\u00DA\",\n  \"uacute\":\"\\u00FA\",\n  \"Uarr\":\"\\u219F\",\n  \"uArr\":\"\\u21D1\",\n  \"uarr\":\"\\u2191\",\n  \"Uarrocir\":\"\\u2949\",\n  \"Ubrcy\":\"\\u040E\",\n  \"ubrcy\":\"\\u045E\",\n  \"Ubreve\":\"\\u016C\",\n  \"ubreve\":\"\\u016D\",\n  \"Ucirc\":\"\\u00DB\",\n  \"ucirc\":\"\\u00FB\",\n  \"Ucy\":\"\\u0423\",\n  \"ucy\":\"\\u0443\",\n  \"udarr\":\"\\u21C5\",\n  \"Udblac\":\"\\u0170\",\n  \"udblac\":\"\\u0171\",\n  \"udhar\":\"\\u296E\",\n  \"ufisht\":\"\\u297E\",\n  \"Ufr\":\"\\uD835\\uDD18\",\n  \"ufr\":\"\\uD835\\uDD32\",\n  \"Ugrave\":\"\\u00D9\",\n  \"ugrave\":\"\\u00F9\",\n  \"uHar\":\"\\u2963\",\n  \"uharl\":\"\\u21BF\",\n  \"uharr\":\"\\u21BE\",\n  \"uhblk\":\"\\u2580\",\n  \"ulcorn\":\"\\u231C\",\n  \"ulcorner\":\"\\u231C\",\n  \"ulcrop\":\"\\u230F\",\n  \"ultri\":\"\\u25F8\",\n  \"Umacr\":\"\\u016A\",\n  \"umacr\":\"\\u016B\",\n  \"uml\":\"\\u00A8\",\n  \"UnderBar\":\"\\u005F\",\n  \"UnderBrace\":\"\\u23DF\",\n  \"UnderBracket\":\"\\u23B5\",\n  \"UnderParenthesis\":\"\\u23DD\",\n  \"Union\":\"\\u22C3\",\n  \"UnionPlus\":\"\\u228E\",\n  \"Uogon\":\"\\u0172\",\n  \"uogon\":\"\\u0173\",\n  \"Uopf\":\"\\uD835\\uDD4C\",\n  \"uopf\":\"\\uD835\\uDD66\",\n  \"UpArrow\":\"\\u2191\",\n  \"Uparrow\":\"\\u21D1\",\n  \"uparrow\":\"\\u2191\",\n  \"UpArrowBar\":\"\\u2912\",\n  \"UpArrowDownArrow\":\"\\u21C5\",\n  \"UpDownArrow\":\"\\u2195\",\n  \"Updownarrow\":\"\\u21D5\",\n  \"updownarrow\":\"\\u2195\",\n  \"UpEquilibrium\":\"\\u296E\",\n  \"upharpoonleft\":\"\\u21BF\",\n  \"upharpoonright\":\"\\u21BE\",\n  \"uplus\":\"\\u228E\",\n  \"UpperLeftArrow\":\"\\u2196\",\n  \"UpperRightArrow\":\"\\u2197\",\n  \"Upsi\":\"\\u03D2\",\n  \"upsi\":\"\\u03C5\",\n  \"upsih\":\"\\u03D2\",\n  \"Upsilon\":\"\\u03A5\",\n  \"upsilon\":\"\\u03C5\",\n  \"UpTee\":\"\\u22A5\",\n  \"UpTeeArrow\":\"\\u21A5\",\n  \"upuparrows\":\"\\u21C8\",\n  \"urcorn\":\"\\u231D\",\n  \"urcorner\":\"\\u231D\",\n  \"urcrop\":\"\\u230E\",\n  \"Uring\":\"\\u016E\",\n  \"uring\":\"\\u016F\",\n  \"urtri\":\"\\u25F9\",\n  \"Uscr\":\"\\uD835\\uDCB0\",\n  \"uscr\":\"\\uD835\\uDCCA\",\n  \"utdot\":\"\\u22F0\",\n  \"Utilde\":\"\\u0168\",\n  \"utilde\":\"\\u0169\",\n  \"utri\":\"\\u25B5\",\n  \"utrif\":\"\\u25B4\",\n  \"uuarr\":\"\\u21C8\",\n  \"Uuml\":\"\\u00DC\",\n  \"uuml\":\"\\u00FC\",\n  \"uwangle\":\"\\u29A7\",\n  \"vangrt\":\"\\u299C\",\n  \"varepsilon\":\"\\u03F5\",\n  \"varkappa\":\"\\u03F0\",\n  \"varnothing\":\"\\u2205\",\n  \"varphi\":\"\\u03D5\",\n  \"varpi\":\"\\u03D6\",\n  \"varpropto\":\"\\u221D\",\n  \"vArr\":\"\\u21D5\",\n  \"varr\":\"\\u2195\",\n  \"varrho\":\"\\u03F1\",\n  \"varsigma\":\"\\u03C2\",\n  \"varsubsetneq\":\"\\u228A\\uFE00\",\n  \"varsubsetneqq\":\"\\u2ACB\\uFE00\",\n  \"varsupsetneq\":\"\\u228B\\uFE00\",\n  \"varsupsetneqq\":\"\\u2ACC\\uFE00\",\n  \"vartheta\":\"\\u03D1\",\n  \"vartriangleleft\":\"\\u22B2\",\n  \"vartriangleright\":\"\\u22B3\",\n  \"Vbar\":\"\\u2AEB\",\n  \"vBar\":\"\\u2AE8\",\n  \"vBarv\":\"\\u2AE9\",\n  \"Vcy\":\"\\u0412\",\n  \"vcy\":\"\\u0432\",\n  \"VDash\":\"\\u22AB\",\n  \"Vdash\":\"\\u22A9\",\n  \"vDash\":\"\\u22A8\",\n  \"vdash\":\"\\u22A2\",\n  \"Vdashl\":\"\\u2AE6\",\n  \"Vee\":\"\\u22C1\",\n  \"vee\":\"\\u2228\",\n  \"veebar\":\"\\u22BB\",\n  \"veeeq\":\"\\u225A\",\n  \"vellip\":\"\\u22EE\",\n  \"Verbar\":\"\\u2016\",\n  \"verbar\":\"\\u007C\",\n  \"Vert\":\"\\u2016\",\n  \"vert\":\"\\u007C\",\n  \"VerticalBar\":\"\\u2223\",\n  \"VerticalLine\":\"\\u007C\",\n  \"VerticalSeparator\":\"\\u2758\",\n  \"VerticalTilde\":\"\\u2240\",\n  \"VeryThinSpace\":\"\\u200A\",\n  \"Vfr\":\"\\uD835\\uDD19\",\n  \"vfr\":\"\\uD835\\uDD33\",\n  \"vltri\":\"\\u22B2\",\n  \"vnsub\":\"\\u2282\\u20D2\",\n  \"vnsup\":\"\\u2283\\u20D2\",\n  \"Vopf\":\"\\uD835\\uDD4D\",\n  \"vopf\":\"\\uD835\\uDD67\",\n  \"vprop\":\"\\u221D\",\n  \"vrtri\":\"\\u22B3\",\n  \"Vscr\":\"\\uD835\\uDCB1\",\n  \"vscr\":\"\\uD835\\uDCCB\",\n  \"vsubnE\":\"\\u2ACB\\uFE00\",\n  \"vsubne\":\"\\u228A\\uFE00\",\n  \"vsupnE\":\"\\u2ACC\\uFE00\",\n  \"vsupne\":\"\\u228B\\uFE00\",\n  \"Vvdash\":\"\\u22AA\",\n  \"vzigzag\":\"\\u299A\",\n  \"Wcirc\":\"\\u0174\",\n  \"wcirc\":\"\\u0175\",\n  \"wedbar\":\"\\u2A5F\",\n  \"Wedge\":\"\\u22C0\",\n  \"wedge\":\"\\u2227\",\n  \"wedgeq\":\"\\u2259\",\n  \"weierp\":\"\\u2118\",\n  \"Wfr\":\"\\uD835\\uDD1A\",\n  \"wfr\":\"\\uD835\\uDD34\",\n  \"Wopf\":\"\\uD835\\uDD4E\",\n  \"wopf\":\"\\uD835\\uDD68\",\n  \"wp\":\"\\u2118\",\n  \"wr\":\"\\u2240\",\n  \"wreath\":\"\\u2240\",\n  \"Wscr\":\"\\uD835\\uDCB2\",\n  \"wscr\":\"\\uD835\\uDCCC\",\n  \"xcap\":\"\\u22C2\",\n  \"xcirc\":\"\\u25EF\",\n  \"xcup\":\"\\u22C3\",\n  \"xdtri\":\"\\u25BD\",\n  \"Xfr\":\"\\uD835\\uDD1B\",\n  \"xfr\":\"\\uD835\\uDD35\",\n  \"xhArr\":\"\\u27FA\",\n  \"xharr\":\"\\u27F7\",\n  \"Xi\":\"\\u039E\",\n  \"xi\":\"\\u03BE\",\n  \"xlArr\":\"\\u27F8\",\n  \"xlarr\":\"\\u27F5\",\n  \"xmap\":\"\\u27FC\",\n  \"xnis\":\"\\u22FB\",\n  \"xodot\":\"\\u2A00\",\n  \"Xopf\":\"\\uD835\\uDD4F\",\n  \"xopf\":\"\\uD835\\uDD69\",\n  \"xoplus\":\"\\u2A01\",\n  \"xotime\":\"\\u2A02\",\n  \"xrArr\":\"\\u27F9\",\n  \"xrarr\":\"\\u27F6\",\n  \"Xscr\":\"\\uD835\\uDCB3\",\n  \"xscr\":\"\\uD835\\uDCCD\",\n  \"xsqcup\":\"\\u2A06\",\n  \"xuplus\":\"\\u2A04\",\n  \"xutri\":\"\\u25B3\",\n  \"xvee\":\"\\u22C1\",\n  \"xwedge\":\"\\u22C0\",\n  \"Yacute\":\"\\u00DD\",\n  \"yacute\":\"\\u00FD\",\n  \"YAcy\":\"\\u042F\",\n  \"yacy\":\"\\u044F\",\n  \"Ycirc\":\"\\u0176\",\n  \"ycirc\":\"\\u0177\",\n  \"Ycy\":\"\\u042B\",\n  \"ycy\":\"\\u044B\",\n  \"yen\":\"\\u00A5\",\n  \"Yfr\":\"\\uD835\\uDD1C\",\n  \"yfr\":\"\\uD835\\uDD36\",\n  \"YIcy\":\"\\u0407\",\n  \"yicy\":\"\\u0457\",\n  \"Yopf\":\"\\uD835\\uDD50\",\n  \"yopf\":\"\\uD835\\uDD6A\",\n  \"Yscr\":\"\\uD835\\uDCB4\",\n  \"yscr\":\"\\uD835\\uDCCE\",\n  \"YUcy\":\"\\u042E\",\n  \"yucy\":\"\\u044E\",\n  \"Yuml\":\"\\u0178\",\n  \"yuml\":\"\\u00FF\",\n  \"Zacute\":\"\\u0179\",\n  \"zacute\":\"\\u017A\",\n  \"Zcaron\":\"\\u017D\",\n  \"zcaron\":\"\\u017E\",\n  \"Zcy\":\"\\u0417\",\n  \"zcy\":\"\\u0437\",\n  \"Zdot\":\"\\u017B\",\n  \"zdot\":\"\\u017C\",\n  \"zeetrf\":\"\\u2128\",\n  \"ZeroWidthSpace\":\"\\u200B\",\n  \"Zeta\":\"\\u0396\",\n  \"zeta\":\"\\u03B6\",\n  \"Zfr\":\"\\u2128\",\n  \"zfr\":\"\\uD835\\uDD37\",\n  \"ZHcy\":\"\\u0416\",\n  \"zhcy\":\"\\u0436\",\n  \"zigrarr\":\"\\u21DD\",\n  \"Zopf\":\"\\u2124\",\n  \"zopf\":\"\\uD835\\uDD6B\",\n  \"Zscr\":\"\\uD835\\uDCB5\",\n  \"zscr\":\"\\uD835\\uDCCF\",\n  \"zwj\":\"\\u200D\",\n  \"zwnj\":\"\\u200C\"\n};\n","'use strict';\n\n\nvar normalizeLink = require('./normalize_link');\nvar unescapeMd    = require('../common/utils').unescapeMd;\n\n/**\n * Parse link destination\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nmodule.exports = function parseLinkDestination(state, pos) {\n  var code, level, link,\n      start = pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = state.src.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return false; }\n      if (code === 0x3E /* > */) {\n        link = normalizeLink(unescapeMd(state.src.slice(start + 1, pos)));\n        if (!state.parser.validateLink(link)) { return false; }\n        state.pos = pos + 1;\n        state.linkContent = link;\n        return true;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return false;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control chars\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 1) { break; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      level--;\n      if (level < 0) { break; }\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return false; }\n\n  link = unescapeMd(state.src.slice(start, pos));\n  if (!state.parser.validateLink(link)) { return false; }\n\n  state.linkContent = link;\n  state.pos = pos;\n  return true;\n};\n","'use strict';\n\nvar replaceEntities = require('../common/utils').replaceEntities;\n\nmodule.exports = function normalizeLink(url) {\n  var normalized = replaceEntities(url);\n  // We shouldn't care about the result of malformed URIs,\n  // and should not throw an exception.\n  try {\n    normalized = decodeURI(normalized);\n  } catch (err) {}\n  return encodeURI(normalized);\n};\n","'use strict';\n\n\nvar unescapeMd = require('../common/utils').unescapeMd;\n\n/**\n * Parse link title\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nmodule.exports = function parseLinkTitle(state, pos) {\n  var code,\n      start = pos,\n      max = state.posMax,\n      marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return false; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n    if (code === marker) {\n      state.pos = pos + 1;\n      state.linkContent = unescapeMd(state.src.slice(start + 1, pos));\n      return true;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    pos++;\n  }\n\n  return false;\n};\n","'use strict';\n\nmodule.exports = function normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n};\n","/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = !!(window.PointerEvent) || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\t_orientationChangeTimeout,\n\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll orientationchange', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize scroll orientationchange', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\tclearTimeout(_orientationChangeTimeout);\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\n\t\t\t// Fixes: iOS 10.3 resize event\n\t\t\t// does not update scrollWrap.clientWidth instantly after resize\n\t\t\t// https://github.com/dimsemenov/PhotoSwipe/issues/1315\n\t\t\torientationchange: function() {\n\t\t\t\tclearTimeout(_orientationChangeTimeout);\n\t\t\t\t_orientationChangeTimeout = setTimeout(function() {\n\t\t\t\t\tif(_viewportSize.x !== self.scrollWrap.clientWidth) {\n\t\t\t\t\t\tself.updateSize();\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t} else {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});","/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n","'use strict';\n\nmodule.exports = require('./lib/');\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n/**\n * A local reference to the root document.\n */\nvar document = (function(startDoc) {\n  var doc = startDoc;\n  var frame = getFrameElement(doc);\n  while (frame) {\n    doc = frame.ownerDocument;\n    frame = getFrameElement(doc);\n  }\n  return doc;\n})(window.document);\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (\n    options.root &&\n    options.root.nodeType != 1 &&\n    options.root.nodeType != 9\n  ) {\n    throw new Error('root must be a Document or Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var rootBounds = null;\n    if (!this._rootContainsTarget(target)) {\n      rootBounds = getEmptyRect();\n    } else if (!crossOriginUpdater || this.root) {\n      rootBounds = rootRect;\n    }\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootBounds,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root && !isDoc(this.root)) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var doc = isDoc(this.root) ? this.root : document;\n    var html = doc.documentElement;\n    var body = doc.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  return (\n    containsDeep(rootDoc, target) &&\n    (!this.root || rootDoc == target.ownerDocument)\n  );\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  // If the parent has element that is assigned through shadow root slot\n  if (parent && parent.assignedSlot) {\n    parent = parent.assignedSlot.parentNode\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  return parent;\n}\n\n/**\n * Returns true if `node` is a Document.\n * @param {!Node} node\n * @returns {boolean}\n */\nfunction isDoc(node) {\n  return node && node.nodeType === 9;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar assign       = require('./common/utils').assign;\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar Ruler        = require('./ruler');\n\n/**\n * Preset configs\n */\n\nvar config = {\n  'default':    require('./configs/default'),\n  'full':       require('./configs/full'),\n  'commonmark': require('./configs/commonmark')\n};\n\n/**\n * The `StateCore` class manages state.\n *\n * @param {Object} `instance` Remarkable instance\n * @param {String} `str` Markdown string\n * @param {Object} `env`\n */\n\nfunction StateCore(instance, str, env) {\n  this.src = str;\n  this.env = env;\n  this.options = instance.options;\n  this.tokens = [];\n  this.inlineMode = false;\n\n  this.inline = instance.inline;\n  this.block = instance.block;\n  this.renderer = instance.renderer;\n  this.typographer = instance.typographer;\n}\n\n/**\n * The main `Remarkable` class. Create an instance of\n * `Remarkable` with a `preset` and/or `options`.\n *\n * @param {String} `preset` If no preset is given, `default` is used.\n * @param {Object} `options`\n */\n\nfunction Remarkable(preset, options) {\n  if (typeof preset !== 'string') {\n    options = preset;\n    preset = 'default';\n  }\n\n  this.inline   = new ParserInline();\n  this.block    = new ParserBlock();\n  this.core     = new ParserCore();\n  this.renderer = new Renderer();\n  this.ruler    = new Ruler();\n\n  this.options  = {};\n  this.configure(config[preset]);\n  this.set(options || {});\n}\n\n/**\n * Set options as an alternative to passing them\n * to the constructor.\n *\n * ```js\n * md.set({typographer: true});\n * ```\n * @param {Object} `options`\n * @api public\n */\n\nRemarkable.prototype.set = function (options) {\n  assign(this.options, options);\n};\n\n/**\n * Batch loader for components rules states, and options\n *\n * @param  {Object} `presets`\n */\n\nRemarkable.prototype.configure = function (presets) {\n  var self = this;\n\n  if (!presets) { throw new Error('Wrong `remarkable` preset, check name/content'); }\n  if (presets.options) { self.set(presets.options); }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enable(presets.components[name].rules, true);\n      }\n    });\n  }\n};\n\n/**\n * Use a plugin.\n *\n * ```js\n * var md = new Remarkable();\n *\n * md.use(plugin1)\n *   .use(plugin2, opts)\n *   .use(plugin3);\n * ```\n *\n * @param  {Function} `plugin`\n * @param  {Object} `options`\n * @return {Object} `Remarkable` for chaining\n */\n\nRemarkable.prototype.use = function (plugin, options) {\n  plugin(this, options);\n  return this;\n};\n\n\n/**\n * Parse the input `string` and return a tokens array.\n * Modifies `env` with definitions data.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parse = function (str, env) {\n  var state = new StateCore(this, str, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * The main `.render()` method that does all the magic :)\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {String} Rendered HTML.\n */\n\nRemarkable.prototype.render = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(str, env), this.options, env);\n};\n\n/**\n * Parse the given content `string` as a single string.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parseInline = function (str, env) {\n  var state = new StateCore(this, str, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * Render a single content `string`, without wrapping it\n * to paragraphs\n *\n * @param  {String} `str`\n * @param  {Object} `env`\n * @return {String}\n */\n\nRemarkable.prototype.renderInline = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(str, env), this.options, env);\n};\n\n/**\n * Expose `Remarkable`\n */\n\nmodule.exports = Remarkable;\n\n/**\n * Expose `utils`, Useful helper functions for custom\n * rendering.\n */\n\nmodule.exports.utils = require('./common/utils');\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar utils = require('./common/utils');\nvar rules = require('./rules');\n\n/**\n * Expose `Renderer`\n */\n\nmodule.exports = Renderer;\n\n/**\n * Renderer class. Renders HTML and exposes `rules` to allow\n * local modifications.\n */\n\nfunction Renderer() {\n  this.rules = utils.assign({}, rules);\n\n  // exported helper, for custom rules only\n  this.getBreak = rules.getBreak;\n}\n\n/**\n * Render a string of inline HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = 0;\n  var result = '';\n\n  while (len--) {\n    result += _rules[tokens[i].type](tokens, i++, options, env, this);\n  }\n\n  return result;\n};\n\n/**\n * Render a string of HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.render = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = -1;\n  var result = '';\n\n  while (++i < len) {\n    if (tokens[i].type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else {\n      result += _rules[tokens[i].type](tokens, i, options, env, this);\n    }\n  }\n  return result;\n};\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar has             = require('./common/utils').has;\nvar unescapeMd      = require('./common/utils').unescapeMd;\nvar replaceEntities = require('./common/utils').replaceEntities;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">↩</a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Expose `rules`\n */\n\nmodule.exports = rules;\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar Ruler = require('./ruler');\n\n/**\n * Core parser `rules`\n */\n\nvar _rules = [\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'abbr',           require('./rules_core/abbr')           ],\n  [ 'references',     require('./rules_core/references')     ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'footnote_tail',  require('./rules_core/footnote_tail')  ],\n  [ 'abbr2',          require('./rules_core/abbr2')          ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ],\n  [ 'linkify',        require('./rules_core/linkify')        ]\n];\n\n/**\n * Class for top level (`core`) parser rules\n *\n * @api private\n */\n\nfunction Core() {\n  this.options = {};\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n/**\n * Process rules with the given `state`\n *\n * @param  {Object} `state`\n * @api private\n */\n\nCore.prototype.process = function (state) {\n  var i, l, rules;\n  rules = this.ruler.getRules('');\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\n/**\n * Expose `Core`\n */\n\nmodule.exports = Core;\n","'use strict';\n\nmodule.exports = function block(state) {\n\n  if (state.inlineMode) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.replace(/\\n/g, ' ').trim(),\n      level: 0,\n      lines: [ 0, 1 ],\n      children: []\n    });\n\n  } else {\n    state.block.parse(state.src, state.options, state.env, state.tokens);\n  }\n};\n","// Parse abbreviation definitions, i.e. `*[abbr]: description`\n//\n\n'use strict';\n\n\nvar StateInline    = require('../rules_inline/state_inline');\nvar parseLinkLabel = require('../helpers/parse_link_label');\n\n\nfunction parseAbbr(str, parserInline, options, env) {\n  var state, labelEnd, pos, max, label, title;\n\n  if (str.charCodeAt(0) !== 0x2A/* * */) { return -1; }\n  if (str.charCodeAt(1) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parserInline, options, env, []);\n  labelEnd = parseLinkLabel(state, 1);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // abbr title is always one line, so looking for ending \"\\n\" here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x0A) { break; }\n  }\n\n  label = str.slice(2, labelEnd);\n  title = str.slice(labelEnd + 2, pos).trim();\n  if (title.length === 0) { return -1; }\n  if (!env.abbreviations) { env.abbreviations = {}; }\n  // prepend ':' to avoid conflict with Object.prototype members\n  if (typeof env.abbreviations[':' + label] === 'undefined') {\n    env.abbreviations[':' + label] = title;\n  }\n\n  return pos;\n}\n\nmodule.exports = function abbr(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Parse inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i].type === 'inline' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseAbbr(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n};\n","'use strict';\n\n\nvar StateInline          = require('../rules_inline/state_inline');\nvar parseLinkLabel       = require('../helpers/parse_link_label');\nvar parseLinkDestination = require('../helpers/parse_link_destination');\nvar parseLinkTitle       = require('../helpers/parse_link_title');\nvar normalizeReference   = require('../helpers/normalize_reference');\n\n\nfunction parseReference(str, parser, options, env) {\n  var state, labelEnd, pos, max, code, start, href, title, label;\n\n  if (str.charCodeAt(0) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parser, options, env, []);\n  labelEnd = parseLinkLabel(state, 0);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  if (!parseLinkDestination(state, pos)) { return -1; }\n  href = state.linkContent;\n  pos = state.pos;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (pos = pos + 1; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n    title = state.linkContent;\n    pos = state.pos;\n  } else {\n    title = '';\n    pos = start;\n  }\n\n  // ensure that the end of the line is empty\n  while (pos < max && state.src.charCodeAt(pos) === 0x20/* space */) { pos++; }\n  if (pos < max && state.src.charCodeAt(pos) !== 0x0A) { return -1; }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (typeof env.references[label] === 'undefined') {\n    env.references[label] = { title: title, href: href };\n  }\n\n  return pos;\n}\n\n\nmodule.exports = function references(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  state.env.references = state.env.references || {};\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Scan definitions in paragraph inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i].type === 'inline' &&\n        tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseReference(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.inline.parse(tok.content, state.options, state.env, tok.children);\n    }\n  }\n};\n","'use strict';\n\n\nmodule.exports = function footnote_block(state) {\n  var i, l, j, t, lastParagraph, list, tokens, current, currentLabel,\n      level = 0,\n      insideRef = false,\n      refTokens = {};\n\n  if (!state.env.footnotes) { return; }\n\n  state.tokens = state.tokens.filter(function(tok) {\n    if (tok.type === 'footnote_reference_open') {\n      insideRef = true;\n      current = [];\n      currentLabel = tok.label;\n      return false;\n    }\n    if (tok.type === 'footnote_reference_close') {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[':' + currentLabel] = current;\n      return false;\n    }\n    if (insideRef) { current.push(tok); }\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) { return; }\n  list = state.env.footnotes.list;\n\n  state.tokens.push({\n    type: 'footnote_block_open',\n    level: level++\n  });\n  for (i = 0, l = list.length; i < l; i++) {\n    state.tokens.push({\n      type: 'footnote_open',\n      id: i,\n      level: level++\n    });\n\n    if (list[i].tokens) {\n      tokens = [];\n      tokens.push({\n        type: 'paragraph_open',\n        tight: false,\n        level: level++\n      });\n      tokens.push({\n        type: 'inline',\n        content: '',\n        level: level,\n        children: list[i].tokens\n      });\n      tokens.push({\n        type: 'paragraph_close',\n        tight: false,\n        level: --level\n      });\n    } else if (list[i].label) {\n      tokens = refTokens[':' + list[i].label];\n    }\n\n    state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n      lastParagraph = state.tokens.pop();\n    } else {\n      lastParagraph = null;\n    }\n\n    t = list[i].count > 0 ? list[i].count : 1;\n    for (j = 0; j < t; j++) {\n      state.tokens.push({\n        type: 'footnote_anchor',\n        id: i,\n        subId: j,\n        level: level\n      });\n    }\n\n    if (lastParagraph) {\n      state.tokens.push(lastParagraph);\n    }\n\n    state.tokens.push({\n      type: 'footnote_close',\n      level: --level\n    });\n  }\n  state.tokens.push({\n    type: 'footnote_block_close',\n    level: --level\n  });\n};\n","// Enclose abbreviations in <abbr> tags\n//\n'use strict';\n\n\nvar PUNCT_CHARS = ' \\n()[]\\'\".,!?-';\n\n\n// from Google closure library\n// http://closure-library.googlecode.com/git-history/docs/local_closure_goog_string_string.js.source.html#line1021\nfunction regEscape(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1');\n}\n\n\nmodule.exports = function abbr2(state) {\n  var i, j, l, tokens, token, text, nodes, pos, level, reg, m, regText,\n      blockTokens = state.tokens;\n\n  if (!state.env.abbreviations) { return; }\n  if (!state.env.abbrRegExp) {\n    regText = '(^|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(regEscape).join('|') + ')'\n            + '($|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])';\n    state.env.abbrRegExp = new RegExp(regText, 'g');\n  }\n  reg = state.env.abbrRegExp;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    // We scan from the end, to keep position when new tags added.\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n      if (token.type !== 'text') { continue; }\n\n      pos = 0;\n      text = token.content;\n      reg.lastIndex = 0;\n      level = token.level;\n      nodes = [];\n\n      while ((m = reg.exec(text))) {\n        if (reg.lastIndex > pos) {\n          nodes.push({\n            type: 'text',\n            content: text.slice(pos, m.index + m[1].length),\n            level: level\n          });\n        }\n\n        nodes.push({\n          type: 'abbr_open',\n          title: state.env.abbreviations[':' + m[2]],\n          level: level++\n        });\n        nodes.push({\n          type: 'text',\n          content: m[2],\n          level: level\n        });\n        nodes.push({\n          type: 'abbr_close',\n          level: --level\n        });\n        pos = reg.lastIndex - m[3].length;\n      }\n\n      if (!nodes.length) { continue; }\n\n      if (pos < text.length) {\n        nodes.push({\n          type: 'text',\n          content: text.slice(pos),\n          level: level\n        });\n      }\n\n      // replace current node\n      blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n    }\n  }\n};\n","// Simple typographical replacements\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  'c': '©',\n  'r': '®',\n  'p': '§',\n  'tm': '™'\n};\n\nfunction replaceScopedAbbr(str) {\n  if (str.indexOf('(') < 0) { return str; }\n\n  return str.replace(SCOPED_ABBR_RE, function(match, name) {\n    return SCOPED_ABBR[name.toLowerCase()];\n  });\n}\n\n\nmodule.exports = function replace(state) {\n  var i, token, text, inlineTokens, blkIdx;\n\n  if (!state.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    inlineTokens = state.tokens[blkIdx].children;\n\n    for (i = inlineTokens.length - 1; i >= 0; i--) {\n      token = inlineTokens[i];\n      if (token.type === 'text') {\n        text = token.content;\n\n        text = replaceScopedAbbr(text);\n\n        if (RARE_RE.test(text)) {\n          text = text\n            .replace(/\\+-/g, '±')\n            // .., ..., ....... -> …\n            // but ?..... & !..... -> ?.. & !..\n            .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n            .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n            // em-dash\n            .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n            // en-dash\n            .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n            .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n        }\n\n        token.content = text;\n      }\n    }\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '’';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `inline.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar Autolinker = require('autolinker');\n\n\nvar LINK_SCAN_RE = /www|@|\\:\\/\\//;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n// Stupid fabric to avoid singletons, for thread safety.\n// Required for engines like Nashorn.\n//\nfunction createLinkifier() {\n  var links = [];\n  var autolinker = new Autolinker({\n    stripPrefix: false,\n    url: true,\n    email: true,\n    twitter: false,\n    replaceFn: function (linker, match) {\n      // Only collect matched strings but don't change anything.\n      switch (match.getType()) {\n        /*eslint default-case:0*/\n        case 'url':\n          links.push({\n            text: match.matchedText,\n            url: match.getUrl()\n          });\n          break;\n        case 'email':\n          links.push({\n            text: match.matchedText,\n            // normalize email protocol\n            url: 'mailto:' + match.getEmail().replace(/^mailto:/i, '')\n          });\n          break;\n      }\n      return false;\n    }\n  });\n\n  return {\n    links: links,\n    autolinker: autolinker\n  };\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, text, nodes, ln, pos, level, htmlLinkLevel,\n      blockTokens = state.tokens,\n      linkifier = null, links, autolinker;\n\n  if (!state.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n\n      // Skip content of markdown links\n      if (token.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== token.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (token.type === 'htmltag') {\n        if (isLinkOpen(token.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(token.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (token.type === 'text' && LINK_SCAN_RE.test(token.content)) {\n\n        // Init linkifier in lazy manner, only if required.\n        if (!linkifier) {\n          linkifier = createLinkifier();\n          links = linkifier.links;\n          autolinker = linkifier.autolinker;\n        }\n\n        text = token.content;\n        links.length = 0;\n        autolinker.link(text);\n\n        if (!links.length) { continue; }\n\n        // Now split string to nodes\n        nodes = [];\n        level = token.level;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          if (!state.inline.validateLink(links[ln].url)) { continue; }\n\n          pos = text.indexOf(links[ln].text);\n\n          if (pos) {\n            level = level;\n            nodes.push({\n              type: 'text',\n              content: text.slice(0, pos),\n              level: level\n            });\n          }\n          nodes.push({\n            type: 'link_open',\n            href: links[ln].url,\n            title: '',\n            level: level++\n          });\n          nodes.push({\n            type: 'text',\n            content: links[ln].text,\n            level: level\n          });\n          nodes.push({\n            type: 'link_close',\n            level: --level\n          });\n          text = text.slice(pos + links[ln].text.length);\n        }\n        if (text.length) {\n          nodes.push({\n            type: 'text',\n            content: text,\n            level: level\n          });\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n      }\n    }\n  }\n};\n","/*!\n * Autolinker.js\n * 0.28.1\n *\n * Copyright(c) 2016 Gregory Jacobs <greg@greg-jacobs.com>\n * MIT License\n *\n * https://github.com/gregjacobs/Autolinker.js\n */\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Autolinker = factory();\n  }\n}(this, function() {\n/**\n * @class Autolinker\n * @extends Object\n *\n * Utility class used to process a given string of text, and wrap the matches in\n * the appropriate anchor (&lt;a&gt;) tags to turn them into links.\n *\n * Any of the configuration options may be provided in an Object (map) provided\n * to the Autolinker constructor, which will configure how the {@link #link link()}\n * method will process the links.\n *\n * For example:\n *\n *     var autolinker = new Autolinker( {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *\n *     var html = autolinker.link( \"Joe went to www.yahoo.com\" );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * The {@link #static-link static link()} method may also be used to inline\n * options into a single call, which may be more convenient for one-off uses.\n * For example:\n *\n *     var html = Autolinker.link( \"Joe went to www.yahoo.com\", {\n *         newWindow : false,\n *         truncate  : 30\n *     } );\n *     // produces: 'Joe went to <a href=\"http://www.yahoo.com\">yahoo.com</a>'\n *\n *\n * ## Custom Replacements of Links\n *\n * If the configuration options do not provide enough flexibility, a {@link #replaceFn}\n * may be provided to fully customize the output of Autolinker. This function is\n * called once for each URL/Email/Phone#/Twitter Handle/Hashtag match that is\n * encountered.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, Phone #s, Twitter Handles, and Hashtags\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( autolinker, match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                     if( match.getUrl().indexOf( 'mysite.com' ) === -1 ) {\n *                         var tag = autolinker.getTagBuilder().build( match );  // returns an `Autolinker.HtmlTag` instance, which provides mutator methods for easy changes\n *                         tag.setAttr( 'rel', 'nofollow' );\n *                         tag.addClass( 'external-link' );\n *\n *                         return tag;\n *\n *                     } else {\n *                         return true;  // let Autolinker perform its normal anchor tag replacement\n *                     }\n *\n *                 case 'email' :\n *                     var email = match.getEmail();\n *                     console.log( \"email: \", email );\n *\n *                     if( email === \"my@own.address\" ) {\n *                         return false;  // don't auto-link this particular email address; leave as-is\n *                     } else {\n *                         return;  // no return value will have Autolinker perform its normal anchor tag replacement (same as returning `true`)\n *                     }\n *\n *                 case 'phone' :\n *                     var phoneNumber = match.getPhoneNumber();\n *                     console.log( phoneNumber );\n *\n *                     return '<a href=\"http://newplace.to.link.phone.numbers.to/\">' + phoneNumber + '</a>';\n *\n *                 case 'twitter' :\n *                     var twitterHandle = match.getTwitterHandle();\n *                     console.log( twitterHandle );\n *\n *                     return '<a href=\"http://newplace.to.link.twitter.handles.to/\">' + twitterHandle + '</a>';\n *\n *                 case 'hashtag' :\n *                     var hashtag = match.getHashtag();\n *                     console.log( hashtag );\n *\n *                     return '<a href=\"http://newplace.to.link.hashtag.handles.to/\">' + hashtag + '</a>';\n *             }\n *         }\n *     } );\n *\n *\n * The function may return the following values:\n *\n * - `true` (Boolean): Allow Autolinker to replace the match as it normally\n *   would.\n * - `false` (Boolean): Do not replace the current match at all - leave as-is.\n * - Any String: If a string is returned from the function, the string will be\n *   used directly as the replacement HTML for the match.\n * - An {@link Autolinker.HtmlTag} instance, which can be used to build/modify\n *   an HTML tag before writing out its HTML text.\n *\n * @constructor\n * @param {Object} [cfg] The configuration options for the Autolinker instance,\n *   specified in an Object (map).\n */\nvar Autolinker = function( cfg ) {\n\tcfg = cfg || {};\n\n\tthis.version = Autolinker.version;\n\n\tthis.urls = this.normalizeUrlsCfg( cfg.urls );\n\tthis.email = typeof cfg.email === 'boolean' ? cfg.email : true;\n\tthis.twitter = typeof cfg.twitter === 'boolean' ? cfg.twitter : true;\n\tthis.phone = typeof cfg.phone === 'boolean' ? cfg.phone : true;\n\tthis.hashtag = cfg.hashtag || false;\n\tthis.newWindow = typeof cfg.newWindow === 'boolean' ? cfg.newWindow : true;\n\tthis.stripPrefix = typeof cfg.stripPrefix === 'boolean' ? cfg.stripPrefix : true;\n\n\t// Validate the value of the `hashtag` cfg.\n\tvar hashtag = this.hashtag;\n\tif( hashtag !== false && hashtag !== 'twitter' && hashtag !== 'facebook' && hashtag !== 'instagram' ) {\n\t\tthrow new Error( \"invalid `hashtag` cfg - see docs\" );\n\t}\n\n\tthis.truncate = this.normalizeTruncateCfg( cfg.truncate );\n\tthis.className = cfg.className || '';\n\tthis.replaceFn = cfg.replaceFn || null;\n\n\tthis.htmlParser = null;\n\tthis.matchers = null;\n\tthis.tagBuilder = null;\n};\n\n\n\n/**\n * Automatically links URLs, Email addresses, Phone Numbers, Twitter handles,\n * and Hashtags found in the given chunk of HTML. Does not link URLs found\n * within HTML tags.\n *\n * For instance, if given the text: `You should go to http://www.yahoo.com`,\n * then the result will be `You should go to &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n *\n * Example:\n *\n *     var linkedText = Autolinker.link( \"Go to google.com\", { newWindow: false } );\n *     // Produces: \"Go to <a href=\"http://google.com\">google.com</a>\"\n *\n * @static\n * @param {String} textOrHtml The HTML or text to find matches within (depending\n *   on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #twitter},\n *   and {@link #hashtag} options are enabled).\n * @param {Object} [options] Any of the configuration options for the Autolinker\n *   class, specified in an Object (map). See the class description for an\n *   example call.\n * @return {String} The HTML text, with matches automatically linked.\n */\nAutolinker.link = function( textOrHtml, options ) {\n\tvar autolinker = new Autolinker( options );\n\treturn autolinker.link( textOrHtml );\n};\n\n\n/**\n * @static\n * @property {String} version (readonly)\n *\n * The Autolinker version number in the form major.minor.patch\n *\n * Ex: 0.25.1\n */\nAutolinker.version = '0.28.1';\n\n\nAutolinker.prototype = {\n\tconstructor : Autolinker,  // fix constructor property\n\n\t/**\n\t * @cfg {Boolean/Object} [urls=true]\n\t *\n\t * `true` if URLs should be automatically linked, `false` if they should not\n\t * be.\n\t *\n\t * This option also accepts an Object form with 3 properties, to allow for\n\t * more customization of what exactly gets linked. All default to `true`:\n\t *\n\t * @param {Boolean} schemeMatches `true` to match URLs found prefixed with a\n\t *   scheme, i.e. `http://google.com`, or `other+scheme://google.com`,\n\t *   `false` to prevent these types of matches.\n\t * @param {Boolean} wwwMatches `true` to match urls found prefixed with\n\t *   `'www.'`, i.e. `www.google.com`. `false` to prevent these types of\n\t *   matches. Note that if the URL had a prefixed scheme, and\n\t *   `schemeMatches` is true, it will still be linked.\n\t * @param {Boolean} tldMatches `true` to match URLs with known top level\n\t *   domains (.com, .net, etc.) that are not prefixed with a scheme or\n\t *   `'www.'`. This option attempts to match anything that looks like a URL\n\t *   in the given text. Ex: `google.com`, `asdf.org/?page=1`, etc. `false`\n\t *   to prevent these types of matches.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [email=true]\n\t *\n\t * `true` if email addresses should be automatically linked, `false` if they\n\t * should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [twitter=true]\n\t *\n\t * `true` if Twitter handles (\"@example\") should be automatically linked,\n\t * `false` if they should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [phone=true]\n\t *\n\t * `true` if Phone numbers (\"(555)555-5555\") should be automatically linked,\n\t * `false` if they should not be.\n\t */\n\n\t/**\n\t * @cfg {Boolean/String} [hashtag=false]\n\t *\n\t * A string for the service name to have hashtags (ex: \"#myHashtag\")\n\t * auto-linked to. The currently-supported values are:\n\t *\n\t * - 'twitter'\n\t * - 'facebook'\n\t * - 'instagram'\n\t *\n\t * Pass `false` to skip auto-linking of hashtags.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [newWindow=true]\n\t *\n\t * `true` if the links should open in a new window, `false` otherwise.\n\t */\n\n\t/**\n\t * @cfg {Boolean} [stripPrefix=true]\n\t *\n\t * `true` if 'http://' or 'https://' and/or the 'www.' should be stripped\n\t * from the beginning of URL links' text, `false` otherwise.\n\t */\n\n\t/**\n\t * @cfg {Number/Object} [truncate=0]\n\t *\n\t * ## Number Form\n\t *\n\t * A number for how many characters matched text should be truncated to\n\t * inside the text of a link. If the matched text is over this number of\n\t * characters, it will be truncated to this length by adding a two period\n\t * ellipsis ('..') to the end of the string.\n\t *\n\t * For example: A url like 'http://www.yahoo.com/some/long/path/to/a/file'\n\t * truncated to 25 characters might look something like this:\n\t * 'yahoo.com/some/long/pat..'\n\t *\n\t * Example Usage:\n\t *\n\t *     truncate: 25\n\t *\n\t *\n\t *  Defaults to `0` for \"no truncation.\"\n\t *\n\t *\n\t * ## Object Form\n\t *\n\t * An Object may also be provided with two properties: `length` (Number) and\n\t * `location` (String). `location` may be one of the following: 'end'\n\t * (default), 'middle', or 'smart'.\n\t *\n\t * Example Usage:\n\t *\n\t *     truncate: { length: 25, location: 'middle' }\n\t *\n\t * @cfg {Number} [truncate.length=0] How many characters to allow before\n\t *   truncation will occur. Defaults to `0` for \"no truncation.\"\n\t * @cfg {\"end\"/\"middle\"/\"smart\"} [truncate.location=\"end\"]\n\t *\n\t * - 'end' (default): will truncate up to the number of characters, and then\n\t *   add an ellipsis at the end. Ex: 'yahoo.com/some/long/pat..'\n\t * - 'middle': will truncate and add the ellipsis in the middle. Ex:\n\t *   'yahoo.com/s..th/to/a/file'\n\t * - 'smart': for URLs where the algorithm attempts to strip out unnecessary\n\t *   parts first (such as the 'www.', then URL scheme, hash, etc.),\n\t *   attempting to make the URL human-readable before looking for a good\n\t *   point to insert the ellipsis if it is still too long. Ex:\n\t *   'yahoo.com/some..to/a/file'. For more details, see\n\t *   {@link Autolinker.truncate.TruncateSmart}.\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t *\n\t * A CSS class name to add to the generated links. This class will be added\n\t * to all links, as well as this class plus match suffixes for styling\n\t * url/email/phone/twitter/hashtag links differently.\n\t *\n\t * For example, if this config is provided as \"myLink\", then:\n\t *\n\t * - URL links will have the CSS classes: \"myLink myLink-url\"\n\t * - Email links will have the CSS classes: \"myLink myLink-email\", and\n\t * - Twitter links will have the CSS classes: \"myLink myLink-twitter\"\n\t * - Phone links will have the CSS classes: \"myLink myLink-phone\"\n\t * - Hashtag links will have the CSS classes: \"myLink myLink-hashtag\"\n\t */\n\n\t/**\n\t * @cfg {Function} replaceFn\n\t *\n\t * A function to individually process each match found in the input string.\n\t *\n\t * See the class's description for usage.\n\t *\n\t * This function is called with the following parameters:\n\t *\n\t * @cfg {Autolinker} replaceFn.autolinker The Autolinker instance, which may\n\t *   be used to retrieve child objects from (such as the instance's\n\t *   {@link #getTagBuilder tag builder}).\n\t * @cfg {Autolinker.match.Match} replaceFn.match The Match instance which\n\t *   can be used to retrieve information about the match that the `replaceFn`\n\t *   is currently processing. See {@link Autolinker.match.Match} subclasses\n\t *   for details.\n\t */\n\n\n\t/**\n\t * @property {String} version (readonly)\n\t *\n\t * The Autolinker version number in the form major.minor.patch\n\t *\n\t * Ex: 0.25.1\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.htmlParser.HtmlParser} htmlParser\n\t *\n\t * The HtmlParser instance used to skip over HTML tags, while finding text\n\t * nodes to process. This is lazily instantiated in the {@link #getHtmlParser}\n\t * method.\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.matcher.Matcher[]} matchers\n\t *\n\t * The {@link Autolinker.matcher.Matcher} instances for this Autolinker\n\t * instance.\n\t *\n\t * This is lazily created in {@link #getMatchers}.\n\t */\n\n\t/**\n\t * @private\n\t * @property {Autolinker.AnchorTagBuilder} tagBuilder\n\t *\n\t * The AnchorTagBuilder instance used to build match replacement anchor tags.\n\t * Note: this is lazily instantiated in the {@link #getTagBuilder} method.\n\t */\n\n\n\t/**\n\t * Normalizes the {@link #urls} config into an Object with 3 properties:\n\t * `schemeMatches`, `wwwMatches`, and `tldMatches`, all Booleans.\n\t *\n\t * See {@link #urls} config for details.\n\t *\n\t * @private\n\t * @param {Boolean/Object} urls\n\t * @return {Object}\n\t */\n\tnormalizeUrlsCfg : function( urls ) {\n\t\tif( urls == null ) urls = true;  // default to `true`\n\n\t\tif( typeof urls === 'boolean' ) {\n\t\t\treturn { schemeMatches: urls, wwwMatches: urls, tldMatches: urls };\n\n\t\t} else {  // object form\n\t\t\treturn {\n\t\t\t\tschemeMatches : typeof urls.schemeMatches === 'boolean' ? urls.schemeMatches : true,\n\t\t\t\twwwMatches    : typeof urls.wwwMatches === 'boolean'    ? urls.wwwMatches    : true,\n\t\t\t\ttldMatches    : typeof urls.tldMatches === 'boolean'    ? urls.tldMatches    : true\n\t\t\t};\n\t\t}\n\t},\n\n\n\t/**\n\t * Normalizes the {@link #truncate} config into an Object with 2 properties:\n\t * `length` (Number), and `location` (String).\n\t *\n\t * See {@link #truncate} config for details.\n\t *\n\t * @private\n\t * @param {Number/Object} truncate\n\t * @return {Object}\n\t */\n\tnormalizeTruncateCfg : function( truncate ) {\n\t\tif( typeof truncate === 'number' ) {\n\t\t\treturn { length: truncate, location: 'end' };\n\n\t\t} else {  // object, or undefined/null\n\t\t\treturn Autolinker.Util.defaults( truncate || {}, {\n\t\t\t\tlength   : Number.POSITIVE_INFINITY,\n\t\t\t\tlocation : 'end'\n\t\t\t} );\n\t\t}\n\t},\n\n\n\t/**\n\t * Parses the input `textOrHtml` looking for URLs, email addresses, phone\n\t * numbers, username handles, and hashtags (depending on the configuration\n\t * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n\t * objects describing those matches.\n\t *\n\t * This method is used by the {@link #link} method, but can also be used to\n\t * simply do parsing of the input in order to discover what kinds of links\n\t * there are and how many.\n\t *\n\t * @param {String} textOrHtml The HTML or text to find matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #twitter}, and {@link #hashtag} options are enabled).\n\t * @return {Autolinker.match.Match[]} The array of Matches found in the\n\t *   given input `textOrHtml`.\n\t */\n\tparse : function( textOrHtml ) {\n\t\tvar htmlParser = this.getHtmlParser(),\n\t\t    htmlNodes = htmlParser.parse( textOrHtml ),\n\t\t    anchorTagStackCount = 0,  // used to only process text around anchor tags, and any inner text/html they may have;\n\t\t    matches = [];\n\n\t\t// Find all matches within the `textOrHtml` (but not matches that are\n\t\t// already nested within <a> tags)\n\t\tfor( var i = 0, len = htmlNodes.length; i < len; i++ ) {\n\t\t\tvar node = htmlNodes[ i ],\n\t\t\t    nodeType = node.getType();\n\n\t\t\tif( nodeType === 'element' && node.getTagName() === 'a' ) {  // Process HTML anchor element nodes in the input `textOrHtml` to find out when we're within an <a> tag\n\t\t\t\tif( !node.isClosing() ) {  // it's the start <a> tag\n\t\t\t\t\tanchorTagStackCount++;\n\t\t\t\t} else {  // it's the end </a> tag\n\t\t\t\t\tanchorTagStackCount = Math.max( anchorTagStackCount - 1, 0 );  // attempt to handle extraneous </a> tags by making sure the stack count never goes below 0\n\t\t\t\t}\n\n\t\t\t} else if( nodeType === 'text' && anchorTagStackCount === 0 ) {  // Process text nodes that are not within an <a> tag\n\t\t\t\tvar textNodeMatches = this.parseText( node.getText(), node.getOffset() );\n\n\t\t\t\tmatches.push.apply( matches, textNodeMatches );\n\t\t\t}\n\t\t}\n\n\n\t\t// After we have found all matches, remove subsequent matches that\n\t\t// overlap with a previous match. This can happen for instance with URLs,\n\t\t// where the url 'google.com/#link' would match '#link' as a hashtag.\n\t\tmatches = this.compactMatches( matches );\n\n\t\t// And finally, remove matches for match types that have been turned\n\t\t// off. We needed to have all match types turned on initially so that\n\t\t// things like hashtags could be filtered out if they were really just\n\t\t// part of a URL match (for instance, as a named anchor).\n\t\tmatches = this.removeUnwantedMatches( matches );\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * After we have found all matches, we need to remove subsequent matches\n\t * that overlap with a previous match. This can happen for instance with\n\t * URLs, where the url 'google.com/#link' would match '#link' as a hashtag.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match[]} matches\n\t * @return {Autolinker.match.Match[]}\n\t */\n\tcompactMatches : function( matches ) {\n\t\t// First, the matches need to be sorted in order of offset\n\t\tmatches.sort( function( a, b ) { return a.getOffset() - b.getOffset(); } );\n\n\t\tfor( var i = 0; i < matches.length - 1; i++ ) {\n\t\t\tvar match = matches[ i ],\n\t\t\t    endIdx = match.getOffset() + match.getMatchedText().length;\n\n\t\t\t// Remove subsequent matches that overlap with the current match\n\t\t\twhile( i + 1 < matches.length && matches[ i + 1 ].getOffset() <= endIdx ) {\n\t\t\t\tmatches.splice( i + 1, 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Removes matches for matchers that were turned off in the options. For\n\t * example, if {@link #hashtag hashtags} were not to be matched, we'll\n\t * remove them from the `matches` array here.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match[]} matches The array of matches to remove\n\t *   the unwanted matches from. Note: this array is mutated for the\n\t *   removals.\n\t * @return {Autolinker.match.Match[]} The mutated input `matches` array.\n\t */\n\tremoveUnwantedMatches : function( matches ) {\n\t\tvar remove = Autolinker.Util.remove;\n\n\t\tif( !this.hashtag ) remove( matches, function( match ) { return match.getType() === 'hashtag'; } );\n\t\tif( !this.email )   remove( matches, function( match ) { return match.getType() === 'email'; } );\n\t\tif( !this.phone )   remove( matches, function( match ) { return match.getType() === 'phone'; } );\n\t\tif( !this.twitter ) remove( matches, function( match ) { return match.getType() === 'twitter'; } );\n\t\tif( !this.urls.schemeMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'scheme'; } );\n\t\t}\n\t\tif( !this.urls.wwwMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'www'; } );\n\t\t}\n\t\tif( !this.urls.tldMatches ) {\n\t\t\tremove( matches, function( m ) { return m.getType() === 'url' && m.getUrlMatchType() === 'tld'; } );\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Parses the input `text` looking for URLs, email addresses, phone\n\t * numbers, username handles, and hashtags (depending on the configuration\n\t * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}\n\t * objects describing those matches.\n\t *\n\t * This method processes a **non-HTML string**, and is used to parse and\n\t * match within the text nodes of an HTML string. This method is used\n\t * internally by {@link #parse}.\n\t *\n\t * @private\n\t * @param {String} text The text to find matches within (depending on if the\n\t *   {@link #urls}, {@link #email}, {@link #phone}, {@link #twitter}, and\n\t *   {@link #hashtag} options are enabled). This must be a non-HTML string.\n\t * @param {Number} [offset=0] The offset of the text node within the\n\t *   original string. This is used when parsing with the {@link #parse}\n\t *   method to generate correct offsets within the {@link Autolinker.match.Match}\n\t *   instances, but may be omitted if calling this method publicly.\n\t * @return {Autolinker.match.Match[]} The array of Matches found in the\n\t *   given input `text`.\n\t */\n\tparseText : function( text, offset ) {\n\t\toffset = offset || 0;\n\t\tvar matchers = this.getMatchers(),\n\t\t    matches = [];\n\n\t\tfor( var i = 0, numMatchers = matchers.length; i < numMatchers; i++ ) {\n\t\t\tvar textMatches = matchers[ i ].parseMatches( text );\n\n\t\t\t// Correct the offset of each of the matches. They are originally\n\t\t\t// the offset of the match within the provided text node, but we\n\t\t\t// need to correct them to be relative to the original HTML input\n\t\t\t// string (i.e. the one provided to #parse).\n\t\t\tfor( var j = 0, numTextMatches = textMatches.length; j < numTextMatches; j++ ) {\n\t\t\t\ttextMatches[ j ].setOffset( offset + textMatches[ j ].getOffset() );\n\t\t\t}\n\n\t\t\tmatches.push.apply( matches, textMatches );\n\t\t}\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Automatically links URLs, Email addresses, Phone numbers, Twitter\n\t * handles, and Hashtags found in the given chunk of HTML. Does not link\n\t * URLs found within HTML tags.\n\t *\n\t * For instance, if given the text: `You should go to http://www.yahoo.com`,\n\t * then the result will be `You should go to\n\t * &lt;a href=\"http://www.yahoo.com\"&gt;http://www.yahoo.com&lt;/a&gt;`\n\t *\n\t * This method finds the text around any HTML elements in the input\n\t * `textOrHtml`, which will be the text that is processed. Any original HTML\n\t * elements will be left as-is, as well as the text that is already wrapped\n\t * in anchor (&lt;a&gt;) tags.\n\t *\n\t * @param {String} textOrHtml The HTML or text to autolink matches within\n\t *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},\n\t *   {@link #twitter}, and {@link #hashtag} options are enabled).\n\t * @return {String} The HTML, with matches automatically linked.\n\t */\n\tlink : function( textOrHtml ) {\n\t\tif( !textOrHtml ) { return \"\"; }  // handle `null` and `undefined`\n\n\t\tvar matches = this.parse( textOrHtml ),\n\t\t\tnewHtml = [],\n\t\t\tlastIndex = 0;\n\n\t\tfor( var i = 0, len = matches.length; i < len; i++ ) {\n\t\t\tvar match = matches[ i ];\n\n\t\t\tnewHtml.push( textOrHtml.substring( lastIndex, match.getOffset() ) );\n\t\t\tnewHtml.push( this.createMatchReturnVal( match ) );\n\n\t\t\tlastIndex = match.getOffset() + match.getMatchedText().length;\n\t\t}\n\t\tnewHtml.push( textOrHtml.substring( lastIndex ) );  // handle the text after the last match\n\n\t\treturn newHtml.join( '' );\n\t},\n\n\n\t/**\n\t * Creates the return string value for a given match in the input string.\n\t *\n\t * This method handles the {@link #replaceFn}, if one was provided.\n\t *\n\t * @private\n\t * @param {Autolinker.match.Match} match The Match object that represents\n\t *   the match.\n\t * @return {String} The string that the `match` should be replaced with.\n\t *   This is usually the anchor tag string, but may be the `matchStr` itself\n\t *   if the match is not to be replaced.\n\t */\n\tcreateMatchReturnVal : function( match ) {\n\t\t// Handle a custom `replaceFn` being provided\n\t\tvar replaceFnResult;\n\t\tif( this.replaceFn ) {\n\t\t\treplaceFnResult = this.replaceFn.call( this, this, match );  // Autolinker instance is the context, and the first arg\n\t\t}\n\n\t\tif( typeof replaceFnResult === 'string' ) {\n\t\t\treturn replaceFnResult;  // `replaceFn` returned a string, use that\n\n\t\t} else if( replaceFnResult === false ) {\n\t\t\treturn match.getMatchedText();  // no replacement for the match\n\n\t\t} else if( replaceFnResult instanceof Autolinker.HtmlTag ) {\n\t\t\treturn replaceFnResult.toAnchorString();\n\n\t\t} else {  // replaceFnResult === true, or no/unknown return value from function\n\t\t\t// Perform Autolinker's default anchor tag generation\n\t\t\tvar anchorTag = match.buildTag();  // returns an Autolinker.HtmlTag instance\n\n\t\t\treturn anchorTag.toAnchorString();\n\t\t}\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link #htmlParser} instance for this\n\t * Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.htmlParser.HtmlParser}\n\t */\n\tgetHtmlParser : function() {\n\t\tvar htmlParser = this.htmlParser;\n\n\t\tif( !htmlParser ) {\n\t\t\thtmlParser = this.htmlParser = new Autolinker.htmlParser.HtmlParser();\n\t\t}\n\n\t\treturn htmlParser;\n\t},\n\n\n\t/**\n\t * Lazily instantiates and returns the {@link Autolinker.matcher.Matcher}\n\t * instances for this Autolinker instance.\n\t *\n\t * @protected\n\t * @return {Autolinker.matcher.Matcher[]}\n\t */\n\tgetMatchers : function() {\n\t\tif( !this.matchers ) {\n\t\t\tvar matchersNs = Autolinker.matcher,\n\t\t\t    tagBuilder = this.getTagBuilder();\n\n\t\t\tvar matchers = [\n\t\t\t\tnew matchersNs.Hashtag( { tagBuilder: tagBuilder, serviceName: this.hashtag } ),\n\t\t\t\tnew matchersNs.Email( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Phone( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Twitter( { tagBuilder: tagBuilder } ),\n\t\t\t\tnew matchersNs.Url( { tagBuilder: tagBuilder, stripPrefix: this.stripPrefix } )\n\t\t\t];\n\n\t\t\treturn ( this.matchers = matchers );\n\n\t\t} else {\n\t\t\treturn this.matchers;\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the {@link #tagBuilder} instance for this Autolinker instance, lazily instantiating it\n\t * if it does not yet exist.\n\t *\n\t * This method may be used in a {@link #replaceFn} to generate the {@link Autolinker.HtmlTag HtmlTag} instance that\n\t * Autolinker would normally generate, and then allow for modifications before returning it. For example:\n\t *\n\t *     var html = Autolinker.link( \"Test google.com\", {\n\t *         replaceFn : function( autolinker, match ) {\n\t *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance\n\t *             tag.setAttr( 'rel', 'nofollow' );\n\t *\n\t *             return tag;\n\t *         }\n\t *     } );\n\t *\n\t *     // generated html:\n\t *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n\t *\n\t * @return {Autolinker.AnchorTagBuilder}\n\t */\n\tgetTagBuilder : function() {\n\t\tvar tagBuilder = this.tagBuilder;\n\n\t\tif( !tagBuilder ) {\n\t\t\ttagBuilder = this.tagBuilder = new Autolinker.AnchorTagBuilder( {\n\t\t\t\tnewWindow   : this.newWindow,\n\t\t\t\ttruncate    : this.truncate,\n\t\t\t\tclassName   : this.className\n\t\t\t} );\n\t\t}\n\n\t\treturn tagBuilder;\n\t}\n\n};\n\n\n// Autolinker Namespaces\n\nAutolinker.match = {};\nAutolinker.matcher = {};\nAutolinker.htmlParser = {};\nAutolinker.truncate = {};\n\n/*global Autolinker */\n/*jshint eqnull:true, boss:true */\n/**\n * @class Autolinker.Util\n * @singleton\n *\n * A few utility methods for Autolinker.\n */\nAutolinker.Util = {\n\n\t/**\n\t * @property {Function} abstractMethod\n\t *\n\t * A function object which represents an abstract method.\n\t */\n\tabstractMethod : function() { throw \"abstract\"; },\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} trimRegex\n\t *\n\t * The regular expression used to trim the leading and trailing whitespace\n\t * from a string.\n\t */\n\ttrimRegex : /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tassign : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Assigns (shallow copies) the properties of `src` onto `dest`, if the\n\t * corresponding property on `dest` === `undefined`.\n\t *\n\t * @param {Object} dest The destination object.\n\t * @param {Object} src The source object.\n\t * @return {Object} The destination object (`dest`)\n\t */\n\tdefaults : function( dest, src ) {\n\t\tfor( var prop in src ) {\n\t\t\tif( src.hasOwnProperty( prop ) && dest[ prop ] === undefined ) {\n\t\t\t\tdest[ prop ] = src[ prop ];\n\t\t\t}\n\t\t}\n\n\t\treturn dest;\n\t},\n\n\n\t/**\n\t * Extends `superclass` to create a new subclass, adding the `protoProps` to the new subclass's prototype.\n\t *\n\t * @param {Function} superclass The constructor function for the superclass.\n\t * @param {Object} protoProps The methods/properties to add to the subclass's prototype. This may contain the\n\t *   special property `constructor`, which will be used as the new subclass's constructor function.\n\t * @return {Function} The new subclass function.\n\t */\n\textend : function( superclass, protoProps ) {\n\t\tvar superclassProto = superclass.prototype;\n\n\t\tvar F = function() {};\n\t\tF.prototype = superclassProto;\n\n\t\tvar subclass;\n\t\tif( protoProps.hasOwnProperty( 'constructor' ) ) {\n\t\t\tsubclass = protoProps.constructor;\n\t\t} else {\n\t\t\tsubclass = function() { superclassProto.constructor.apply( this, arguments ); };\n\t\t}\n\n\t\tvar subclassProto = subclass.prototype = new F();  // set up prototype chain\n\t\tsubclassProto.constructor = subclass;  // fix constructor property\n\t\tsubclassProto.superclass = superclassProto;\n\n\t\tdelete protoProps.constructor;  // don't re-assign constructor property to the prototype, since a new function may have been created (`subclass`), which is now already there\n\t\tAutolinker.Util.assign( subclassProto, protoProps );\n\n\t\treturn subclass;\n\t},\n\n\n\t/**\n\t * Truncates the `str` at `len - ellipsisChars.length`, and adds the `ellipsisChars` to the\n\t * end of the string (by default, two periods: '..'). If the `str` length does not exceed\n\t * `len`, the string will be returned unchanged.\n\t *\n\t * @param {String} str The string to truncate and add an ellipsis to.\n\t * @param {Number} truncateLen The length to truncate the string at.\n\t * @param {String} [ellipsisChars=..] The ellipsis character(s) to add to the end of `str`\n\t *   when truncated. Defaults to '..'\n\t */\n\tellipsis : function( str, truncateLen, ellipsisChars ) {\n\t\tif( str.length > truncateLen ) {\n\t\t\tellipsisChars = ( ellipsisChars == null ) ? '..' : ellipsisChars;\n\t\t\tstr = str.substring( 0, truncateLen - ellipsisChars.length ) + ellipsisChars;\n\t\t}\n\t\treturn str;\n\t},\n\n\n\t/**\n\t * Supports `Array.prototype.indexOf()` functionality for old IE (IE8 and below).\n\t *\n\t * @param {Array} arr The array to find an element of.\n\t * @param {*} element The element to find in the array, and return the index of.\n\t * @return {Number} The index of the `element`, or -1 if it was not found.\n\t */\n\tindexOf : function( arr, element ) {\n\t\tif( Array.prototype.indexOf ) {\n\t\t\treturn arr.indexOf( element );\n\n\t\t} else {\n\t\t\tfor( var i = 0, len = arr.length; i < len; i++ ) {\n\t\t\t\tif( arr[ i ] === element ) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t},\n\n\n\t/**\n\t * Removes array elements based on a filtering function. Mutates the input\n\t * array.\n\t *\n\t * Using this instead of the ES5 Array.prototype.filter() function, to allow\n\t * Autolinker compatibility with IE8, and also to prevent creating many new\n\t * arrays in memory for filtering.\n\t *\n\t * @param {Array} arr The array to remove elements from. This array is\n\t *   mutated.\n\t * @param {Function} fn A function which should return `true` to\n\t *   remove an element.\n\t * @return {Array} The mutated input `arr`.\n\t */\n\tremove : function( arr, fn ) {\n\t\tfor( var i = arr.length - 1; i >= 0; i-- ) {\n\t\t\tif( fn( arr[ i ] ) === true ) {\n\t\t\t\tarr.splice( i, 1 );\n\t\t\t}\n\t\t}\n\t},\n\n\n\t/**\n\t * Performs the functionality of what modern browsers do when `String.prototype.split()` is called\n\t * with a regular expression that contains capturing parenthesis.\n\t *\n\t * For example:\n\t *\n\t *     // Modern browsers:\n\t *     \"a,b,c\".split( /(,)/ );  // --> [ 'a', ',', 'b', ',', 'c' ]\n\t *\n\t *     // Old IE (including IE8):\n\t *     \"a,b,c\".split( /(,)/ );  // --> [ 'a', 'b', 'c' ]\n\t *\n\t * This method emulates the functionality of modern browsers for the old IE case.\n\t *\n\t * @param {String} str The string to split.\n\t * @param {RegExp} splitRegex The regular expression to split the input `str` on. The splitting\n\t *   character(s) will be spliced into the array, as in the \"modern browsers\" example in the\n\t *   description of this method.\n\t *   Note #1: the supplied regular expression **must** have the 'g' flag specified.\n\t *   Note #2: for simplicity's sake, the regular expression does not need\n\t *   to contain capturing parenthesis - it will be assumed that any match has them.\n\t * @return {String[]} The split array of strings, with the splitting character(s) included.\n\t */\n\tsplitAndCapture : function( str, splitRegex ) {\n\t\tif( !splitRegex.global ) throw new Error( \"`splitRegex` must have the 'g' flag set\" );\n\n\t\tvar result = [],\n\t\t    lastIdx = 0,\n\t\t    match;\n\n\t\twhile( match = splitRegex.exec( str ) ) {\n\t\t\tresult.push( str.substring( lastIdx, match.index ) );\n\t\t\tresult.push( match[ 0 ] );  // push the splitting char(s)\n\n\t\t\tlastIdx = match.index + match[ 0 ].length;\n\t\t}\n\t\tresult.push( str.substring( lastIdx ) );\n\n\t\treturn result;\n\t},\n\n\n\t/**\n\t * Trims the leading and trailing whitespace from a string.\n\t *\n\t * @param {String} str The string to trim.\n\t * @return {String}\n\t */\n\ttrim : function( str ) {\n\t\treturn str.replace( this.trimRegex, '' );\n\t}\n\n};\n/*global Autolinker */\n/*jshint boss:true */\n/**\n * @class Autolinker.HtmlTag\n * @extends Object\n *\n * Represents an HTML tag, which can be used to easily build/modify HTML tags programmatically.\n *\n * Autolinker uses this abstraction to create HTML tags, and then write them out as strings. You may also use\n * this class in your code, especially within a {@link Autolinker#replaceFn replaceFn}.\n *\n * ## Examples\n *\n * Example instantiation:\n *\n *     var tag = new Autolinker.HtmlTag( {\n *         tagName : 'a',\n *         attrs   : { 'href': 'http://google.com', 'class': 'external-link' },\n *         innerHtml : 'Google'\n *     } );\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *     // Individual accessor methods\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *\n * Using mutator methods (which may be used in combination with instantiation config properties):\n *\n *     var tag = new Autolinker.HtmlTag();\n *     tag.setTagName( 'a' );\n *     tag.setAttr( 'href', 'http://google.com' );\n *     tag.addClass( 'external-link' );\n *     tag.setInnerHtml( 'Google' );\n *\n *     tag.getTagName();                 // 'a'\n *     tag.getAttr( 'href' );            // 'http://google.com'\n *     tag.hasClass( 'external-link' );  // true\n *\n *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"external-link\">Google</a>\n *\n *\n * ## Example use within a {@link Autolinker#replaceFn replaceFn}\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance, configured with the Match's href and anchor text\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n *\n *\n * ## Example use with a new tag for the replacement\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = new Autolinker.HtmlTag( {\n *                 tagName : 'button',\n *                 attrs   : { 'title': 'Load URL: ' + match.getAnchorHref() },\n *                 innerHtml : 'Load URL: ' + match.getAnchorText()\n *             } );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <button title=\"Load URL: http://google.com\">Load URL: google.com</button>\n */\nAutolinker.HtmlTag = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {String} tagName\n\t *\n\t * The tag name. Ex: 'a', 'button', etc.\n\t *\n\t * Not required at instantiation time, but should be set using {@link #setTagName} before {@link #toAnchorString}\n\t * is executed.\n\t */\n\n\t/**\n\t * @cfg {Object.<String, String>} attrs\n\t *\n\t * An key/value Object (map) of attributes to create the tag with. The keys are the attribute names, and the\n\t * values are the attribute values.\n\t */\n\n\t/**\n\t * @cfg {String} innerHtml\n\t *\n\t * The inner HTML for the tag.\n\t *\n\t * Note the camel case name on `innerHtml`. Acronyms are camelCased in this utility (such as not to run into the acronym\n\t * naming inconsistency that the DOM developers created with `XMLHttpRequest`). You may alternatively use {@link #innerHTML}\n\t * if you prefer, but this one is recommended.\n\t */\n\n\t/**\n\t * @cfg {String} innerHTML\n\t *\n\t * Alias of {@link #innerHtml}, accepted for consistency with the browser DOM api, but prefer the camelCased version\n\t * for acronym names.\n\t */\n\n\n\t/**\n\t * @protected\n\t * @property {RegExp} whitespaceRegex\n\t *\n\t * Regular expression used to match whitespace in a string of CSS classes.\n\t */\n\twhitespaceRegex : /\\s+/,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration properties for this class, in an Object (map)\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tthis.innerHtml = this.innerHtml || this.innerHTML;  // accept either the camelCased form or the fully capitalized acronym\n\t},\n\n\n\t/**\n\t * Sets the tag name that will be used to generate the tag with.\n\t *\n\t * @param {String} tagName\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetTagName : function( tagName ) {\n\t\tthis.tagName = tagName;\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the tag name.\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName || \"\";\n\t},\n\n\n\t/**\n\t * Sets an attribute on the HtmlTag.\n\t *\n\t * @param {String} attrName The attribute name to set.\n\t * @param {String} attrValue The attribute value to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttr : function( attrName, attrValue ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\ttagAttrs[ attrName ] = attrValue;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves an attribute from the HtmlTag. If the attribute does not exist, returns `undefined`.\n\t *\n\t * @param {String} attrName The attribute name to retrieve.\n\t * @return {String} The attribute's value, or `undefined` if it does not exist on the HtmlTag.\n\t */\n\tgetAttr : function( attrName ) {\n\t\treturn this.getAttrs()[ attrName ];\n\t},\n\n\n\t/**\n\t * Sets one or more attributes on the HtmlTag.\n\t *\n\t * @param {Object.<String, String>} attrs A key/value Object (map) of the attributes to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetAttrs : function( attrs ) {\n\t\tvar tagAttrs = this.getAttrs();\n\t\tAutolinker.Util.assign( tagAttrs, attrs );\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the attributes Object (map) for the HtmlTag.\n\t *\n\t * @return {Object.<String, String>} A key/value object of the attributes for the HtmlTag.\n\t */\n\tgetAttrs : function() {\n\t\treturn this.attrs || ( this.attrs = {} );\n\t},\n\n\n\t/**\n\t * Sets the provided `cssClass`, overwriting any current CSS classes on the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to set (overwrite).\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetClass : function( cssClass ) {\n\t\treturn this.setAttr( 'class', cssClass );\n\t},\n\n\n\t/**\n\t * Convenience method to add one or more CSS classes to the HtmlTag. Will not add duplicate CSS classes.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to add.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\taddClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    newClasses = cssClass.split( whitespaceRegex ),\n\t\t    newClass;\n\n\t\twhile( newClass = newClasses.shift() ) {\n\t\t\tif( indexOf( classes, newClass ) === -1 ) {\n\t\t\t\tclasses.push( newClass );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to remove one or more CSS classes from the HtmlTag.\n\t *\n\t * @param {String} cssClass One or more space-separated CSS classes to remove.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tremoveClass : function( cssClass ) {\n\t\tvar classAttr = this.getClass(),\n\t\t    whitespaceRegex = this.whitespaceRegex,\n\t\t    indexOf = Autolinker.Util.indexOf,  // to support IE8 and below\n\t\t    classes = ( !classAttr ) ? [] : classAttr.split( whitespaceRegex ),\n\t\t    removeClasses = cssClass.split( whitespaceRegex ),\n\t\t    removeClass;\n\n\t\twhile( classes.length && ( removeClass = removeClasses.shift() ) ) {\n\t\t\tvar idx = indexOf( classes, removeClass );\n\t\t\tif( idx !== -1 ) {\n\t\t\t\tclasses.splice( idx, 1 );\n\t\t\t}\n\t\t}\n\n\t\tthis.getAttrs()[ 'class' ] = classes.join( \" \" );\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Convenience method to retrieve the CSS class(es) for the HtmlTag, which will each be separated by spaces when\n\t * there are multiple.\n\t *\n\t * @return {String}\n\t */\n\tgetClass : function() {\n\t\treturn this.getAttrs()[ 'class' ] || \"\";\n\t},\n\n\n\t/**\n\t * Convenience method to check if the tag has a CSS class or not.\n\t *\n\t * @param {String} cssClass The CSS class to check for.\n\t * @return {Boolean} `true` if the HtmlTag has the CSS class, `false` otherwise.\n\t */\n\thasClass : function( cssClass ) {\n\t\treturn ( ' ' + this.getClass() + ' ' ).indexOf( ' ' + cssClass + ' ' ) !== -1;\n\t},\n\n\n\t/**\n\t * Sets the inner HTML for the tag.\n\t *\n\t * @param {String} html The inner HTML to set.\n\t * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.\n\t */\n\tsetInnerHtml : function( html ) {\n\t\tthis.innerHtml = html;\n\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Retrieves the inner HTML for the tag.\n\t *\n\t * @return {String}\n\t */\n\tgetInnerHtml : function() {\n\t\treturn this.innerHtml || \"\";\n\t},\n\n\n\t/**\n\t * Override of superclass method used to generate the HTML string for the tag.\n\t *\n\t * @return {String}\n\t */\n\ttoAnchorString : function() {\n\t\tvar tagName = this.getTagName(),\n\t\t    attrsStr = this.buildAttrsStr();\n\n\t\tattrsStr = ( attrsStr ) ? ' ' + attrsStr : '';  // prepend a space if there are actually attributes\n\n\t\treturn [ '<', tagName, attrsStr, '>', this.getInnerHtml(), '</', tagName, '>' ].join( \"\" );\n\t},\n\n\n\t/**\n\t * Support method for {@link #toAnchorString}, returns the string space-separated key=\"value\" pairs, used to populate\n\t * the stringified HtmlTag.\n\t *\n\t * @protected\n\t * @return {String} Example return: `attr1=\"value1\" attr2=\"value2\"`\n\t */\n\tbuildAttrsStr : function() {\n\t\tif( !this.attrs ) return \"\";  // no `attrs` Object (map) has been set, return empty string\n\n\t\tvar attrs = this.getAttrs(),\n\t\t    attrsArr = [];\n\n\t\tfor( var prop in attrs ) {\n\t\t\tif( attrs.hasOwnProperty( prop ) ) {\n\t\t\t\tattrsArr.push( prop + '=\"' + attrs[ prop ] + '\"' );\n\t\t\t}\n\t\t}\n\t\treturn attrsArr.join( \" \" );\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.RegexLib\n * @singleton\n *\n * Builds and stores a library of the common regular expressions used by the\n * Autolinker utility.\n *\n * Other regular expressions may exist ad-hoc, but these are generally the\n * regular expressions that are shared between source files.\n */\nAutolinker.RegexLib = (function() {\n\n\t/**\n\t * The string form of a regular expression that would match all of the\n\t * alphabetic (\"letter\") chars in the unicode character set when placed in a\n\t * RegExp character class (`[]`). This includes all international alphabetic\n\t * characters.\n\t *\n\t * These would be the characters matched by unicode regex engines `\\p{L}`\n\t * escape (\"all letters\").\n\t *\n\t * Taken from the XRegExp library: http://xregexp.com/\n\t * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js\n\t *\n\t * @private\n\t * @type {String}\n\t */\n\tvar alphaCharsStr = 'A-Za-z\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC';\n\n\t/**\n\t * The string form of a regular expression that would match all of the\n\t * decimal number chars in the unicode character set when placed in a RegExp\n\t * character class (`[]`).\n\t *\n\t * These would be the characters matched by unicode regex engines `\\p{Nd}`\n\t * escape (\"all decimal numbers\")\n\t *\n\t * Taken from the XRegExp library: http://xregexp.com/\n\t * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js\n\t *\n\t * @private\n\t * @type {String}\n\t */\n\tvar decimalNumbersStr = '0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19';\n\n\n\t// See documentation below\n\tvar alphaNumericCharsStr = alphaCharsStr + decimalNumbersStr;\n\n\n\t// See documentation below\n\tvar domainNameRegex = new RegExp( '[' + alphaNumericCharsStr + '.\\\\-]*[' + alphaNumericCharsStr + '\\\\-]' );\n\n\n\t// See documentation below\n\tvar tldRegex = /(?:travelersinsurance|sandvikcoromant|kerryproperties|cancerresearch|weatherchannel|kerrylogistics|spreadbetting|international|wolterskluwer|lifeinsurance|construction|pamperedchef|scholarships|versicherung|bridgestone|creditunion|kerryhotels|investments|productions|blackfriday|enterprises|lamborghini|photography|motorcycles|williamhill|playstation|contractors|barclaycard|accountants|redumbrella|engineering|management|telefonica|protection|consulting|tatamotors|creditcard|vlaanderen|schaeffler|associates|properties|foundation|republican|bnpparibas|boehringer|eurovision|extraspace|industries|immobilien|university|technology|volkswagen|healthcare|restaurant|cuisinella|vistaprint|apartments|accountant|travelers|homedepot|institute|vacations|furniture|fresenius|insurance|christmas|bloomberg|solutions|barcelona|firestone|financial|kuokgroup|fairwinds|community|passagens|goldpoint|equipment|lifestyle|yodobashi|aquarelle|marketing|analytics|education|amsterdam|statefarm|melbourne|allfinanz|directory|microsoft|stockholm|montblanc|accenture|lancaster|landrover|everbank|istanbul|graphics|grainger|ipiranga|softbank|attorney|pharmacy|saarland|catering|airforce|yokohama|mortgage|frontier|mutuelle|stcgroup|memorial|pictures|football|symantec|cipriani|ventures|telecity|cityeats|verisign|flsmidth|boutique|cleaning|firmdale|clinique|clothing|redstone|infiniti|deloitte|feedback|services|broadway|plumbing|commbank|training|barclays|exchange|computer|brussels|software|delivery|barefoot|builders|business|bargains|engineer|holdings|download|security|helsinki|lighting|movistar|discount|hdfcbank|supplies|marriott|property|diamonds|capetown|partners|democrat|jpmorgan|bradesco|budapest|rexroth|zuerich|shriram|academy|science|support|youtube|singles|surgery|alibaba|statoil|dentist|schwarz|android|cruises|cricket|digital|markets|starhub|systems|courses|coupons|netbank|country|domains|corsica|network|neustar|realtor|lincoln|limited|schmidt|yamaxun|cooking|contact|auction|spiegel|liaison|leclerc|latrobe|lasalle|abogado|compare|lanxess|exposed|express|company|cologne|college|avianca|lacaixa|fashion|recipes|ferrero|komatsu|storage|wanggou|clubmed|sandvik|fishing|fitness|bauhaus|kitchen|flights|florist|flowers|watches|weather|temasek|samsung|bentley|forsale|channel|theater|frogans|theatre|okinawa|website|tickets|jewelry|gallery|tiffany|iselect|shiksha|brother|organic|wedding|genting|toshiba|origins|philips|hyundai|hotmail|hoteles|hosting|rentals|windows|cartier|bugatti|holiday|careers|whoswho|hitachi|panerai|caravan|reviews|guitars|capital|trading|hamburg|hangout|finance|stream|family|abbott|health|review|travel|report|hermes|hiphop|gratis|career|toyota|hockey|dating|repair|google|social|soccer|reisen|global|otsuka|giving|unicom|casino|photos|center|broker|rocher|orange|bostik|garden|insure|ryukyu|bharti|safety|physio|sakura|oracle|online|jaguar|gallup|piaget|tienda|futbol|pictet|joburg|webcam|berlin|office|juegos|kaufen|chanel|chrome|xihuan|church|tennis|circle|kinder|flickr|bayern|claims|clinic|viajes|nowruz|xperia|norton|yachts|studio|coffee|camera|sanofi|nissan|author|expert|events|comsec|lawyer|tattoo|viking|estate|villas|condos|realty|yandex|energy|emerck|virgin|vision|durban|living|school|coupon|london|taobao|natura|taipei|nagoya|luxury|walter|aramco|sydney|madrid|credit|maison|makeup|schule|market|anquan|direct|design|swatch|suzuki|alsace|vuelos|dental|alipay|voyage|shouji|voting|airtel|mutual|degree|supply|agency|museum|mobily|dealer|monash|select|mormon|active|moscow|racing|datsun|quebec|nissay|rodeo|email|gifts|works|photo|chloe|edeka|cheap|earth|vista|tushu|koeln|glass|shoes|globo|tunes|gmail|nokia|space|kyoto|black|ricoh|seven|lamer|sener|epson|cisco|praxi|trust|citic|crown|shell|lease|green|legal|lexus|ninja|tatar|gripe|nikon|group|video|wales|autos|gucci|party|nexus|guide|linde|adult|parts|amica|lixil|boats|azure|loans|locus|cymru|lotte|lotto|stada|click|poker|quest|dabur|lupin|nadex|paris|faith|dance|canon|place|gives|trade|skype|rocks|mango|cloud|boots|smile|final|swiss|homes|honda|media|horse|cards|deals|watch|bosch|house|pizza|miami|osaka|tours|total|xerox|coach|sucks|style|delta|toray|iinet|tools|money|codes|beats|tokyo|salon|archi|movie|baidu|study|actor|yahoo|store|apple|world|forex|today|bible|tmall|tirol|irish|tires|forum|reise|vegas|vodka|sharp|omega|weber|jetzt|audio|promo|build|bingo|chase|gallo|drive|dubai|rehab|press|solar|sale|beer|bbva|bank|band|auto|sapo|sarl|saxo|audi|asia|arte|arpa|army|yoga|ally|zara|scor|scot|sexy|seat|zero|seek|aero|adac|zone|aarp|maif|meet|meme|menu|surf|mini|mobi|mtpc|porn|desi|star|ltda|name|talk|navy|love|loan|live|link|news|limo|like|spot|life|nico|lidl|lgbt|land|taxi|team|tech|kred|kpmg|sony|song|kiwi|kddi|jprs|jobs|sohu|java|itau|tips|info|immo|icbc|hsbc|town|host|page|toys|here|help|pars|haus|guru|guge|tube|goog|golf|gold|sncf|gmbh|gift|ggee|gent|gbiz|game|vana|pics|fund|ford|ping|pink|fish|film|fast|farm|play|fans|fail|plus|skin|pohl|fage|moda|post|erni|dvag|prod|doha|prof|docs|viva|diet|luxe|site|dell|sina|dclk|show|qpon|date|vote|cyou|voto|read|coop|cool|wang|club|city|chat|cern|cash|reit|rent|casa|cars|care|camp|rest|call|cafe|weir|wien|rich|wiki|buzz|wine|book|bond|room|work|rsvp|shia|ruhr|blue|bing|shaw|bike|safe|xbox|best|pwc|mtn|lds|aig|boo|fyi|nra|nrw|ntt|car|gal|obi|zip|aeg|vin|how|one|ong|onl|dad|ooo|bet|esq|org|htc|bar|uol|ibm|ovh|gdn|ice|icu|uno|gea|ifm|bot|top|wtf|lol|day|pet|eus|wtc|ubs|tvs|aco|ing|ltd|ink|tab|abb|afl|cat|int|pid|pin|bid|cba|gle|com|cbn|ads|man|wed|ceb|gmo|sky|ist|gmx|tui|mba|fan|ski|iwc|app|pro|med|ceo|jcb|jcp|goo|dev|men|aaa|meo|pub|jlc|bom|jll|gop|jmp|mil|got|gov|win|jot|mma|joy|trv|red|cfa|cfd|bio|moe|moi|mom|ren|biz|aws|xin|bbc|dnp|buy|kfh|mov|thd|xyz|fit|kia|rio|rip|kim|dog|vet|nyc|bcg|mtr|bcn|bms|bmw|run|bzh|rwe|tel|stc|axa|kpn|fly|krd|cab|bnl|foo|crs|eat|tci|sap|srl|nec|sas|net|cal|sbs|sfr|sca|scb|csc|edu|new|xxx|hiv|fox|wme|ngo|nhk|vip|sex|frl|lat|yun|law|you|tax|soy|sew|om|ac|hu|se|sc|sg|sh|sb|sa|rw|ru|rs|ro|re|qa|py|si|pw|pt|ps|sj|sk|pr|pn|pm|pl|sl|sm|pk|sn|ph|so|pg|pf|pe|pa|zw|nz|nu|nr|np|no|nl|ni|ng|nf|sr|ne|st|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|su|mn|mm|ml|mk|mh|mg|me|sv|md|mc|sx|sy|ma|ly|lv|sz|lu|lt|ls|lr|lk|li|lc|lb|la|tc|kz|td|ky|kw|kr|kp|kn|km|ki|kh|tf|tg|th|kg|ke|jp|jo|jm|je|it|is|ir|tj|tk|tl|tm|iq|tn|to|io|in|im|il|ie|ad|sd|ht|hr|hn|hm|tr|hk|gy|gw|gu|gt|gs|gr|gq|tt|gp|gn|gm|gl|tv|gi|tw|tz|ua|gh|ug|uk|gg|gf|ge|gd|us|uy|uz|va|gb|ga|vc|ve|fr|fo|fm|fk|fj|vg|vi|fi|eu|et|es|er|eg|ee|ec|dz|do|dm|dk|vn|dj|de|cz|cy|cx|cw|vu|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|wf|bz|by|bw|bv|bt|bs|br|bo|bn|bm|bj|bi|ws|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ye|ar|aq|ao|am|al|yt|ai|za|ag|af|ae|zm|id)\\b/;\n\n\n\treturn {\n\n\t\t/**\n\t\t * The string form of a regular expression that would match all of the\n\t\t * letters and decimal number chars in the unicode character set when placed\n\t\t * in a RegExp character class (`[]`).\n\t\t *\n\t\t * These would be the characters matched by unicode regex engines `[\\p{L}\\p{Nd}]`\n\t\t * escape (\"all letters and decimal numbers\")\n\t\t *\n\t\t * @property {String} alphaNumericCharsStr\n\t\t */\n\t\talphaNumericCharsStr : alphaNumericCharsStr,\n\n\t\t/**\n\t\t * A regular expression to match domain names of a URL or email address.\n\t\t * Ex: 'google', 'yahoo', 'some-other-company', etc.\n\t\t *\n\t\t * @property {RegExp} domainNameRegex\n\t\t */\n\t\tdomainNameRegex : domainNameRegex,\n\n\t\t/**\n\t\t * A regular expression to match top level domains (TLDs) for a URL or\n\t\t * email address. Ex: 'com', 'org', 'net', etc.\n\t\t *\n\t\t * @property {RegExp} tldRegex\n\t\t */\n\t\ttldRegex : tldRegex\n\n\t};\n\n\n}() );\n/*global Autolinker */\n/*jshint sub:true */\n/**\n * @protected\n * @class Autolinker.AnchorTagBuilder\n * @extends Object\n *\n * Builds anchor (&lt;a&gt;) tags for the Autolinker utility when a match is\n * found.\n *\n * Normally this class is instantiated, configured, and used internally by an\n * {@link Autolinker} instance, but may actually be retrieved in a {@link Autolinker#replaceFn replaceFn}\n * to create {@link Autolinker.HtmlTag HtmlTag} instances which may be modified\n * before returning from the {@link Autolinker#replaceFn replaceFn}. For\n * example:\n *\n *     var html = Autolinker.link( \"Test google.com\", {\n *         replaceFn : function( autolinker, match ) {\n *             var tag = autolinker.getTagBuilder().build( match );  // returns an {@link Autolinker.HtmlTag} instance\n *             tag.setAttr( 'rel', 'nofollow' );\n *\n *             return tag;\n *         }\n *     } );\n *\n *     // generated html:\n *     //   Test <a href=\"http://google.com\" target=\"_blank\" rel=\"nofollow\">google.com</a>\n */\nAutolinker.AnchorTagBuilder = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Boolean} newWindow\n\t * @inheritdoc Autolinker#newWindow\n\t */\n\n\t/**\n\t * @cfg {Object} truncate\n\t * @inheritdoc Autolinker#truncate\n\t */\n\n\t/**\n\t * @cfg {String} className\n\t * @inheritdoc Autolinker#className\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} [cfg] The configuration options for the AnchorTagBuilder instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\t},\n\n\n\t/**\n\t * Generates the actual anchor (&lt;a&gt;) tag to use in place of the\n\t * matched text, via its `match` object.\n\t *\n\t * @param {Autolinker.match.Match} match The Match instance to generate an\n\t *   anchor tag from.\n\t * @return {Autolinker.HtmlTag} The HtmlTag instance for the anchor tag.\n\t */\n\tbuild : function( match ) {\n\t\treturn new Autolinker.HtmlTag( {\n\t\t\ttagName   : 'a',\n\t\t\tattrs     : this.createAttrs( match.getType(), match.getAnchorHref() ),\n\t\t\tinnerHtml : this.processAnchorText( match.getAnchorText() )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Creates the Object (map) of the HTML attributes for the anchor (&lt;a&gt;)\n\t *   tag being generated.\n\t *\n\t * @protected\n\t * @param {\"url\"/\"email\"/\"phone\"/\"twitter\"/\"hashtag\"} matchType The type of\n\t *   match that an anchor tag is being generated for.\n\t * @param {String} anchorHref The href for the anchor tag.\n\t * @return {Object} A key/value Object (map) of the anchor tag's attributes.\n\t */\n\tcreateAttrs : function( matchType, anchorHref ) {\n\t\tvar attrs = {\n\t\t\t'href' : anchorHref  // we'll always have the `href` attribute\n\t\t};\n\n\t\tvar cssClass = this.createCssClass( matchType );\n\t\tif( cssClass ) {\n\t\t\tattrs[ 'class' ] = cssClass;\n\t\t}\n\t\tif( this.newWindow ) {\n\t\t\tattrs[ 'target' ] = \"_blank\";\n\t\t\tattrs[ 'rel' ] = \"noopener noreferrer\";\n\t\t}\n\n\t\treturn attrs;\n\t},\n\n\n\t/**\n\t * Creates the CSS class that will be used for a given anchor tag, based on\n\t * the `matchType` and the {@link #className} config.\n\t *\n\t * @private\n\t * @param {\"url\"/\"email\"/\"phone\"/\"twitter\"/\"hashtag\"} matchType The type of\n\t *   match that an anchor tag is being generated for.\n\t * @return {String} The CSS class string for the link. Example return:\n\t *   \"myLink myLink-url\". If no {@link #className} was configured, returns\n\t *   an empty string.\n\t */\n\tcreateCssClass : function( matchType ) {\n\t\tvar className = this.className;\n\n\t\tif( !className )\n\t\t\treturn \"\";\n\t\telse\n\t\t\treturn className + \" \" + className + \"-\" + matchType;  // ex: \"myLink myLink-url\", \"myLink myLink-email\", \"myLink myLink-phone\", \"myLink myLink-twitter\", or \"myLink myLink-hashtag\"\n\t},\n\n\n\t/**\n\t * Processes the `anchorText` by truncating the text according to the\n\t * {@link #truncate} config.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The processed `anchorText`.\n\t */\n\tprocessAnchorText : function( anchorText ) {\n\t\tanchorText = this.doTruncate( anchorText );\n\n\t\treturn anchorText;\n\t},\n\n\n\t/**\n\t * Performs the truncation of the `anchorText` based on the {@link #truncate}\n\t * option. If the `anchorText` is longer than the length specified by the\n\t * {@link #truncate} option, the truncation is performed based on the\n\t * `location` property. See {@link #truncate} for details.\n\t *\n\t * @private\n\t * @param {String} anchorText The anchor tag's text (i.e. what will be\n\t *   displayed).\n\t * @return {String} The truncated anchor text.\n\t */\n\tdoTruncate : function( anchorText ) {\n\t\tvar truncate = this.truncate;\n\t\tif( !truncate || !truncate.length ) return anchorText;\n\n\t\tvar truncateLength = truncate.length,\n\t\t\ttruncateLocation = truncate.location;\n\n\t\tif( truncateLocation === 'smart' ) {\n\t\t\treturn Autolinker.truncate.TruncateSmart( anchorText, truncateLength, '..' );\n\n\t\t} else if( truncateLocation === 'middle' ) {\n\t\t\treturn Autolinker.truncate.TruncateMiddle( anchorText, truncateLength, '..' );\n\n\t\t} else {\n\t\t\treturn Autolinker.truncate.TruncateEnd( anchorText, truncateLength, '..' );\n\t\t}\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.HtmlParser\n * @extends Object\n *\n * An HTML parser implementation which simply walks an HTML string and returns an array of\n * {@link Autolinker.htmlParser.HtmlNode HtmlNodes} that represent the basic HTML structure of the input string.\n *\n * Autolinker uses this to only link URLs/emails/Twitter handles within text nodes, effectively ignoring / \"walking\n * around\" HTML tags.\n */\nAutolinker.htmlParser.HtmlParser = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlRegex\n\t *\n\t * The regular expression used to pull out HTML tags from a string. Handles namespaced HTML tags and\n\t * attribute names, as specified by http://www.w3.org/TR/html-markup/syntax.html.\n\t *\n\t * Capturing groups:\n\t *\n\t * 1. The \"!DOCTYPE\" tag name, if a tag is a &lt;!DOCTYPE&gt; tag.\n\t * 2. If it is an end tag, this group will have the '/'.\n\t * 3. If it is a comment tag, this group will hold the comment text (i.e.\n\t *    the text inside the `&lt;!--` and `--&gt;`.\n\t * 4. The tag name for all tags (other than the &lt;!DOCTYPE&gt; tag)\n\t */\n\thtmlRegex : (function() {\n\t\tvar commentTagRegex = /!--([\\s\\S]+?)--/,\n\t\t    tagNameRegex = /[0-9a-zA-Z][0-9a-zA-Z:]*/,\n\t\t    attrNameRegex = /[^\\s\"'>\\/=\\x00-\\x1F\\x7F]+/,   // the unicode range accounts for excluding control chars, and the delete char\n\t\t    attrValueRegex = /(?:\"[^\"]*?\"|'[^']*?'|[^'\"=<>`\\s]+)/, // double quoted, single quoted, or unquoted attribute values\n\t\t    nameEqualsValueRegex = attrNameRegex.source + '(?:\\\\s*=\\\\s*' + attrValueRegex.source + ')?';  // optional '=[value]'\n\n\t\treturn new RegExp( [\n\t\t\t// for <!DOCTYPE> tag. Ex: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t'(?:',\n\t\t\t\t'<(!DOCTYPE)',  // *** Capturing Group 1 - If it's a doctype tag\n\n\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\t'\\\\s+',  // one or more whitespace chars before an attribute\n\n\t\t\t\t\t\t// Either:\n\t\t\t\t\t\t// A. attr=\"value\", or\n\t\t\t\t\t\t// B. \"value\" alone (To cover example doctype tag: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">)\n\t\t\t\t\t\t'(?:', nameEqualsValueRegex, '|', attrValueRegex.source + ')',\n\t\t\t\t\t')*',\n\t\t\t\t'>',\n\t\t\t')',\n\n\t\t\t'|',\n\n\t\t\t// All other HTML tags (i.e. tags that are not <!DOCTYPE>)\n\t\t\t'(?:',\n\t\t\t\t'<(/)?',  // Beginning of a tag or comment. Either '<' for a start tag, or '</' for an end tag.\n\t\t\t\t          // *** Capturing Group 2: The slash or an empty string. Slash ('/') for end tag, empty string for start or self-closing tag.\n\n\t\t\t\t\t'(?:',\n\t\t\t\t\t\tcommentTagRegex.source,  // *** Capturing Group 3 - A Comment Tag's Text\n\n\t\t\t\t\t\t'|',\n\n\t\t\t\t\t\t'(?:',\n\n\t\t\t\t\t\t\t// *** Capturing Group 4 - The tag name\n\t\t\t\t\t\t\t'(' + tagNameRegex.source + ')',\n\n\t\t\t\t\t\t\t// Zero or more attributes following the tag name\n\t\t\t\t\t\t\t'(?:',\n\t\t\t\t\t\t\t\t'(?:\\\\s+|\\\\b)',        // any number of whitespace chars before an attribute. NOTE: Using \\s* here throws Chrome into an infinite loop for some reason, so using \\s+|\\b instead\n\t\t\t\t\t\t\t\tnameEqualsValueRegex,  // attr=\"value\" (with optional =\"value\" part)\n\t\t\t\t\t\t\t')*',\n\n\t\t\t\t\t\t\t'\\\\s*/?',  // any trailing spaces and optional '/' before the closing '>'\n\n\t\t\t\t\t\t')',\n\t\t\t\t\t')',\n\t\t\t\t'>',\n\t\t\t')'\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\t/**\n\t * @private\n\t * @property {RegExp} htmlCharacterEntitiesRegex\n\t *\n\t * The regular expression that matches common HTML character entities.\n\t *\n\t * Ignoring &amp; as it could be part of a query string -- handling it separately.\n\t */\n\thtmlCharacterEntitiesRegex: /(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,\n\n\n\t/**\n\t * Parses an HTML string and returns a simple array of {@link Autolinker.htmlParser.HtmlNode HtmlNodes}\n\t * to represent the HTML structure of the input string.\n\t *\n\t * @param {String} html The HTML to parse.\n\t * @return {Autolinker.htmlParser.HtmlNode[]}\n\t */\n\tparse : function( html ) {\n\t\tvar htmlRegex = this.htmlRegex,\n\t\t    currentResult,\n\t\t    lastIndex = 0,\n\t\t    textAndEntityNodes,\n\t\t    nodes = [];  // will be the result of the method\n\n\t\twhile( ( currentResult = htmlRegex.exec( html ) ) !== null ) {\n\t\t\tvar tagText = currentResult[ 0 ],\n\t\t\t    commentText = currentResult[ 3 ], // if we've matched a comment\n\t\t\t    tagName = currentResult[ 1 ] || currentResult[ 4 ],  // The <!DOCTYPE> tag (ex: \"!DOCTYPE\"), or another tag (ex: \"a\" or \"img\")\n\t\t\t    isClosingTag = !!currentResult[ 2 ],\n\t\t\t    offset = currentResult.index,\n\t\t\t    inBetweenTagsText = html.substring( lastIndex, offset );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( inBetweenTagsText ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( lastIndex, inBetweenTagsText );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\n\t\t\t// Push the CommentNode or ElementNode\n\t\t\tif( commentText ) {\n\t\t\t\tnodes.push( this.createCommentNode( offset, tagText, commentText ) );\n\t\t\t} else {\n\t\t\t\tnodes.push( this.createElementNode( offset, tagText, tagName, isClosingTag ) );\n\t\t\t}\n\n\t\t\tlastIndex = offset + tagText.length;\n\t\t}\n\n\t\t// Process any remaining text after the last HTML element. Will process all of the text if there were no HTML elements.\n\t\tif( lastIndex < html.length ) {\n\t\t\tvar text = html.substring( lastIndex );\n\n\t\t\t// Push TextNodes and EntityNodes for any text found between tags\n\t\t\tif( text ) {\n\t\t\t\ttextAndEntityNodes = this.parseTextAndEntityNodes( lastIndex, text );\n\t\t\t\tnodes.push.apply( nodes, textAndEntityNodes );\n\t\t\t}\n\t\t}\n\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Parses text and HTML entity nodes from a given string. The input string\n\t * should not have any HTML tags (elements) within it.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the text node match within the\n\t *   original HTML string.\n\t * @param {String} text The string of text to parse. This is from an HTML\n\t *   text node.\n\t * @return {Autolinker.htmlParser.HtmlNode[]} An array of HtmlNodes to\n\t *   represent the {@link Autolinker.htmlParser.TextNode TextNodes} and\n\t *   {@link Autolinker.htmlParser.EntityNode EntityNodes} found.\n\t */\n\tparseTextAndEntityNodes : function( offset, text ) {\n\t\tvar nodes = [],\n\t\t    textAndEntityTokens = Autolinker.Util.splitAndCapture( text, this.htmlCharacterEntitiesRegex );  // split at HTML entities, but include the HTML entities in the results array\n\n\t\t// Every even numbered token is a TextNode, and every odd numbered token is an EntityNode\n\t\t// For example: an input `text` of \"Test &quot;this&quot; today\" would turn into the\n\t\t//   `textAndEntityTokens`: [ 'Test ', '&quot;', 'this', '&quot;', ' today' ]\n\t\tfor( var i = 0, len = textAndEntityTokens.length; i < len; i += 2 ) {\n\t\t\tvar textToken = textAndEntityTokens[ i ],\n\t\t\t    entityToken = textAndEntityTokens[ i + 1 ];\n\n\t\t\tif( textToken ) {\n\t\t\t\tnodes.push( this.createTextNode( offset, textToken ) );\n\t\t\t\toffset += textToken.length;\n\t\t\t}\n\t\t\tif( entityToken ) {\n\t\t\t\tnodes.push( this.createEntityNode( offset, entityToken ) );\n\t\t\t\toffset += entityToken.length;\n\t\t\t}\n\t\t}\n\t\treturn nodes;\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.CommentNode CommentNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} tagText The full text of the tag (comment) that was\n\t *   matched, including its &lt;!-- and --&gt;.\n\t * @param {String} commentText The full text of the comment that was matched.\n\t */\n\tcreateCommentNode : function( offset, tagText, commentText ) {\n\t\treturn new Autolinker.htmlParser.CommentNode( {\n\t\t\toffset : offset,\n\t\t\ttext   : tagText,\n\t\t\tcomment: Autolinker.Util.trim( commentText )\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create an {@link Autolinker.htmlParser.ElementNode ElementNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} tagText The full text of the tag (element) that was\n\t *   matched, including its attributes.\n\t * @param {String} tagName The name of the tag. Ex: An &lt;img&gt; tag would\n\t *   be passed to this method as \"img\".\n\t * @param {Boolean} isClosingTag `true` if it's a closing tag, false\n\t *   otherwise.\n\t * @return {Autolinker.htmlParser.ElementNode}\n\t */\n\tcreateElementNode : function( offset, tagText, tagName, isClosingTag ) {\n\t\treturn new Autolinker.htmlParser.ElementNode( {\n\t\t\toffset  : offset,\n\t\t\ttext    : tagText,\n\t\t\ttagName : tagName.toLowerCase(),\n\t\t\tclosing : isClosingTag\n\t\t} );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.EntityNode EntityNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} text The text that was matched for the HTML entity (such\n\t *   as '&amp;nbsp;').\n\t * @return {Autolinker.htmlParser.EntityNode}\n\t */\n\tcreateEntityNode : function( offset, text ) {\n\t\treturn new Autolinker.htmlParser.EntityNode( { offset: offset, text: text } );\n\t},\n\n\n\t/**\n\t * Factory method to create a {@link Autolinker.htmlParser.TextNode TextNode}.\n\t *\n\t * @private\n\t * @param {Number} offset The offset of the match within the original HTML\n\t *   string.\n\t * @param {String} text The text that was matched.\n\t * @return {Autolinker.htmlParser.TextNode}\n\t */\n\tcreateTextNode : function( offset, text ) {\n\t\treturn new Autolinker.htmlParser.TextNode( { offset: offset, text: text } );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML node found in an input string. An HTML node is one of the\n * following:\n *\n * 1. An {@link Autolinker.htmlParser.ElementNode ElementNode}, which represents\n *    HTML tags.\n * 2. A {@link Autolinker.htmlParser.CommentNode CommentNode}, which represents\n *    HTML comments.\n * 3. A {@link Autolinker.htmlParser.TextNode TextNode}, which represents text\n *    outside or within HTML tags.\n * 4. A {@link Autolinker.htmlParser.EntityNode EntityNode}, which represents\n *    one of the known HTML entities that Autolinker looks for. This includes\n *    common ones such as &amp;quot; and &amp;nbsp;\n */\nAutolinker.htmlParser.HtmlNode = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Number} offset (required)\n\t *\n\t * The offset of the HTML node in the original text that was parsed.\n\t */\n\toffset : undefined,\n\n\t/**\n\t * @cfg {String} text (required)\n\t *\n\t * The text that was matched for the HtmlNode.\n\t *\n\t * - In the case of an {@link Autolinker.htmlParser.ElementNode ElementNode},\n\t *   this will be the tag's text.\n\t * - In the case of an {@link Autolinker.htmlParser.CommentNode CommentNode},\n\t *   this will be the comment's text.\n\t * - In the case of a {@link Autolinker.htmlParser.TextNode TextNode}, this\n\t *   will be the text itself.\n\t * - In the case of a {@link Autolinker.htmlParser.EntityNode EntityNode},\n\t *   this will be the text of the HTML entity.\n\t */\n\ttext : undefined,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t * specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.Util.assign( this, cfg );\n\n\t\tif( this.offset == null ) throw new Error( '`offset` cfg required' );\n\t\tif( this.text == null ) throw new Error( '`text` cfg required' );\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Retrieves the {@link #offset} of the HtmlNode. This is the offset of the\n\t * HTML node in the original string that was parsed.\n\t *\n\t * @return {Number}\n\t */\n\tgetOffset : function() {\n\t\treturn this.offset;\n\t},\n\n\n\t/**\n\t * Retrieves the {@link #text} for the HtmlNode.\n\t *\n\t * @return {String}\n\t */\n\tgetText : function() {\n\t\treturn this.text;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.CommentNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML comment node that has been parsed by the\n * {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.CommentNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} comment (required)\n\t *\n\t * The text inside the comment tag. This text is stripped of any leading or\n\t * trailing whitespace.\n\t */\n\tcomment : '',\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'comment';\n\t},\n\n\n\t/**\n\t * Returns the comment inside the comment tag.\n\t *\n\t * @return {String}\n\t */\n\tgetComment : function() {\n\t\treturn this.comment;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.ElementNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents an HTML element node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.ElementNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * @cfg {String} tagName (required)\n\t *\n\t * The name of the tag that was matched.\n\t */\n\ttagName : '',\n\n\t/**\n\t * @cfg {Boolean} closing (required)\n\t *\n\t * `true` if the element (tag) is a closing tag, `false` if its an opening\n\t * tag.\n\t */\n\tclosing : false,\n\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'element';\n\t},\n\n\n\t/**\n\t * Returns the HTML element's (tag's) name. Ex: for an &lt;img&gt; tag,\n\t * returns \"img\".\n\t *\n\t * @return {String}\n\t */\n\tgetTagName : function() {\n\t\treturn this.tagName;\n\t},\n\n\n\t/**\n\t * Determines if the HTML element (tag) is a closing tag. Ex: &lt;div&gt;\n\t * returns `false`, while &lt;/div&gt; returns `true`.\n\t *\n\t * @return {Boolean}\n\t */\n\tisClosing : function() {\n\t\treturn this.closing;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.EntityNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a known HTML entity node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n * Ex: '&amp;nbsp;', or '&amp#160;' (which will be retrievable from the {@link #getText}\n * method.\n *\n * Note that this class will only be returned from the HtmlParser for the set of\n * checked HTML entity nodes  defined by the {@link Autolinker.htmlParser.HtmlParser#htmlCharacterEntitiesRegex}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.EntityNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'entity';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.htmlParser.TextNode\n * @extends Autolinker.htmlParser.HtmlNode\n *\n * Represents a text node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.\n *\n * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more\n * details.\n */\nAutolinker.htmlParser.TextNode = Autolinker.Util.extend( Autolinker.htmlParser.HtmlNode, {\n\n\t/**\n\t * Returns a string name for the type of node that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'text';\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.match.Match\n *\n * Represents a match found in an input string which should be Autolinked. A Match object is what is provided in a\n * {@link Autolinker#replaceFn replaceFn}, and may be used to query for details about the match.\n *\n * For example:\n *\n *     var input = \"...\";  // string with URLs, Email Addresses, and Twitter Handles\n *\n *     var linkedText = Autolinker.link( input, {\n *         replaceFn : function( autolinker, match ) {\n *             console.log( \"href = \", match.getAnchorHref() );\n *             console.log( \"text = \", match.getAnchorText() );\n *\n *             switch( match.getType() ) {\n *                 case 'url' :\n *                     console.log( \"url: \", match.getUrl() );\n *\n *                 case 'email' :\n *                     console.log( \"email: \", match.getEmail() );\n *\n *                 case 'twitter' :\n *                     console.log( \"twitter: \", match.getTwitterHandle() );\n *             }\n *         }\n *     } );\n *\n * See the {@link Autolinker} class for more details on using the {@link Autolinker#replaceFn replaceFn}.\n */\nAutolinker.match.Match = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)\n\t *\n\t * Reference to the AnchorTagBuilder instance to use to generate an anchor\n\t * tag for the Match.\n\t */\n\n\t/**\n\t * @cfg {String} matchedText (required)\n\t *\n\t * The original text that was matched by the {@link Autolinker.matcher.Matcher}.\n\t */\n\n\t/**\n\t * @cfg {Number} offset (required)\n\t *\n\t * The offset of where the match was made in the input string.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tif( cfg.tagBuilder == null ) throw new Error( '`tagBuilder` cfg required' );\n\t\tif( cfg.matchedText == null ) throw new Error( '`matchedText` cfg required' );\n\t\tif( cfg.offset == null ) throw new Error( '`offset` cfg required' );\n\n\t\tthis.tagBuilder = cfg.tagBuilder;\n\t\tthis.matchedText = cfg.matchedText;\n\t\tthis.offset = cfg.offset;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetType : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the original text that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetMatchedText : function() {\n\t\treturn this.matchedText;\n\t},\n\n\n\t/**\n\t * Sets the {@link #offset} of where the match was made in the input string.\n\t *\n\t * A {@link Autolinker.matcher.Matcher} will be fed only HTML text nodes,\n\t * and will therefore set an original offset that is relative to the HTML\n\t * text node itself. However, we want this offset to be relative to the full\n\t * HTML input string, and thus if using {@link Autolinker#parse} (rather\n\t * than calling a {@link Autolinker.matcher.Matcher} directly), then this\n\t * offset is corrected after the Matcher itself has done its job.\n\t *\n\t * @param {Number} offset\n\t */\n\tsetOffset : function( offset ) {\n\t\tthis.offset = offset;\n\t},\n\n\n\t/**\n\t * Returns the offset of where the match was made in the input string. This\n\t * is the 0-based index of the match.\n\t *\n\t * @return {Number}\n\t */\n\tgetOffset : function() {\n\t\treturn this.offset;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorHref : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @abstract\n\t * @return {String}\n\t */\n\tgetAnchorText : Autolinker.Util.abstractMethod,\n\n\n\t/**\n\t * Builds and returns an {@link Autolinker.HtmlTag} instance based on the\n\t * Match.\n\t *\n\t * This can be used to easily generate anchor tags from matches, and either\n\t * return their HTML string, or modify them before doing so.\n\t *\n\t * Example Usage:\n\t *\n\t *     var tag = match.buildTag();\n\t *     tag.addClass( 'cordova-link' );\n\t *     tag.setAttr( 'target', '_system' );\n\t *\n\t *     tag.toAnchorString();  // <a href=\"http://google.com\" class=\"cordova-link\" target=\"_system\">Google</a>\n\t */\n\tbuildTag : function() {\n\t\treturn this.tagBuilder.build( this );\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Email\n * @extends Autolinker.match.Match\n *\n * Represents a Email match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Email = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} email (required)\n\t *\n\t * The email address that was matched.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.email ) throw new Error( '`email` cfg required' );\n\n\t\tthis.email = cfg.email;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'email';\n\t},\n\n\n\t/**\n\t * Returns the email address that was matched.\n\t *\n\t * @return {String}\n\t */\n\tgetEmail : function() {\n\t\treturn this.email;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'mailto:' + this.email;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.email;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Hashtag\n * @extends Autolinker.match.Match\n *\n * Represents a Hashtag match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Hashtag = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\t/**\n\t * @cfg {String} hashtag (required)\n\t *\n\t * The Hashtag that was matched, without the '#'.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\t// TODO: if( !serviceName ) throw new Error( '`serviceName` cfg required' );\n\t\tif( !cfg.hashtag ) throw new Error( '`hashtag` cfg required' );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t\tthis.hashtag = cfg.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'hashtag';\n\t},\n\n\n\t/**\n\t * Returns the configured {@link #serviceName} to point the Hashtag to.\n\t * Ex: 'facebook', 'twitter'.\n\t *\n\t * @return {String}\n\t */\n\tgetServiceName : function() {\n\t\treturn this.serviceName;\n\t},\n\n\n\t/**\n\t * Returns the matched hashtag, without the '#' character.\n\t *\n\t * @return {String}\n\t */\n\tgetHashtag : function() {\n\t\treturn this.hashtag;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar serviceName = this.serviceName,\n\t\t    hashtag = this.hashtag;\n\n\t\tswitch( serviceName ) {\n\t\t\tcase 'twitter' :\n\t\t\t\treturn 'https://twitter.com/hashtag/' + hashtag;\n\t\t\tcase 'facebook' :\n\t\t\t\treturn 'https://www.facebook.com/hashtag/' + hashtag;\n\t\t\tcase 'instagram' :\n\t\t\t\treturn 'https://instagram.com/explore/tags/' + hashtag;\n\n\t\t\tdefault :  // Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.\n\t\t\t\tthrow new Error( 'Unknown service name to point hashtag to: ', serviceName );\n\t\t}\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '#' + this.hashtag;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Phone\n * @extends Autolinker.match.Match\n *\n * Represents a Phone number match found in an input string which should be\n * Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more\n * details.\n */\nAutolinker.match.Phone = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @protected\n\t * @property {String} number (required)\n\t *\n\t * The phone number that was matched, without any delimiter characters.\n\t *\n\t * Note: This is a string to allow for prefixed 0's.\n\t */\n\n\t/**\n\t * @protected\n\t * @property  {Boolean} plusSign (required)\n\t *\n\t * `true` if the matched phone number started with a '+' sign. We'll include\n\t * it in the `tel:` URL if so, as this is needed for international numbers.\n\t *\n\t * Ex: '+1 (123) 456 7879'\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.number ) throw new Error( '`number` cfg required' );\n\t\tif( cfg.plusSign == null ) throw new Error( '`plusSign` cfg required' );\n\n\t\tthis.number = cfg.number;\n\t\tthis.plusSign = cfg.plusSign;\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'phone';\n\t},\n\n\n\t/**\n\t * Returns the phone number that was matched as a string, without any\n\t * delimiter characters.\n\t *\n\t * Note: This is a string to allow for prefixed 0's.\n\t *\n\t * @return {String}\n\t */\n\tgetNumber: function() {\n\t\treturn this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'tel:' + ( this.plusSign ? '+' : '' ) + this.number;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn this.matchedText;\n\t}\n\n} );\n\n/*global Autolinker */\n/**\n * @class Autolinker.match.Twitter\n * @extends Autolinker.match.Match\n *\n * Represents a Twitter match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Twitter = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} twitterHandle (required)\n\t *\n\t * The Twitter handle that was matched, without the '@' character.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( !cfg.twitterHandle ) throw new Error( '`twitterHandle` cfg required' );\n\n\t\tthis.twitterHandle = cfg.twitterHandle;\n\t},\n\n\n\t/**\n\t * Returns the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'twitter';\n\t},\n\n\n\t/**\n\t * Returns the twitter handle, without the '@' character.\n\t *\n\t * @return {String}\n\t */\n\tgetTwitterHandle : function() {\n\t\treturn this.twitterHandle;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\treturn 'https://twitter.com/' + this.twitterHandle;\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\treturn '@' + this.twitterHandle;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.match.Url\n * @extends Autolinker.match.Match\n *\n * Represents a Url match found in an input string which should be Autolinked.\n *\n * See this class's superclass ({@link Autolinker.match.Match}) for more details.\n */\nAutolinker.match.Url = Autolinker.Util.extend( Autolinker.match.Match, {\n\n\t/**\n\t * @cfg {String} url (required)\n\t *\n\t * The url that was matched.\n\t */\n\n\t/**\n\t * @cfg {\"scheme\"/\"www\"/\"tld\"} urlMatchType (required)\n\t *\n\t * The type of URL match that this class represents. This helps to determine\n\t * if the match was made in the original text with a prefixed scheme (ex:\n\t * 'http://www.google.com'), a prefixed 'www' (ex: 'www.google.com'), or\n\t * was matched by a known top-level domain (ex: 'google.com').\n\t */\n\n\t/**\n\t * @cfg {Boolean} protocolUrlMatch (required)\n\t *\n\t * `true` if the URL is a match which already has a protocol (i.e.\n\t * 'http://'), `false` if the match was from a 'www' or known TLD match.\n\t */\n\n\t/**\n\t * @cfg {Boolean} protocolRelativeMatch (required)\n\t *\n\t * `true` if the URL is a protocol-relative match. A protocol-relative match\n\t * is a URL that starts with '//', and will be either http:// or https://\n\t * based on the protocol that the site is loaded under.\n\t */\n\n\t/**\n\t * @cfg {Boolean} stripPrefix (required)\n\t * @inheritdoc Autolinker#cfg-stripPrefix\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.match.Match.prototype.constructor.call( this, cfg );\n\n\t\tif( cfg.urlMatchType !== 'scheme' && cfg.urlMatchType !== 'www' && cfg.urlMatchType !== 'tld' ) throw new Error( '`urlMatchType` cfg must be one of: \"scheme\", \"www\", or \"tld\"' );\n\t\tif( !cfg.url ) throw new Error( '`url` cfg required' );\n\t\tif( cfg.protocolUrlMatch == null ) throw new Error( '`protocolUrlMatch` cfg required' );\n\t\tif( cfg.protocolRelativeMatch == null ) throw new Error( '`protocolRelativeMatch` cfg required' );\n\t\tif( cfg.stripPrefix == null ) throw new Error( '`stripPrefix` cfg required' );\n\n\t\tthis.urlMatchType = cfg.urlMatchType;\n\t\tthis.url = cfg.url;\n\t\tthis.protocolUrlMatch = cfg.protocolUrlMatch;\n\t\tthis.protocolRelativeMatch = cfg.protocolRelativeMatch;\n\t\tthis.stripPrefix = cfg.stripPrefix;\n\t},\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} urlPrefixRegex\n\t *\n\t * A regular expression used to remove the 'http://' or 'https://' and/or the 'www.' from URLs.\n\t */\n\turlPrefixRegex: /^(https?:\\/\\/)?(www\\.)?/i,\n\n\t/**\n\t * @private\n\t * @property {RegExp} protocolRelativeRegex\n\t *\n\t * The regular expression used to remove the protocol-relative '//' from the {@link #url} string, for purposes\n\t * of {@link #getAnchorText}. A protocol-relative URL is, for example, \"//yahoo.com\"\n\t */\n\tprotocolRelativeRegex : /^\\/\\//,\n\n\t/**\n\t * @private\n\t * @property {Boolean} protocolPrepended\n\t *\n\t * Will be set to `true` if the 'http://' protocol has been prepended to the {@link #url} (because the\n\t * {@link #url} did not have a protocol)\n\t */\n\tprotocolPrepended : false,\n\n\n\t/**\n\t * Returns a string name for the type of match that this class represents.\n\t *\n\t * @return {String}\n\t */\n\tgetType : function() {\n\t\treturn 'url';\n\t},\n\n\n\t/**\n\t * Returns a string name for the type of URL match that this class\n\t * represents.\n\t *\n\t * This helps to determine if the match was made in the original text with a\n\t * prefixed scheme (ex: 'http://www.google.com'), a prefixed 'www' (ex:\n\t * 'www.google.com'), or was matched by a known top-level domain (ex:\n\t * 'google.com').\n\t *\n\t * @return {\"scheme\"/\"www\"/\"tld\"}\n\t */\n\tgetUrlMatchType : function() {\n\t\treturn this.urlMatchType;\n\t},\n\n\n\t/**\n\t * Returns the url that was matched, assuming the protocol to be 'http://' if the original\n\t * match was missing a protocol.\n\t *\n\t * @return {String}\n\t */\n\tgetUrl : function() {\n\t\tvar url = this.url;\n\n\t\t// if the url string doesn't begin with a protocol, assume 'http://'\n\t\tif( !this.protocolRelativeMatch && !this.protocolUrlMatch && !this.protocolPrepended ) {\n\t\t\turl = this.url = 'http://' + url;\n\n\t\t\tthis.protocolPrepended = true;\n\t\t}\n\n\t\treturn url;\n\t},\n\n\n\t/**\n\t * Returns the anchor href that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorHref : function() {\n\t\tvar url = this.getUrl();\n\n\t\treturn url.replace( /&amp;/g, '&' );  // any &amp;'s in the URL should be converted back to '&' if they were displayed as &amp; in the source html\n\t},\n\n\n\t/**\n\t * Returns the anchor text that should be generated for the match.\n\t *\n\t * @return {String}\n\t */\n\tgetAnchorText : function() {\n\t\tvar anchorText = this.getMatchedText();\n\n\t\tif( this.protocolRelativeMatch ) {\n\t\t\t// Strip off any protocol-relative '//' from the anchor text\n\t\t\tanchorText = this.stripProtocolRelativePrefix( anchorText );\n\t\t}\n\t\tif( this.stripPrefix ) {\n\t\t\tanchorText = this.stripUrlPrefix( anchorText );\n\t\t}\n\t\tanchorText = this.removeTrailingSlash( anchorText );  // remove trailing slash, if there is one\n\n\t\treturn anchorText;\n\t},\n\n\n\t// ---------------------------------------\n\n\t// Utility Functionality\n\n\t/**\n\t * Strips the URL prefix (such as \"http://\" or \"https://\") from the given text.\n\t *\n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   url prefix (such as stripping off \"http://\")\n\t * @return {String} The `anchorText`, with the prefix stripped.\n\t */\n\tstripUrlPrefix : function( text ) {\n\t\treturn text.replace( this.urlPrefixRegex, '' );\n\t},\n\n\n\t/**\n\t * Strips any protocol-relative '//' from the anchor text.\n\t *\n\t * @private\n\t * @param {String} text The text of the anchor that is being generated, for which to strip off the\n\t *   protocol-relative prefix (such as stripping off \"//\")\n\t * @return {String} The `anchorText`, with the protocol-relative prefix stripped.\n\t */\n\tstripProtocolRelativePrefix : function( text ) {\n\t\treturn text.replace( this.protocolRelativeRegex, '' );\n\t},\n\n\n\t/**\n\t * Removes any trailing slash from the given `anchorText`, in preparation for the text to be displayed.\n\t *\n\t * @private\n\t * @param {String} anchorText The text of the anchor that is being generated, for which to remove any trailing\n\t *   slash ('/') that may exist.\n\t * @return {String} The `anchorText`, with the trailing slash removed.\n\t */\n\tremoveTrailingSlash : function( anchorText ) {\n\t\tif( anchorText.charAt( anchorText.length - 1 ) === '/' ) {\n\t\t\tanchorText = anchorText.slice( 0, -1 );\n\t\t}\n\t\treturn anchorText;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @abstract\n * @class Autolinker.matcher.Matcher\n *\n * An abstract class and interface for individual matchers to find matches in\n * an input string with linkified versions of them.\n *\n * Note that Matchers do not take HTML into account - they must be fed the text\n * nodes of any HTML string, which is handled by {@link Autolinker#parse}.\n */\nAutolinker.matcher.Matcher = Autolinker.Util.extend( Object, {\n\n\t/**\n\t * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)\n\t *\n\t * Reference to the AnchorTagBuilder instance to use to generate HTML tags\n\t * for {@link Autolinker.match.Match Matches}.\n\t */\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Matcher\n\t *   instance, specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tif( !cfg.tagBuilder ) throw new Error( '`tagBuilder` cfg required' );\n\n\t\tthis.tagBuilder = cfg.tagBuilder;\n\t},\n\n\n\t/**\n\t * Parses the input `text` and returns the array of {@link Autolinker.match.Match Matches}\n\t * for the matcher.\n\t *\n\t * @abstract\n\t * @param {String} text The text to scan and replace matches in.\n\t * @return {Autolinker.match.Match[]}\n\t */\n\tparseMatches : Autolinker.Util.abstractMethod\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Email\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find email matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.\n */\nAutolinker.matcher.Email = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match email addresses. Example match:\n\t *\n\t *     person@place.com\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : (function() {\n\t\tvar alphaNumericChars = Autolinker.RegexLib.alphaNumericCharsStr,\n\t\t    emailRegex = new RegExp( '[' + alphaNumericChars + '\\\\-_\\';:&=+$.,]+@' ),  // something@ for email addresses (a.k.a. local-part)\n\t\t\tdomainNameRegex = Autolinker.RegexLib.domainNameRegex,\n\t\t\ttldRegex = Autolinker.RegexLib.tldRegex;  // match our known top level domains (TLDs)\n\n\t\treturn new RegExp( [\n\t\t\temailRegex.source,\n\t\t\tdomainNameRegex.source,\n\t\t\t'\\\\.', tldRegex.source   // '.com', '.net', etc\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar matchedText = match[ 0 ];\n\n\t\t\tmatches.push( new Autolinker.match.Email( {\n\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\tmatchedText : matchedText,\n\t\t\t\toffset      : match.index,\n\t\t\t\temail       : matchedText\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Hashtag\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find Hashtag matches in an input string.\n */\nAutolinker.matcher.Hashtag = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * @cfg {String} serviceName\n\t *\n\t * The service to point hashtag matches to. See {@link Autolinker#hashtag}\n\t * for available values.\n\t */\n\n\n\t/**\n\t * The regular expression to match Hashtags. Example match:\n\t *\n\t *     #asdf\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : new RegExp( '#[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,139}', 'g' ),\n\n\t/**\n\t * The regular expression to use to check the character before a username match to\n\t * make sure we didn't accidentally match an email address.\n\t *\n\t * For example, the string \"asdf@asdf.com\" should not match \"@asdf\" as a username.\n\t *\n\t * @private\n\t * @property {RegExp} nonWordCharRegex\n\t */\n\tnonWordCharRegex : new RegExp( '[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tthis.serviceName = cfg.serviceName;\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    nonWordCharRegex = this.nonWordCharRegex,\n\t\t    serviceName = this.serviceName,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar offset = match.index,\n\t\t\t    prevChar = text.charAt( offset - 1 );\n\n\t\t\t// If we found the match at the beginning of the string, or we found the match\n\t\t\t// and there is a whitespace char in front of it (meaning it is not a '#' char\n\t\t\t// in the middle of a word), then it is a hashtag match.\n\t\t\tif( offset === 0 || nonWordCharRegex.test( prevChar ) ) {\n\t\t\t\tvar matchedText = match[ 0 ],\n\t\t\t\t    hashtag = match[ 0 ].slice( 1 );  // strip off the '#' character at the beginning\n\n\t\t\t\tmatches.push( new Autolinker.match.Hashtag( {\n\t\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\t\tmatchedText : matchedText,\n\t\t\t\t\toffset      : offset,\n\t\t\t\t\tserviceName : serviceName,\n\t\t\t\t\thashtag     : hashtag\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Phone\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find Phone number matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more\n * details.\n */\nAutolinker.matcher.Phone = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match Phone numbers. Example match:\n\t *\n\t *     (123) 456-7890\n\t *\n\t * This regular expression has the following capturing groups:\n\t *\n\t * 1. The prefixed '+' sign, if there is one.\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : /(?:(\\+)?\\d{1,3}[-\\040.])?\\(?\\d{3}\\)?[-\\040.]?\\d{3}[-\\040.]\\d{4}/g,  // ex: (123) 456-7890, 123 456 7890, 123-456-7890, etc.\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\t// Remove non-numeric values from phone number string\n\t\t\tvar matchedText = match[ 0 ],\n\t\t\t    cleanNumber = matchedText.replace( /\\D/g, '' ),  // strip out non-digit characters\n\t\t\t    plusSign = !!match[ 1 ];  // match[ 1 ] is the prefixed plus sign, if there is one\n\n\t\t\tmatches.push( new Autolinker.match.Phone( {\n\t\t\t\ttagBuilder  : tagBuilder,\n\t\t\t\tmatchedText : matchedText,\n\t\t\t\toffset      : match.index,\n\t\t\t\tnumber      : cleanNumber,\n\t\t\t\tplusSign    : plusSign\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Twitter\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find/replace username matches in an input string.\n */\nAutolinker.matcher.Twitter = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * The regular expression to match username handles. Example match:\n\t *\n\t *     @asdf\n\t *\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t */\n\tmatcherRegex : new RegExp( '@[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,20}', 'g' ),\n\n\t/**\n\t * The regular expression to use to check the character before a username match to\n\t * make sure we didn't accidentally match an email address.\n\t *\n\t * For example, the string \"asdf@asdf.com\" should not match \"@asdf\" as a username.\n\t *\n\t * @private\n\t * @property {RegExp} nonWordCharRegex\n\t */\n\tnonWordCharRegex : new RegExp( '[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']' ),\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    nonWordCharRegex = this.nonWordCharRegex,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar offset = match.index,\n\t\t\t    prevChar = text.charAt( offset - 1 );\n\n\t\t\t// If we found the match at the beginning of the string, or we found the match\n\t\t\t// and there is a whitespace char in front of it (meaning it is not an email\n\t\t\t// address), then it is a username match.\n\t\t\tif( offset === 0 || nonWordCharRegex.test( prevChar ) ) {\n\t\t\t\tvar matchedText = match[ 0 ],\n\t\t\t\t    twitterHandle = match[ 0 ].slice( 1 );  // strip off the '@' character at the beginning\n\n\t\t\t\tmatches.push( new Autolinker.match.Twitter( {\n\t\t\t\t\ttagBuilder    : tagBuilder,\n\t\t\t\t\tmatchedText   : matchedText,\n\t\t\t\t\toffset        : offset,\n\t\t\t\t\ttwitterHandle : twitterHandle\n\t\t\t\t} ) );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t}\n\n} );\n/*global Autolinker */\n/**\n * @class Autolinker.matcher.Url\n * @extends Autolinker.matcher.Matcher\n *\n * Matcher to find URL matches in an input string.\n *\n * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.\n */\nAutolinker.matcher.Url = Autolinker.Util.extend( Autolinker.matcher.Matcher, {\n\n\t/**\n\t * @cfg {Boolean} stripPrefix (required)\n\t * @inheritdoc Autolinker#stripPrefix\n\t */\n\n\n\t/**\n\t * @private\n\t * @property {RegExp} matcherRegex\n\t *\n\t * The regular expression to match URLs with an optional scheme, port\n\t * number, path, query string, and hash anchor.\n\t *\n\t * Example matches:\n\t *\n\t *     http://google.com\n\t *     www.google.com\n\t *     google.com/path/to/file?q1=1&q2=2#myAnchor\n\t *\n\t *\n\t * This regular expression will have the following capturing groups:\n\t *\n\t * 1.  Group that matches a scheme-prefixed URL (i.e. 'http://google.com').\n\t *     This is used to match scheme URLs with just a single word, such as\n\t *     'http://localhost', where we won't double check that the domain name\n\t *     has at least one dot ('.') in it.\n\t * 2.  Group that matches a 'www.' prefixed URL. This is only matched if the\n\t *     'www.' text was not prefixed by a scheme (i.e.: not prefixed by\n\t *     'http://', 'ftp:', etc.)\n\t * 3.  A protocol-relative ('//') match for the case of a 'www.' prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     We need to know the character before the '//' in order to determine\n\t *     if it is a valid match or the // was in a string we don't want to\n\t *     auto-link.\n\t * 4.  Group that matches a known TLD (top level domain), when a scheme\n\t *     or 'www.'-prefixed domain is not matched.\n\t * 5.  A protocol-relative ('//') match for the case of a known TLD prefixed\n\t *     URL. Will be an empty string if it is not a protocol-relative match.\n\t *     See #3 for more info.\n\t */\n\tmatcherRegex : (function() {\n\t\tvar schemeRegex = /(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\\/\\/)(?!\\d+\\/?)(?:\\/\\/)?)/,  // match protocol, allow in format \"http://\" or \"mailto:\". However, do not match the first part of something like 'link:http://www.google.com' (i.e. don't match \"link:\"). Also, make sure we don't interpret 'google.com:8000' as if 'google.com' was a protocol here (i.e. ignore a trailing port number in this regex)\n\t\t    wwwRegex = /(?:www\\.)/,                  // starting with 'www.'\n\t\t    domainNameRegex = Autolinker.RegexLib.domainNameRegex,\n\t\t    tldRegex = Autolinker.RegexLib.tldRegex,  // match our known top level domains (TLDs)\n\t\t    alphaNumericCharsStr = Autolinker.RegexLib.alphaNumericCharsStr,\n\n\t\t    // Allow optional path, query string, and hash anchor, not ending in the following characters: \"?!:,.;\"\n\t\t    // http://blog.codinghorror.com/the-problem-with-urls/\n\t\t    urlSuffixRegex = new RegExp( '[' + alphaNumericCharsStr + '\\\\-+&@#/%=~_()|\\'$*\\\\[\\\\]?!:,.;]*[' + alphaNumericCharsStr + '\\\\-+&@#/%=~_()|\\'$*\\\\[\\\\]]' );\n\n\t\treturn new RegExp( [\n\t\t\t'(?:', // parens to cover match for scheme (optional), and domain\n\t\t\t\t'(',  // *** Capturing group $1, for a scheme-prefixed url (ex: http://google.com)\n\t\t\t\t\tschemeRegex.source,\n\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t')',\n\n\t\t\t\t'|',\n\n\t\t\t\t'(',  // *** Capturing group $2, for a 'www.' prefixed url (ex: www.google.com)\n\t\t\t\t\t'(//)?',  // *** Capturing group $3 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)\n\t\t\t\t\twwwRegex.source,\n\t\t\t\t\tdomainNameRegex.source,\n\t\t\t\t')',\n\n\t\t\t\t'|',\n\n\t\t\t\t'(',  // *** Capturing group $4, for known a TLD url (ex: google.com)\n\t\t\t\t\t'(//)?',  // *** Capturing group $5 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)\n\t\t\t\t\tdomainNameRegex.source + '\\\\.',\n\t\t\t\t\ttldRegex.source,\n\t\t\t\t')',\n\t\t\t')',\n\n\t\t\t'(?:' + urlSuffixRegex.source + ')?'  // match for path, query string, and/or hash anchor - optional\n\t\t].join( \"\" ), 'gi' );\n\t} )(),\n\n\n\t/**\n\t * A regular expression to use to check the character before a protocol-relative\n\t * URL match. We don't want to match a protocol-relative URL if it is part\n\t * of another word.\n\t *\n\t * For example, we want to match something like \"Go to: //google.com\",\n\t * but we don't want to match something like \"abc//google.com\"\n\t *\n\t * This regular expression is used to test the character before the '//'.\n\t *\n\t * @private\n\t * @type {RegExp} wordCharRegExp\n\t */\n\twordCharRegExp : /\\w/,\n\n\n\t/**\n\t * The regular expression to match opening parenthesis in a URL match.\n\t *\n\t * This is to determine if we have unbalanced parenthesis in the URL, and to\n\t * drop the final parenthesis that was matched if so.\n\t *\n\t * Ex: The text \"(check out: wikipedia.com/something_(disambiguation))\"\n\t * should only autolink the inner \"wikipedia.com/something_(disambiguation)\"\n\t * part, so if we find that we have unbalanced parenthesis, we will drop the\n\t * last one for the match.\n\t *\n\t * @private\n\t * @property {RegExp}\n\t */\n\topenParensRe : /\\(/g,\n\n\t/**\n\t * The regular expression to match closing parenthesis in a URL match. See\n\t * {@link #openParensRe} for more information.\n\t *\n\t * @private\n\t * @property {RegExp}\n\t */\n\tcloseParensRe : /\\)/g,\n\n\n\t/**\n\t * @constructor\n\t * @param {Object} cfg The configuration properties for the Match instance,\n\t *   specified in an Object (map).\n\t */\n\tconstructor : function( cfg ) {\n\t\tAutolinker.matcher.Matcher.prototype.constructor.call( this, cfg );\n\n\t\tthis.stripPrefix = cfg.stripPrefix;\n\n\t\tif( this.stripPrefix == null ) throw new Error( '`stripPrefix` cfg required' );\n\t},\n\n\n\t/**\n\t * @inheritdoc\n\t */\n\tparseMatches : function( text ) {\n\t\tvar matcherRegex = this.matcherRegex,\n\t\t    stripPrefix = this.stripPrefix,\n\t\t    tagBuilder = this.tagBuilder,\n\t\t    matches = [],\n\t\t    match;\n\n\t\twhile( ( match = matcherRegex.exec( text ) ) !== null ) {\n\t\t\tvar matchStr = match[ 0 ],\n\t\t\t    schemeUrlMatch = match[ 1 ],\n\t\t\t    wwwUrlMatch = match[ 2 ],\n\t\t\t    wwwProtocolRelativeMatch = match[ 3 ],\n\t\t\t    //tldUrlMatch = match[ 4 ],  -- not needed at the moment\n\t\t\t    tldProtocolRelativeMatch = match[ 5 ],\n\t\t\t    offset = match.index,\n\t\t\t    protocolRelativeMatch = wwwProtocolRelativeMatch || tldProtocolRelativeMatch,\n\t\t\t\tprevChar = text.charAt( offset - 1 );\n\n\t\t\tif( !Autolinker.matcher.UrlMatchValidator.isValid( matchStr, schemeUrlMatch ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the match is preceded by an '@' character, then it is either\n\t\t\t// an email address or a username. Skip these types of matches.\n\t\t\tif( offset > 0 && prevChar === '@' ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If it's a protocol-relative '//' match, but the character before the '//'\n\t\t\t// was a word character (i.e. a letter/number), then we found the '//' in the\n\t\t\t// middle of another word (such as \"asdf//asdf.com\"). In this case, skip the\n\t\t\t// match.\n\t\t\tif( offset > 0 && protocolRelativeMatch && this.wordCharRegExp.test( prevChar ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Handle a closing parenthesis at the end of the match, and exclude\n\t\t\t// it if there is not a matching open parenthesis in the match\n\t\t\t// itself.\n\t\t\tif( this.matchHasUnbalancedClosingParen( matchStr ) ) {\n\t\t\t\tmatchStr = matchStr.substr( 0, matchStr.length - 1 );  // remove the trailing \")\"\n\t\t\t} else {\n\t\t\t\t// Handle an invalid character after the TLD\n\t\t\t\tvar pos = this.matchHasInvalidCharAfterTld( matchStr, schemeUrlMatch );\n\t\t\t\tif( pos > -1 ) {\n\t\t\t\t\tmatchStr = matchStr.substr( 0, pos ); // remove the trailing invalid chars\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar urlMatchType = schemeUrlMatch ? 'scheme' : ( wwwUrlMatch ? 'www' : 'tld' ),\n\t\t\t    protocolUrlMatch = !!schemeUrlMatch;\n\n\t\t\tmatches.push( new Autolinker.match.Url( {\n\t\t\t\ttagBuilder            : tagBuilder,\n\t\t\t\tmatchedText           : matchStr,\n\t\t\t\toffset                : offset,\n\t\t\t\turlMatchType          : urlMatchType,\n\t\t\t\turl                   : matchStr,\n\t\t\t\tprotocolUrlMatch      : protocolUrlMatch,\n\t\t\t\tprotocolRelativeMatch : !!protocolRelativeMatch,\n\t\t\t\tstripPrefix           : stripPrefix\n\t\t\t} ) );\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\n\t/**\n\t * Determines if a match found has an unmatched closing parenthesis. If so,\n\t * this parenthesis will be removed from the match itself, and appended\n\t * after the generated anchor tag.\n\t *\n\t * A match may have an extra closing parenthesis at the end of the match\n\t * because the regular expression must include parenthesis for URLs such as\n\t * \"wikipedia.com/something_(disambiguation)\", which should be auto-linked.\n\t *\n\t * However, an extra parenthesis *will* be included when the URL itself is\n\t * wrapped in parenthesis, such as in the case of \"(wikipedia.com/something_(disambiguation))\".\n\t * In this case, the last closing parenthesis should *not* be part of the\n\t * URL itself, and this method will return `true`.\n\t *\n\t * @private\n\t * @param {String} matchStr The full match string from the {@link #matcherRegex}.\n\t * @return {Boolean} `true` if there is an unbalanced closing parenthesis at\n\t *   the end of the `matchStr`, `false` otherwise.\n\t */\n\tmatchHasUnbalancedClosingParen : function( matchStr ) {\n\t\tvar lastChar = matchStr.charAt( matchStr.length - 1 );\n\n\t\tif( lastChar === ')' ) {\n\t\t\tvar openParensMatch = matchStr.match( this.openParensRe ),\n\t\t\t    closeParensMatch = matchStr.match( this.closeParensRe ),\n\t\t\t    numOpenParens = ( openParensMatch && openParensMatch.length ) || 0,\n\t\t\t    numCloseParens = ( closeParensMatch && closeParensMatch.length ) || 0;\n\n\t\t\tif( numOpenParens < numCloseParens ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\n\t/**\n\t * Determine if there's an invalid character after the TLD in a URL. Valid\n\t * characters after TLD are ':/?#'. Exclude scheme matched URLs from this\n\t * check.\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} schemeUrlMatch The match URL string for a scheme\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Number} the position where the invalid character was found. If\n\t *   no such character was found, returns -1\n\t */\n\tmatchHasInvalidCharAfterTld : function( urlMatch, schemeUrlMatch ) {\n\t\tif( !urlMatch ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tvar offset = 0;\n\t\tif ( schemeUrlMatch ) {\n\t\t\toffset = urlMatch.indexOf(':');\n\t\t\turlMatch = urlMatch.slice(offset);\n\t\t}\n\n\t\tvar re = /^((.?\\/\\/)?[A-Za-z0-9\\u00C0-\\u017F\\.\\-]*[A-Za-z0-9\\u00C0-\\u017F\\-]\\.[A-Za-z]+)/;\n\t\tvar res = re.exec( urlMatch );\n\t\tif ( res === null ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\toffset += res[1].length;\n\t\turlMatch = urlMatch.slice(res[1].length);\n\t\tif (/^[^.A-Za-z:\\/?#]/.test(urlMatch)) {\n\t\t\treturn offset;\n\t\t}\n\n\t\treturn -1;\n\t}\n\n} );\n/*global Autolinker */\n/*jshint scripturl:true */\n/**\n * @private\n * @class Autolinker.matcher.UrlMatchValidator\n * @singleton\n *\n * Used by Autolinker to filter out false URL positives from the\n * {@link Autolinker.matcher.Url UrlMatcher}.\n *\n * Due to the limitations of regular expressions (including the missing feature\n * of look-behinds in JS regular expressions), we cannot always determine the\n * validity of a given match. This class applies a bit of additional logic to\n * filter out any false positives that have been matched by the\n * {@link Autolinker.matcher.Url UrlMatcher}.\n */\nAutolinker.matcher.UrlMatchValidator = {\n\n\t/**\n\t * Regex to test for a full protocol, with the two trailing slashes. Ex: 'http://'\n\t *\n\t * @private\n\t * @property {RegExp} hasFullProtocolRegex\n\t */\n\thasFullProtocolRegex : /^[A-Za-z][-.+A-Za-z0-9]*:\\/\\//,\n\n\t/**\n\t * Regex to find the URI scheme, such as 'mailto:'.\n\t *\n\t * This is used to filter out 'javascript:' and 'vbscript:' schemes.\n\t *\n\t * @private\n\t * @property {RegExp} uriSchemeRegex\n\t */\n\turiSchemeRegex : /^[A-Za-z][-.+A-Za-z0-9]*:/,\n\n\t/**\n\t * Regex to determine if at least one word char exists after the protocol (i.e. after the ':')\n\t *\n\t * @private\n\t * @property {RegExp} hasWordCharAfterProtocolRegex\n\t */\n\thasWordCharAfterProtocolRegex : /:[^\\s]*?[A-Za-z\\u00C0-\\u017F]/,\n\n\t/**\n\t * Regex to determine if the string is a valid IP address\n\t *\n\t * @private\n\t * @property {RegExp} ipRegex\n\t */\n\tipRegex: /[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?\\.[0-9][0-9]?[0-9]?(:[0-9]*)?\\/?$/,\n\n\t/**\n\t * Determines if a given URL match found by the {@link Autolinker.matcher.Url UrlMatcher}\n\t * is valid. Will return `false` for:\n\t *\n\t * 1) URL matches which do not have at least have one period ('.') in the\n\t *    domain name (effectively skipping over matches like \"abc:def\").\n\t *    However, URL matches with a protocol will be allowed (ex: 'http://localhost')\n\t * 2) URL matches which do not have at least one word character in the\n\t *    domain name (effectively skipping over matches like \"git:1.0\").\n\t * 3) A protocol-relative url match (a URL beginning with '//') whose\n\t *    previous character is a word character (effectively skipping over\n\t *    strings like \"abc//google.com\")\n\t *\n\t * Otherwise, returns `true`.\n\t *\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the match given is valid and should be\n\t *   processed, or `false` if the match is invalid and/or should just not be\n\t *   processed.\n\t */\n\tisValid : function( urlMatch, protocolUrlMatch ) {\n\t\tif(\n\t\t\t( protocolUrlMatch && !this.isValidUriScheme( protocolUrlMatch ) ) ||\n\t\t\tthis.urlMatchDoesNotHaveProtocolOrDot( urlMatch, protocolUrlMatch ) ||    // At least one period ('.') must exist in the URL match for us to consider it an actual URL, *unless* it was a full protocol match (like 'http://localhost')\n\t\t\t(this.urlMatchDoesNotHaveAtLeastOneWordChar( urlMatch, protocolUrlMatch ) && // At least one letter character must exist in the domain name after a protocol match. Ex: skip over something like \"git:1.0\"\n\t\t\t !this.isValidIpAddress( urlMatch ) // Except if it's an IP address\n\t\t\t)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\n\tisValidIpAddress : function ( uriSchemeMatch ) {\n\t\tvar newRegex = new RegExp(this.hasFullProtocolRegex.source + this.ipRegex.source);\n\t\tvar uriScheme = uriSchemeMatch.match( newRegex );\n\n\t\treturn uriScheme !== null;\n\t},\n\n\t/**\n\t * Determines if the URI scheme is a valid scheme to be autolinked. Returns\n\t * `false` if the scheme is 'javascript:' or 'vbscript:'\n\t *\n\t * @private\n\t * @param {String} uriSchemeMatch The match URL string for a full URI scheme\n\t *   match. Ex: 'http://yahoo.com' or 'mailto:a@a.com'.\n\t * @return {Boolean} `true` if the scheme is a valid one, `false` otherwise.\n\t */\n\tisValidUriScheme : function( uriSchemeMatch ) {\n\t\tvar uriScheme = uriSchemeMatch.match( this.uriSchemeRegex )[ 0 ].toLowerCase();\n\n\t\treturn ( uriScheme !== 'javascript:' && uriScheme !== 'vbscript:' );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have either:\n\t *\n\t * a) a full protocol (i.e. 'http://'), or\n\t * b) at least one dot ('.') in the domain name (for a non-full-protocol\n\t *    match).\n\t *\n\t * Either situation is considered an invalid URL (ex: 'git:d' does not have\n\t * either the '://' part, or at least one dot in the domain name. If the\n\t * match was 'git:abc.com', we would consider this valid.)\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to match something like\n\t *   'http://localhost', where we won't double check that the domain name\n\t *   has at least one '.' in it.\n\t * @return {Boolean} `true` if the URL match does not have a full protocol,\n\t *   or at least one dot ('.') in a non-full-protocol match.\n\t */\n\turlMatchDoesNotHaveProtocolOrDot : function( urlMatch, protocolUrlMatch ) {\n\t\treturn ( !!urlMatch && ( !protocolUrlMatch || !this.hasFullProtocolRegex.test( protocolUrlMatch ) ) && urlMatch.indexOf( '.' ) === -1 );\n\t},\n\n\n\t/**\n\t * Determines if a URL match does not have at least one word character after\n\t * the protocol (i.e. in the domain name).\n\t *\n\t * At least one letter character must exist in the domain name after a\n\t * protocol match. Ex: skip over something like \"git:1.0\"\n\t *\n\t * @private\n\t * @param {String} urlMatch The matched URL, if there was one. Will be an\n\t *   empty string if the match is not a URL match.\n\t * @param {String} protocolUrlMatch The match URL string for a protocol\n\t *   match. Ex: 'http://yahoo.com'. This is used to know whether or not we\n\t *   have a protocol in the URL string, in order to check for a word\n\t *   character after the protocol separator (':').\n\t * @return {Boolean} `true` if the URL match does not have at least one word\n\t *   character in it after the protocol, `false` otherwise.\n\t */\n\turlMatchDoesNotHaveAtLeastOneWordChar : function( urlMatch, protocolUrlMatch ) {\n\t\tif( urlMatch && protocolUrlMatch ) {\n\t\t\treturn !this.hasWordCharAfterProtocolRegex.test( urlMatch );\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n};\n/*global Autolinker */\n/**\n * A truncation feature where the ellipsis will be placed at the end of the URL.\n *\n * @param {String} anchorText\n * @param {Number} truncateLen The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateEnd = function(anchorText, truncateLen, ellipsisChars){\n\treturn Autolinker.Util.ellipsis( anchorText, truncateLen, ellipsisChars );\n};\n\n/*global Autolinker */\n/**\n * Date: 2015-10-05\n * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed in the dead-center of the URL.\n *\n * @param {String} url             A URL.\n * @param {Number} truncateLen     The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars   The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateMiddle = function(url, truncateLen, ellipsisChars){\n  if (url.length <= truncateLen) {\n    return url;\n  }\n  var availableLength = truncateLen - ellipsisChars.length;\n  var end = \"\";\n  if (availableLength > 0) {\n    end = url.substr((-1)*Math.floor(availableLength/2));\n  }\n  return (url.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, truncateLen);\n};\n\n/*global Autolinker */\n/**\n * Date: 2015-10-05\n * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed at a section within\n * the URL making it still somewhat human readable.\n *\n * @param {String} url\t\t\t\t\t\t A URL.\n * @param {Number} truncateLen\t\t The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars\t The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nAutolinker.truncate.TruncateSmart = function(url, truncateLen, ellipsisChars){\n\tvar parse_url = function(url){ // Functionality inspired by PHP function of same name\n\t\tvar urlObj = {};\n\t\tvar urlSub = url;\n\t\tvar match = urlSub.match(/^([a-z]+):\\/\\//i);\n\t\tif (match) {\n\t\t\turlObj.scheme = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^(.*?)(?=(\\?|#|\\/|$))/i);\n\t\tif (match) {\n\t\t\turlObj.host = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^\\/(.*?)(?=(\\?|#|$))/i);\n\t\tif (match) {\n\t\t\turlObj.path = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^\\?(.*?)(?=(#|$))/i);\n\t\tif (match) {\n\t\t\turlObj.query = match[1];\n\t\t\turlSub = urlSub.substr(match[0].length);\n\t\t}\n\t\tmatch = urlSub.match(/^#(.*?)$/i);\n\t\tif (match) {\n\t\t\turlObj.fragment = match[1];\n\t\t\t//urlSub = urlSub.substr(match[0].length);  -- not used. Uncomment if adding another block.\n\t\t}\n\t\treturn urlObj;\n\t};\n\n\tvar buildUrl = function(urlObj){\n\t\tvar url = \"\";\n\t\tif (urlObj.scheme && urlObj.host) {\n\t\t\turl += urlObj.scheme + \"://\";\n\t\t}\n\t\tif (urlObj.host) {\n\t\t\turl += urlObj.host;\n\t\t}\n\t\tif (urlObj.path) {\n\t\t\turl += \"/\" + urlObj.path;\n\t\t}\n\t\tif (urlObj.query) {\n\t\t\turl += \"?\" + urlObj.query;\n\t\t}\n\t\tif (urlObj.fragment) {\n\t\t\turl += \"#\" + urlObj.fragment;\n\t\t}\n\t\treturn url;\n\t};\n\n\tvar buildSegment = function(segment, remainingAvailableLength){\n\t\tvar remainingAvailableLengthHalf = remainingAvailableLength/ 2,\n\t\t\t\tstartOffset = Math.ceil(remainingAvailableLengthHalf),\n\t\t\t\tendOffset = (-1)*Math.floor(remainingAvailableLengthHalf),\n\t\t\t\tend = \"\";\n\t\tif (endOffset < 0) {\n\t\t\tend = segment.substr(endOffset);\n\t\t}\n\t\treturn segment.substr(0, startOffset) + ellipsisChars + end;\n\t};\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\tvar availableLength = truncateLen - ellipsisChars.length;\n\tvar urlObj = parse_url(url);\n\t// Clean up the URL\n\tif (urlObj.query) {\n\t\tvar matchQuery = urlObj.query.match(/^(.*?)(?=(\\?|\\#))(.*?)$/i);\n\t\tif (matchQuery) {\n\t\t\t// Malformed URL; two or more \"?\". Removed any content behind the 2nd.\n\t\t\turlObj.query = urlObj.query.substr(0, matchQuery[1].length);\n\t\t\turl = buildUrl(urlObj);\n\t\t}\n\t}\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\tif (urlObj.host) {\n\t\turlObj.host = urlObj.host.replace(/^www\\./, \"\");\n\t\turl = buildUrl(urlObj);\n\t}\n\tif (url.length <= truncateLen) {\n\t\treturn url;\n\t}\n\t// Process and build the URL\n\tvar str = \"\";\n\tif (urlObj.host) {\n\t\tstr += urlObj.host;\n\t}\n\tif (str.length >= availableLength) {\n\t\tif (urlObj.host.length == truncateLen) {\n\t\t\treturn (urlObj.host.substr(0, (truncateLen - ellipsisChars.length)) + ellipsisChars).substr(0, truncateLen);\n\t\t}\n\t\treturn buildSegment(str, availableLength).substr(0, truncateLen);\n\t}\n\tvar pathAndQuery = \"\";\n\tif (urlObj.path) {\n\t\tpathAndQuery += \"/\" + urlObj.path;\n\t}\n\tif (urlObj.query) {\n\t\tpathAndQuery += \"?\" + urlObj.query;\n\t}\n\tif (pathAndQuery) {\n\t\tif ((str+pathAndQuery).length >= availableLength) {\n\t\t\tif ((str+pathAndQuery).length == truncateLen) {\n\t\t\t\treturn (str + pathAndQuery).substr(0, truncateLen);\n\t\t\t}\n\t\t\tvar remainingAvailableLength = availableLength - str.length;\n\t\t\treturn (str + buildSegment(pathAndQuery, remainingAvailableLength)).substr(0, truncateLen);\n\t\t} else {\n\t\t\tstr += pathAndQuery;\n\t\t}\n\t}\n\tif (urlObj.fragment) {\n\t\tvar fragment = \"#\"+urlObj.fragment;\n\t\tif ((str+fragment).length >= availableLength) {\n\t\t\tif ((str+fragment).length == truncateLen) {\n\t\t\t\treturn (str + fragment).substr(0, truncateLen);\n\t\t\t}\n\t\t\tvar remainingAvailableLength2 = availableLength - str.length;\n\t\t\treturn (str + buildSegment(fragment, remainingAvailableLength2)).substr(0, truncateLen);\n\t\t} else {\n\t\t\tstr += fragment;\n\t\t}\n\t}\n\tif (urlObj.scheme && urlObj.host) {\n\t\tvar scheme = urlObj.scheme + \"://\";\n\t\tif ((str+scheme).length < availableLength) {\n\t\t\treturn (scheme + str).substr(0, truncateLen);\n\t\t}\n\t}\n\tif (str.length <= truncateLen) {\n\t\treturn str;\n\t}\n\tvar end = \"\";\n\tif (availableLength > 0) {\n\t\tend = str.substr((-1)*Math.floor(availableLength/2));\n\t}\n\treturn (str.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, truncateLen);\n};\n\nreturn Autolinker;\n}));\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar Ruler      = require('./ruler');\nvar StateBlock = require('./rules_block/state_block');\n\n/**\n * Parser rules\n */\n\nvar _rules = [\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fences',     require('./rules_block/fences'),     [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'blockquote' ] ],\n  [ 'footnote',   require('./rules_block/footnote'),   [ 'paragraph' ] ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'htmlblock',  require('./rules_block/htmlblock'),  [ 'paragraph', 'blockquote' ] ],\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph' ] ],\n  [ 'deflist',    require('./rules_block/deflist'),    [ 'paragraph' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n/**\n * Block Parser class\n *\n * @api private\n */\n\nfunction ParserBlock() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], {\n      alt: (_rules[i][2] || []).slice()\n    });\n  }\n}\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state` Has properties like `src`, `parser`, `options` etc\n * @param  {Number} `startLine`\n * @param  {Number} `endLine`\n * @api private\n */\n\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var line = startLine;\n  var hasEmptyLines = false;\n  var ok, i;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.tShift[line] < state.blkIndent) {\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        break;\n      }\n    }\n\n    // set state.tight iff we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n\n      // two empty lines should stop the parser in list mode\n      if (line < endLine && state.parentType === 'list' && state.isEmpty(line)) { break; }\n      state.line = line;\n    }\n  }\n};\n\nvar TABS_SCAN_RE = /[\\n\\t]/g;\nvar NEWLINES_RE  = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g;\nvar SPACES_RE    = /\\u00a0/g;\n\n/**\n * Tokenize the given `str`.\n *\n * @param  {String} `str` Source string\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserBlock.prototype.parse = function (str, options, env, outTokens) {\n  var state, lineStart = 0, lastTabPos = 0;\n  if (!str) { return []; }\n\n  // Normalize spaces\n  str = str.replace(SPACES_RE, ' ');\n\n  // Normalize newlines\n  str = str.replace(NEWLINES_RE, '\\n');\n\n  // Replace tabs with proper number of spaces (1..4)\n  if (str.indexOf('\\t') >= 0) {\n    str = str.replace(TABS_SCAN_RE, function (match, offset) {\n      var result;\n      if (str.charCodeAt(offset) === 0x0A) {\n        lineStart = offset + 1;\n        lastTabPos = 0;\n        return match;\n      }\n      result = '    '.slice((offset - lineStart - lastTabPos) % 4);\n      lastTabPos = offset - lineStart + 1;\n      return result;\n    });\n  }\n\n  state = new StateBlock(str, this, options, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n/**\n * Expose `ParserBlock`\n */\n\nmodule.exports = ParserBlock;\n","// Parser state class\n\n'use strict';\n\n\nfunction StateBlock(src, parser, options, env, tokens) {\n  var ch, s, start, pos, len, indent, indent_found;\n\n  this.src = src;\n\n  // Shortcuts to simplify nested calls\n  this.parser = parser;\n\n  this.options = options;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // indent for each line\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.parentType = 'root'; // if `list`, block parser stops on two newlines\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent = 0;\n  indent_found = false;\n\n  for (start = pos = indent = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (ch === 0x20/* space */) {\n        indent++;\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n\n      indent_found = false;\n      indent = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== 0x20/* space */) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, first, last, queue, shift,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  // Opt: don't use push queue for single line;\n  if (line + 1 === end) {\n    first = this.bMarks[line] + Math.min(this.tShift[line], indent);\n    last = keepLastLF ? this.eMarks[line] + 1 : this.eMarks[line];\n    return this.src.slice(first, last);\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    shift = this.tShift[line];\n    if (shift > indent) { shift = indent; }\n    if (shift < 0) { shift = 0; }\n\n    first = this.bMarks[line] + shift;\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    queue[i] = this.src.slice(first, last);\n  }\n\n  return queue.join('');\n};\n\n\nmodule.exports = StateBlock;\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last;\n\n  if (state.tShift[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'code',\n    content: state.getLines(startLine, last, 4 + state.blkIndent, true),\n    block: true,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fences(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  params = state.src.slice(pos, max).trim();\n\n  if (params.indexOf('`') >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.tShift[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  state.tokens.push({\n    type: 'fence',\n    params: params,\n    content: state.getLines(startLine + 1, nextLine, len, true),\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n};\n","// Block quotes\n\n'use strict';\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var nextLine, lastLineEmpty, oldTShift, oldBMarks, oldIndent, oldParentType, lines,\n      terminatorRules,\n      i, l, terminate,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos > max) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  // check if we have an empty blockquote\n  pos = pos < max ? state.skipSpaces(pos) : pos;\n  lastLineEmpty = pos >= max;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.parser.ruler.getRules('blockquote');\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */) {\n      // This line is inside the blockquote.\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      pos = pos < max ? state.skipSpaces(pos) : pos;\n      lastLineEmpty = pos >= max;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n\n    // A negative number means that this is a paragraph continuation;\n    //\n    // Any negative number will do the job here, but it's better for it\n    // to be large enough to make any bugs obvious.\n    state.tShift[nextLine] = -1337;\n  }\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  state.tokens.push({\n    type: 'blockquote_open',\n    lines: lines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.parser.tokenize(state, startLine, nextLine);\n  state.tokens.push({\n    type: 'blockquote_close',\n    level: --state.level\n  });\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine];\n\n  pos += state.tShift[startLine];\n\n  if (pos > max) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 one\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && ch !== 0x20/* space */) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n  state.tokens.push({\n    type: 'hr',\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\n\n// Search `[-+*][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  if (pos >= max) { return -1; }\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20/* space */) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var nextLine,\n      indent,\n      oldTShift,\n      oldIndent,\n      oldTight,\n      oldParentType,\n      start,\n      posAfterMarker,\n      max,\n      indentAfterMarker,\n      markerValue,\n      markerCharCode,\n      isOrdered,\n      contentStart,\n      listTokIdx,\n      prevEmptyEnd,\n      listLines,\n      itemLines,\n      tight = true,\n      terminatorRules,\n      i, l, terminate;\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    state.tokens.push({\n      type: 'ordered_list_open',\n      order: markerValue,\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n  } else {\n    state.tokens.push({\n      type: 'bullet_list_open',\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n  }\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.parser.ruler.getRules('list');\n\n  while (nextLine < endLine) {\n    contentStart = state.skipSpaces(posAfterMarker);\n    max = state.eMarks[nextLine];\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = contentStart - posAfterMarker;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // If indent is less than 1, assume that it's one, example:\n    //  \"-\\n  test\"\n    if (indentAfterMarker < 1) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = (posAfterMarker - state.bMarks[nextLine]) + indentAfterMarker;\n\n    // Run subparser & write tokens\n    state.tokens.push({\n      type: 'list_item_open',\n      lines: itemLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldParentType = state.parentType;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.parentType = 'list';\n\n    state.parser.tokenize(state, startLine, endLine, true);\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.tight = oldTight;\n    state.parentType = oldParentType;\n\n    state.tokens.push({\n      type: 'list_item_close',\n      level: --state.level\n    });\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    if (state.isEmpty(nextLine)) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: isOrdered ? 'ordered_list_close' : 'bullet_list_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Process footnote reference list\n\n'use strict';\n\n\nmodule.exports = function footnote(state, startLine, endLine, silent) {\n  var oldBMark, oldTShift, oldParentType, pos, label,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) { return false; }\n\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n  if (silent) { return true; }\n  pos++;\n\n  if (!state.env.footnotes) { state.env.footnotes = {}; }\n  if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n  label = state.src.slice(start + 2, pos - 2);\n  state.env.footnotes.refs[':' + label] = -1;\n\n  state.tokens.push({\n    type: 'footnote_reference_open',\n    label: label,\n    level: state.level++\n  });\n\n  oldBMark = state.bMarks[startLine];\n  oldTShift = state.tShift[startLine];\n  oldParentType = state.parentType;\n  state.tShift[startLine] = state.skipSpaces(pos) - pos;\n  state.bMarks[startLine] = pos;\n  state.blkIndent += 4;\n  state.parentType = 'footnote';\n\n  if (state.tShift[startLine] < state.blkIndent) {\n    state.tShift[startLine] += state.blkIndent;\n    state.bMarks[startLine] -= state.blkIndent;\n  }\n\n  state.parser.tokenize(state, startLine, endLine, true);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.bMarks[startLine] = oldBMark;\n\n  state.tokens.push({\n    type: 'footnote_reference_close',\n    level: --state.level\n  });\n\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos >= max) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && ch !== 0x20/* space */)) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipCharsBack(max, 0x20, pos); // space\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && state.src.charCodeAt(tmp - 1) === 0x20/* space */) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  state.tokens.push({ type: 'heading_open',\n    hLevel: level,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  // only if header is not empty\n  if (pos < max) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.slice(pos, max).trim(),\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n  }\n  state.tokens.push({ type: 'heading_close', hLevel: level, level: state.level });\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var marker, pos, max,\n      next = startLine + 1;\n\n  if (next >= endLine) { return false; }\n  if (state.tShift[next] < state.blkIndent) { return false; }\n\n  // Scan next line\n\n  if (state.tShift[next] - state.blkIndent > 3) { return false; }\n\n  pos = state.bMarks[next] + state.tShift[next];\n  max = state.eMarks[next];\n\n  if (pos >= max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x2D/* - */ && marker !== 0x3D/* = */) { return false; }\n\n  pos = state.skipChars(pos, marker);\n\n  pos = state.skipSpaces(pos);\n\n  if (pos < max) { return false; }\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n\n  state.line = next + 1;\n  state.tokens.push({\n    type: 'heading_open',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n  state.tokens.push({\n    type: 'inline',\n    content: state.src.slice(pos, state.eMarks[startLine]).trim(),\n    level: state.level + 1,\n    lines: [ startLine, state.line - 1 ],\n    children: []\n  });\n  state.tokens.push({\n    type: 'heading_close',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    level: state.level\n  });\n\n  return true;\n};\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nmodule.exports = function htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (block_names[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\nvar html_blocks = {};\n\n[\n  'article',\n  'aside',\n  'button',\n  'blockquote',\n  'body',\n  'canvas',\n  'caption',\n  'col',\n  'colgroup',\n  'dd',\n  'div',\n  'dl',\n  'dt',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'iframe',\n  'li',\n  'map',\n  'object',\n  'ol',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'script',\n  'section',\n  'style',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'tr',\n  'thead',\n  'ul',\n  'video'\n].forEach(function (name) { html_blocks[name] = true; });\n\n\nmodule.exports = html_blocks;\n","// GFM table, non-standard\n\n'use strict';\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, rows, cell,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least three lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n\n  // first character of the second line should be '|' or '-'\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  lineText = getLine(state, startLine + 1);\n  if (!/^[-:| ]+$/.test(lineText)) { return false; }\n\n  rows = lineText.split('|');\n  if (rows <= 2) { return false; }\n  aligns = [];\n  for (i = 0; i < rows.length; i++) {\n    t = rows[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === rows.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n  if (aligns.length !== rows.length) { return false; }\n  if (silent) { return true; }\n\n  state.tokens.push({\n    type: 'table_open',\n    lines: tableLines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.tokens.push({\n    type: 'thead_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n\n  state.tokens.push({\n    type: 'tr_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n  for (i = 0; i < rows.length; i++) {\n    state.tokens.push({\n      type: 'th_open',\n      align: aligns[i],\n      lines: [ startLine, startLine + 1 ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: rows[i].trim(),\n      lines: [ startLine, startLine + 1 ],\n      level: state.level,\n      children: []\n    });\n    state.tokens.push({ type: 'th_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tr_close', level: --state.level });\n  state.tokens.push({ type: 'thead_close', level: --state.level });\n\n  state.tokens.push({\n    type: 'tbody_open',\n    lines: tbodyLines = [ startLine + 2, 0 ],\n    level: state.level++\n  });\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n\n    state.tokens.push({ type: 'tr_open', level: state.level++ });\n    for (i = 0; i < rows.length; i++) {\n      state.tokens.push({ type: 'td_open', align: aligns[i], level: state.level++ });\n      // 0x7c === '|'\n      cell = rows[i].substring(\n          rows[i].charCodeAt(0) === 0x7c ? 1 : 0,\n          rows[i].charCodeAt(rows[i].length - 1) === 0x7c ? rows[i].length - 1 : rows[i].length\n      ).trim();\n      state.tokens.push({\n        type: 'inline',\n        content: cell,\n        level: state.level,\n        children: []\n      });\n      state.tokens.push({ type: 'td_close', level: --state.level });\n    }\n    state.tokens.push({ type: 'tr_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tbody_close', level: --state.level });\n  state.tokens.push({ type: 'table_close', level: --state.level });\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","// Definition lists\n\n'use strict';\n\n\n// Search `[:~][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipMarker(state, line) {\n  var pos, marker,\n      start = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  if (start >= max) { return -1; }\n\n  // Check bullet\n  marker = state.src.charCodeAt(start++);\n  if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n  pos = state.skipSpaces(start);\n\n  // require space after \":\"\n  if (start === pos) { return -1; }\n\n  // no empty definitions, e.g. \"  : \"\n  if (pos >= max) { return -1; }\n\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\nmodule.exports = function deflist(state, startLine, endLine, silent) {\n  var contentStart,\n      ddLine,\n      dtLine,\n      itemLines,\n      listLines,\n      listTokIdx,\n      nextLine,\n      oldIndent,\n      oldDDIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      prevEmptyEnd,\n      tight;\n\n  if (silent) {\n    // quirk: validation mode validates a dd block only, not a whole deflist\n    if (state.ddIndent < 0) { return false; }\n    return skipMarker(state, startLine) >= 0;\n  }\n\n  nextLine = startLine + 1;\n  if (state.isEmpty(nextLine)) {\n    if (++nextLine > endLine) { return false; }\n  }\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n  contentStart = skipMarker(state, nextLine);\n  if (contentStart < 0) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  state.tokens.push({\n    type: 'dl_open',\n    lines: listLines = [ startLine, 0 ],\n    level: state.level++\n  });\n\n  //\n  // Iterate list items\n  //\n\n  dtLine = startLine;\n  ddLine = nextLine;\n\n  // One definition list can contain multiple DTs,\n  // and one DT can be followed by multiple DDs.\n  //\n  // Thus, there is two loops here, and label is\n  // needed to break out of the second one\n  //\n  /*eslint no-labels:0,block-scoped-var:0*/\n  OUTER:\n  for (;;) {\n    tight = true;\n    prevEmptyEnd = false;\n\n    state.tokens.push({\n      type: 'dt_open',\n      lines: [ dtLine, dtLine ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim(),\n      level: state.level + 1,\n      lines: [ dtLine, dtLine ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'dt_close',\n      level: --state.level\n    });\n\n    for (;;) {\n      state.tokens.push({\n        type: 'dd_open',\n        lines: itemLines = [ nextLine, 0 ],\n        level: state.level++\n      });\n\n      oldTight = state.tight;\n      oldDDIndent = state.ddIndent;\n      oldIndent = state.blkIndent;\n      oldTShift = state.tShift[ddLine];\n      oldParentType = state.parentType;\n      state.blkIndent = state.ddIndent = state.tShift[ddLine] + 2;\n      state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n      state.tight = true;\n      state.parentType = 'deflist';\n\n      state.parser.tokenize(state, ddLine, endLine, true);\n\n      // If any of list item is tight, mark list as tight\n      if (!state.tight || prevEmptyEnd) {\n        tight = false;\n      }\n      // Item become loose if finish with empty line,\n      // but we should filter last element, because it means list finish\n      prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n      state.tShift[ddLine] = oldTShift;\n      state.tight = oldTight;\n      state.parentType = oldParentType;\n      state.blkIndent = oldIndent;\n      state.ddIndent = oldDDIndent;\n\n      state.tokens.push({\n        type: 'dd_close',\n        level: --state.level\n      });\n\n      itemLines[1] = nextLine = state.line;\n\n      if (nextLine >= endLine) { break OUTER; }\n\n      if (state.tShift[nextLine] < state.blkIndent) { break OUTER; }\n      contentStart = skipMarker(state, nextLine);\n      if (contentStart < 0) { break; }\n\n      ddLine = nextLine;\n\n      // go to the next loop iteration:\n      // insert DD tag and repeat checking\n    }\n\n    if (nextLine >= endLine) { break; }\n    dtLine = nextLine;\n\n    if (state.isEmpty(dtLine)) { break; }\n    if (state.tShift[dtLine] < state.blkIndent) { break; }\n\n    ddLine = dtLine + 1;\n    if (ddLine >= endLine) { break; }\n    if (state.isEmpty(ddLine)) { ddLine++; }\n    if (ddLine >= endLine) { break; }\n\n    if (state.tShift[ddLine] < state.blkIndent) { break; }\n    contentStart = skipMarker(state, ddLine);\n    if (contentStart < 0) { break; }\n\n    // go to the next loop iteration:\n    // insert DT and DD tags and repeat checking\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: 'dl_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var endLine, content, terminate, i, l,\n      nextLine = startLine + 1,\n      terminatorRules;\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  if (nextLine < endLine && !state.isEmpty(nextLine)) {\n    terminatorRules = state.parser.ruler.getRules('paragraph');\n\n    for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n      // this would be a code block normally, but after paragraph\n      // it's considered a lazy continuation regardless of what's there\n      if (state.tShift[nextLine] - state.blkIndent > 3) { continue; }\n\n      // Some tags can terminate paragraph without empty line.\n      terminate = false;\n      for (i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      if (terminate) { break; }\n    }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n  if (content.length) {\n    state.tokens.push({\n      type: 'paragraph_open',\n      tight: false,\n      lines: [ startLine, state.line ],\n      level: state.level\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: content,\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'paragraph_close',\n      tight: false,\n      level: state.level\n    });\n  }\n\n  return true;\n};\n","'use strict';\n\n/**\n * Local dependencies\n */\n\nvar Ruler       = require('./ruler');\nvar StateInline = require('./rules_inline/state_inline');\nvar utils       = require('./common/utils');\n\n/**\n * Inline Parser `rules`\n */\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'del',             require('./rules_inline/del') ],\n  [ 'ins',             require('./rules_inline/ins') ],\n  [ 'mark',            require('./rules_inline/mark') ],\n  [ 'emphasis',        require('./rules_inline/emphasis') ],\n  [ 'sub',             require('./rules_inline/sub') ],\n  [ 'sup',             require('./rules_inline/sup') ],\n  [ 'links',           require('./rules_inline/links') ],\n  [ 'footnote_inline', require('./rules_inline/footnote_inline') ],\n  [ 'footnote_ref',    require('./rules_inline/footnote_ref') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'htmltag',         require('./rules_inline/htmltag') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\n/**\n * Inline Parser class. Note that link validation is stricter\n * in Remarkable than what is specified by CommonMark. If you\n * want to change this you can use a custom validator.\n *\n * @api private\n */\n\nfunction ParserInline() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  // Can be overridden with a custom validator\n  this.validateLink = validateLink;\n}\n\n/**\n * Skip a single token by running all rules in validation mode.\n * Returns `true` if any rule reports success.\n *\n * @param  {Object} `state`\n * @api privage\n */\n\nParserInline.prototype.skipToken = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var pos = state.pos;\n  var i, cached_pos;\n\n  if ((cached_pos = state.cacheGet(pos)) > 0) {\n    state.pos = cached_pos;\n    return;\n  }\n\n  for (i = 0; i < len; i++) {\n    if (rules[i](state, true)) {\n      state.cacheSet(pos, state.pos);\n      return;\n    }\n  }\n\n  state.pos++;\n  state.cacheSet(pos, state.pos);\n};\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state`\n * @api private\n */\n\nParserInline.prototype.tokenize = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var end = state.posMax;\n  var ok, i;\n\n  while (state.pos < end) {\n\n    // Try all possible rules.\n    // On success, the rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, false);\n\n      if (ok) {\n        break;\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * Parse the given input string.\n *\n * @param  {String} `str`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserInline.prototype.parse = function (str, options, env, outTokens) {\n  var state = new StateInline(str, this, options, env, outTokens);\n  this.tokenize(state);\n};\n\n/**\n * Validate the given `url` by checking for bad protocols.\n *\n * @param  {String} `url`\n * @return {Boolean}\n */\n\nfunction validateLink(url) {\n  var BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file', 'data' ];\n  var str = url.trim().toLowerCase();\n  // Care about digital entities \"javascript&#x3A;alert(1)\"\n  str = utils.replaceEntities(str);\n  if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Expose `ParserInline`\n */\n\nmodule.exports = ParserInline;\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x5C/* \\ */:\n    case 0x60/* ` */:\n    case 0x2A/* * */:\n    case 0x5F/* _ */:\n    case 0x5E/* ^ */:\n    case 0x5B/* [ */:\n    case 0x5D/* ] */:\n    case 0x21/* ! */:\n    case 0x26/* & */:\n    case 0x3C/* < */:\n    case 0x3E/* > */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x40/* @ */:\n    case 0x7E/* ~ */:\n    case 0x2B/* + */:\n    case 0x3D/* = */:\n    case 0x3A/* : */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n","// Proceess '\\n'\n\n'use strict';\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Strip out all trailing spaces on this line.\n        for (var i = pmax - 2; i >= 0; i--) {\n          if (state.pending.charCodeAt(i) !== 0x20) {\n            state.pending = state.pending.substring(0, i + 1);\n            break;\n          }\n        }\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push({\n          type: 'softbreak',\n          level: state.level\n        });\n      }\n\n    } else {\n      state.push({\n        type: 'softbreak',\n        level: state.level\n      });\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Proceess escaped chars and hardbreaks\n\n'use strict';\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function(ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backticks(state, silent) {\n  var start, max, marker, matchStart, matchEnd,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        state.push({\n          type: 'code',\n          content: state.src.slice(pos, matchStart)\n                              .replace(/[ \\n]+/g, ' ')\n                              .trim(),\n          block: false,\n          level: state.level\n        });\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// Process ~~deleted text~~\n\n'use strict';\n\nmodule.exports = function del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x7E/* ~ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x7E/* ~ */) { pos++; }\n  if (pos > start + 3) {\n    // sequence of 4+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x7E/* ~ */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x7E/* ~ */ && lastChar !== 0x7E/* ~ */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '~~'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '~~'\n            stack++;\n          } // else {\n            //  // standalone ' ~~ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'del_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'del_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n};\n","// Process ++inserted text++\n\n'use strict';\n\nmodule.exports = function ins(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x2B/* + */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x2B/* + */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x2B/* + */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x2B/* + */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x2B/* + */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x2B/* + */ && lastChar !== 0x2B/* + */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '++'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '++'\n            stack++;\n          } // else {\n            //  // standalone ' ++ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'ins_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'ins_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n};\n","// Process ==highlighted text==\n\n'use strict';\n\nmodule.exports = function del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x3D/* = */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x3D/* = */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x3D/* = */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x3D/* = */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x3D/* = */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x3D/* = */ && lastChar !== 0x3D/* = */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '=='\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '=='\n            stack++;\n          } // else {\n            //  // standalone ' == ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'mark_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'mark_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n};\n","// Process *this* and _that_\n\n'use strict';\n\n\nfunction isAlphaNum(code) {\n  return (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) ||\n         (code >= 0x41 /* A */ && code <= 0x5A /* Z */) ||\n         (code >= 0x61 /* a */ && code <= 0x7A /* z */);\n}\n\n// parse sequence of emphasis markers,\n// \"start\" should point at a valid marker\nfunction scanDelims(state, start) {\n  var pos = start, lastChar, nextChar, count,\n      can_open = true,\n      can_close = true,\n      max = state.posMax,\n      marker = state.src.charCodeAt(start);\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n\n  while (pos < max && state.src.charCodeAt(pos) === marker) { pos++; }\n  if (pos >= max) { can_open = false; }\n  count = pos - start;\n\n  if (count >= 4) {\n    // sequence of four or more unescaped markers can't start/end an emphasis\n    can_open = can_close = false;\n  } else {\n    nextChar = pos < max ? state.src.charCodeAt(pos) : -1;\n\n    // check whitespace conditions\n    if (nextChar === 0x20 || nextChar === 0x0A) { can_open = false; }\n    if (lastChar === 0x20 || lastChar === 0x0A) { can_close = false; }\n\n    if (marker === 0x5F /* _ */) {\n      // check if we aren't inside the word\n      if (isAlphaNum(lastChar)) { can_open = false; }\n      if (isAlphaNum(nextChar)) { can_close = false; }\n    }\n  }\n\n  return {\n    can_open: can_open,\n    can_close: can_close,\n    delims: count\n  };\n}\n\nmodule.exports = function emphasis(state, silent) {\n  var startCount,\n      count,\n      found,\n      oldCount,\n      newCount,\n      stack,\n      res,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker !== 0x5F/* _ */ && marker !== 0x2A /* * */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n\n  res = scanDelims(state, start);\n  startCount = res.delims;\n  if (!res.can_open) {\n    state.pos += startCount;\n    if (!silent) { state.pending += state.src.slice(start, state.pos); }\n    return true;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + startCount;\n  stack = [ startCount ];\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === marker) {\n      res = scanDelims(state, state.pos);\n      count = res.delims;\n      if (res.can_close) {\n        oldCount = stack.pop();\n        newCount = count;\n\n        while (oldCount !== newCount) {\n          if (newCount < oldCount) {\n            stack.push(oldCount - newCount);\n            break;\n          }\n\n          // assert(newCount > oldCount)\n          newCount -= oldCount;\n\n          if (stack.length === 0) { break; }\n          state.pos += oldCount;\n          oldCount = stack.pop();\n        }\n\n        if (stack.length === 0) {\n          startCount = oldCount;\n          found = true;\n          break;\n        }\n        state.pos += count;\n        continue;\n      }\n\n      if (res.can_open) { stack.push(count); }\n      state.pos += count;\n      continue;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + startCount;\n\n  if (!silent) {\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_open', level: state.level++ });\n    }\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_open', level: state.level++ });\n    }\n\n    state.parser.tokenize(state);\n\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_close', level: --state.level });\n    }\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_close', level: --state.level });\n    }\n  }\n\n  state.pos = state.posMax + startCount;\n  state.posMax = max;\n  return true;\n};\n","// Process ~subscript~\n\n'use strict';\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nmodule.exports = function sub(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sub',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n};\n","// Process ^superscript^\n\n'use strict';\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nmodule.exports = function sup(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sup',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n};\n","// Process [links](<to> \"stuff\")\n\n'use strict';\n\nvar parseLinkLabel       = require('../helpers/parse_link_label');\nvar parseLinkDestination = require('../helpers/parse_link_destination');\nvar parseLinkTitle       = require('../helpers/parse_link_title');\nvar normalizeReference   = require('../helpers/normalize_reference');\n\n\nmodule.exports = function links(state, silent) {\n  var labelStart,\n      labelEnd,\n      label,\n      href,\n      title,\n      pos,\n      ref,\n      code,\n      isImage = false,\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker === 0x21/* ! */) {\n    isImage = true;\n    marker = state.src.charCodeAt(++start);\n  }\n\n  if (marker !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 1;\n  labelEnd = parseLinkLabel(state, start);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    if (parseLinkDestination(state, pos)) {\n      href = state.linkContent;\n      pos = state.pos;\n    } else {\n      href = '';\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n      title = state.linkContent;\n      pos = state.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (code !== 0x20 && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n\n    // do not allow nested reference links\n    if (state.linkLevel > 0) { return false; }\n\n    // [foo]  [bar]\n    //      ^^ optional whitespace (can include newlines)\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = start - 1;\n      }\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      if (typeof label === 'undefined') {\n        pos = labelEnd + 1;\n      }\n      label = state.src.slice(labelStart, labelEnd);\n    }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    if (isImage) {\n      state.push({\n        type: 'image',\n        src: href,\n        title: title,\n        alt: state.src.substr(labelStart, labelEnd - labelStart),\n        level: state.level\n      });\n    } else {\n      state.push({\n        type: 'link_open',\n        href: href,\n        title: title,\n        level: state.level++\n      });\n      state.linkLevel++;\n      state.parser.tokenize(state);\n      state.linkLevel--;\n      state.push({ type: 'link_close', level: --state.level });\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process inline footnotes (^[...])\n\n'use strict';\n\nvar parseLinkLabel = require('../helpers/parse_link_label');\n\n\nmodule.exports = function footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n};\n","// Process footnote references ([^...])\n\n'use strict';\n\n\nmodule.exports = function footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\nvar url_schemas   = require('../common/url_schemas');\nvar normalizeLink = require('../helpers/normalize_link');\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  linkMatch = tail.match(AUTOLINK_RE);\n\n  if (linkMatch) {\n    if (url_schemas.indexOf(linkMatch[1].toLowerCase()) < 0) { return false; }\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = normalizeLink(url);\n    if (!state.parser.validateLink(url)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  emailMatch = tail.match(EMAIL_RE);\n\n  if (emailMatch) {\n\n    url = emailMatch[0].slice(1, -1);\n\n    fullUrl = normalizeLink('mailto:' + url);\n    if (!state.parser.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","// List of valid url schemas, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#autolinks\n\n'use strict';\n\n\nmodule.exports = [\n  'coap',\n  'doi',\n  'javascript',\n  'aaa',\n  'aaas',\n  'about',\n  'acap',\n  'cap',\n  'cid',\n  'crid',\n  'data',\n  'dav',\n  'dict',\n  'dns',\n  'file',\n  'ftp',\n  'geo',\n  'go',\n  'gopher',\n  'h323',\n  'http',\n  'https',\n  'iax',\n  'icap',\n  'im',\n  'imap',\n  'info',\n  'ipp',\n  'iris',\n  'iris.beep',\n  'iris.xpc',\n  'iris.xpcs',\n  'iris.lwz',\n  'ldap',\n  'mailto',\n  'mid',\n  'msrp',\n  'msrps',\n  'mtqp',\n  'mupdate',\n  'news',\n  'nfs',\n  'ni',\n  'nih',\n  'nntp',\n  'opaquelocktoken',\n  'pop',\n  'pres',\n  'rtsp',\n  'service',\n  'session',\n  'shttp',\n  'sieve',\n  'sip',\n  'sips',\n  'sms',\n  'snmp',\n  'soap.beep',\n  'soap.beeps',\n  'tag',\n  'tel',\n  'telnet',\n  'tftp',\n  'thismessage',\n  'tn3270',\n  'tip',\n  'tv',\n  'urn',\n  'vemmi',\n  'ws',\n  'wss',\n  'xcon',\n  'xcon-userid',\n  'xmlrpc.beep',\n  'xmlrpc.beeps',\n  'xmpp',\n  'z39.50r',\n  'z39.50s',\n  'adiumxtra',\n  'afp',\n  'afs',\n  'aim',\n  'apt',\n  'attachment',\n  'aw',\n  'beshare',\n  'bitcoin',\n  'bolo',\n  'callto',\n  'chrome',\n  'chrome-extension',\n  'com-eventbrite-attendee',\n  'content',\n  'cvs',\n  'dlna-playsingle',\n  'dlna-playcontainer',\n  'dtn',\n  'dvb',\n  'ed2k',\n  'facetime',\n  'feed',\n  'finger',\n  'fish',\n  'gg',\n  'git',\n  'gizmoproject',\n  'gtalk',\n  'hcp',\n  'icon',\n  'ipn',\n  'irc',\n  'irc6',\n  'ircs',\n  'itms',\n  'jar',\n  'jms',\n  'keyparc',\n  'lastfm',\n  'ldaps',\n  'magnet',\n  'maps',\n  'market',\n  'message',\n  'mms',\n  'ms-help',\n  'msnim',\n  'mumble',\n  'mvn',\n  'notes',\n  'oid',\n  'palm',\n  'paparazzi',\n  'platform',\n  'proxy',\n  'psyc',\n  'query',\n  'res',\n  'resource',\n  'rmi',\n  'rsync',\n  'rtmp',\n  'secondlife',\n  'sftp',\n  'sgn',\n  'skype',\n  'smb',\n  'soldat',\n  'spotify',\n  'ssh',\n  'steam',\n  'svn',\n  'teamspeak',\n  'things',\n  'udp',\n  'unreal',\n  'ut2004',\n  'ventrilo',\n  'view-source',\n  'webcal',\n  'wtai',\n  'wyciwyg',\n  'xfire',\n  'xri',\n  'ymsgr'\n];\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function htmltag(state, silent) {\n  var ch, match, max, pos = state.pos;\n\n  if (!state.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    state.push({\n      type: 'htmltag',\n      content: state.src.slice(pos, pos + match[0].length),\n      level: state.level\n    });\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Regexps to match html elements\n\n'use strict';\n\n\nfunction replace(regex, options) {\n  regex = regex.source;\n  options = options || '';\n\n  return function self(name, val) {\n    if (!name) {\n      return new RegExp(regex, options);\n    }\n    val = val.source || val;\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\n\nvar attr_name     = /[a-zA-Z_:][a-zA-Z0-9:._-]*/;\n\nvar unquoted      = /[^\"'=<>`\\x00-\\x20]+/;\nvar single_quoted = /'[^']*'/;\nvar double_quoted = /\"[^\"]*\"/;\n\n/*eslint no-spaced-func:0*/\nvar attr_value  = replace(/(?:unquoted|single_quoted|double_quoted)/)\n                    ('unquoted', unquoted)\n                    ('single_quoted', single_quoted)\n                    ('double_quoted', double_quoted)\n                    ();\n\nvar attribute   = replace(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)\n                    ('attr_name', attr_name)\n                    ('attr_value', attr_value)\n                    ();\n\nvar open_tag    = replace(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)\n                    ('attribute', attribute)\n                    ();\n\nvar close_tag   = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/;\nvar comment     = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/;\nvar processing  = /<[?].*?[?]>/;\nvar declaration = /<![A-Z]+\\s+[^>]*>/;\nvar cdata       = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/;\n\nvar HTML_TAG_RE = replace(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)\n  ('open_tag', open_tag)\n  ('close_tag', close_tag)\n  ('comment', comment)\n  ('processing', processing)\n  ('declaration', declaration)\n  ('cdata', cdata)\n  ();\n\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// Remarkable default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes: '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'replacements',\n        'linkify',\n        'smartquotes',\n        'references',\n        'abbr2',\n        'footnote_tail'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'footnote',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph',\n        'table'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'del',\n        'emphasis',\n        'entity',\n        'escape',\n        'footnote_ref',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n","// Remarkable default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes:       '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight:     null,\n\n    maxNesting:    20            // Internal protection, recursion limit\n  },\n\n  components: {\n    // Don't restrict core/block/inline rules\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n    quotes: '“”‘’',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'abbr2'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n","import 'intersection-observer';\r\n\r\nexport const initAnimation = () => {\r\n    let delay = 0;\r\n    const navbar = document.getElementById('navbar');\r\n    const section = document.querySelectorAll('main>.section');\r\n\r\n    const animationObserver = new IntersectionObserver((entries, animationObserver) => {\r\n        for (const entry of entries) {\r\n            // Animate element when it enter viewport\r\n            if (entry.intersectionRatio > 0) {\r\n                animationObserver.unobserve(entry.target);\r\n                setTimeout(() => {\r\n                    entry.target.classList.add('show');\r\n                    delay -= 500;\r\n                }, delay);\r\n                delay += 500;\r\n            }\r\n        }\r\n    });\r\n\r\n    // observe 'main>.section' and animate #navbar on page load\r\n    for (const element of [navbar, ...section]) {\r\n        animationObserver.observe(element);\r\n    }\r\n};","export const css = (element, styles) => {\r\n    if (typeof element === 'string') element = document.querySelector(element);\r\n    if (typeof styles === 'string') {\r\n        return window.getComputedStyle(element).getPropertyValue(styles);\r\n    } else {\r\n        for (var key in styles) {\r\n            element.style.setProperty(key, styles[key]);\r\n        }\r\n    }\r\n}","import { css } from './functions';\r\n\r\nexport const initNavbar = () => {\r\n    /*\r\n     * Globel varieables\r\n     */\r\n\r\n    const navbar = document.getElementById('navbar');\r\n    const navbarHeight = navbar.getBoundingClientRect().height;\r\n\r\n    /*\r\n     * Let text of .nav-item stick to the edge of its parent element (.container), when navbar is not sticky\r\n     */\r\n\r\n    const navbarObserver = new MutationObserver(() => {\r\n        // if one of the .nav-link is active, meaning that navbar is sticking to top of the page\r\n        if (document.querySelector('a.nav-link.active')) {\r\n            navbar.classList.add('sticky');\r\n        } else {\r\n            navbar.classList.remove('sticky');\r\n        }\r\n    });\r\n    for (const element of document.getElementsByClassName('nav-link')) {\r\n        navbarObserver.observe(element, {\r\n            attributes: true,\r\n            attributeFilter: ['class']\r\n        });\r\n    }\r\n\r\n    /* \r\n     * Offset jump links (html anchors) for the sticky navbar and amination, \r\n     * pointing them to the correct position\r\n     */\r\n\r\n    for (const element of document.querySelectorAll('#navbar a.nav-link')) {\r\n        element.addEventListener('click', event => {\r\n            event.preventDefault();\r\n            let target = document.getElementById((event.target.href).substring((event.target.href).lastIndexOf('#') + 1));\r\n            let offsetTop = target.getBoundingClientRect().top + window.scrollY;\r\n            let scrollY = offsetTop - navbarHeight - parseInt(getComputedStyle(document.documentElement).getPropertyValue('--navbar-margin'));\r\n\r\n            if (css(target, 'opacity') < 1) {\r\n                let currentTranslateY = css(target, 'transform').match(/matrix\\(.*, (\\d*\\.?\\d+)\\)/)[1];\r\n                window.scroll({\r\n                    top: Math.ceil(scrollY) - Math.floor(currentTranslateY),\r\n                    behavior: 'smooth'\r\n                });\r\n            }\r\n            // If animation of that element has been completed\r\n            else {\r\n                window.scroll({\r\n                    top: Math.ceil(scrollY),\r\n                    behavior: 'smooth'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    /* \r\n     * Add scrollapy to page\r\n     */\r\n\r\n    // Horizontal center of the page\r\n    const pageCenter = Math.ceil(window.innerWidth / 2);\r\n    const scrollHandler = () => {\r\n        const activeLink = document.querySelector('a.nav-link.active');\r\n        if (activeLink) activeLink.classList.remove('active');\r\n        if (navbar.getBoundingClientRect().top !== 0) return;\r\n\r\n        let viewport = navbarHeight + 1;\r\n        let element;\r\n        while ((element = document.elementFromPoint(pageCenter, viewport).closest(\".row.section\")) === null) {\r\n            viewport += 100;\r\n        }\r\n        document.querySelector('a.nav-link[href=\"#' + element.id + '\"]').classList.add('active');\r\n    };\r\n\r\n    addEventListener('scroll', scrollHandler);\r\n    if ((window.scrollY || window.pageYOffset) !== 0) {\r\n        const transitionDuration = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--show-transition-duration'));\r\n        // Check for navbar top value until it is zero\r\n        setTimeout(() => {\r\n            const interval = setInterval(() => {\r\n                if (navbar.getBoundingClientRect().top !== 0) return;\r\n                clearInterval(interval);\r\n                scrollHandler();\r\n            }, 10);\r\n        }, transitionDuration);\r\n    }\r\n};","import { initAnimation } from './animation';\r\nimport { initPhotoSwipe } from './gallery';\r\nimport { initNavbar } from './navbar';\r\nimport { initResourcesList } from './resources';\r\n\r\ninitAnimation();\r\ninitNavbar();\r\ninitPhotoSwipe();\r\ninitResourcesList();\r\n","import * as PhotoSwipe from 'photoswipe';\r\nimport * as PhotoSwipeUI_Default from 'photoswipe/dist/photoswipe-ui-default';\r\nimport { css } from './functions';\r\n\r\nexport const initPhotoSwipe = () => {\r\n    const openPhotoSwipe = (imgElement, galleryClass) => {\r\n        let pswpElement = document.querySelector('.pswp');\r\n\r\n        // build items array, record element index\r\n        let index = 0;\r\n        let items;\r\n\r\n        {\r\n            let count = 0;\r\n            /* imgElement.closest(galleryClass).querySelectorAll('img'): select all img elements on the same level\r\n               [...nodeList].map(): use spread operator to convert nodeList to array and call the map function,\r\n               while having better peroformence than Array.from(nodeList).map or Array.prototype.map.call(nodeList, function)\r\n               https://measurethat.net/Benchmarks/Show/4507/0/arrayprototypemapcall-vs-arraymap */\r\n            items = [...imgElement.closest(galleryClass).querySelectorAll('img')].map(element => {\r\n                if (element === imgElement) { index = count; }\r\n                count++;\r\n                // msrc: prevent PhotoSwipe displaying grey placeholder\r\n                return { src: element.currentSrc, msrc: element.currentSrc, w: element.naturalWidth, h: element.naturalHeight };\r\n            });\r\n        }\r\n\r\n        // define options\r\n        let options = {\r\n            index: index,\r\n            getThumbBoundsFn: () => {\r\n                let pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\r\n                    rect = imgElement.getBoundingClientRect();\r\n                return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\r\n            },\r\n            showHideOpacity: true,\r\n            /* bgOpacity: 0.32 -> Scrim opacity in material design dialogs\r\n               https://material.io/design/components/dialogs.html#theming */\r\n            bgOpacity: 0.32,\r\n            shareEl: false,\r\n            closeElClasses: ['item', 'caption', 'zoom-wrap', 'ui'],\r\n        };\r\n\r\n        // Initializes and opens PhotoSwipe\r\n        let pswp = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\r\n        pswp.init();\r\n\r\n        // Prevent double shadow of .pswp__img and .pswp__img--placeholder\r\n        pswp.listen('initialZoomInEnd', () => {\r\n            css('.pswp__img--placeholder', { 'display': 'none' });\r\n        });\r\n\r\n        pswp.listen('close', () => {\r\n            css('body', { 'overflow': '' });\r\n        });\r\n    };\r\n\r\n    for (const element of document.querySelectorAll('.gallery-item img')) {\r\n        element.onclick = function (event) {\r\n            // Prevent browser opening href links\r\n            event.preventDefault();\r\n            openPhotoSwipe(event.target, '.gallery');\r\n            css('body', { 'overflow': 'hidden' });\r\n        };\r\n    }\r\n\r\n    // Add PhotoSwipe (.pswp) element to page\r\n    document.body.insertAdjacentHTML('beforeend',\r\n        '<!-- Root element of PhotoSwipe. Must have class pswp. -->' +\r\n        '<div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">' +\r\n        '' +\r\n        '    <!-- Background of PhotoSwipe. ' +\r\n        '         It\\'s a separate element as animating opacity is faster than rgba(). -->' +\r\n        '    <div class=\"pswp__bg\"></div>' +\r\n        '' +\r\n        '    <!-- Slides wrapper with overflow:hidden. -->' +\r\n        '    <div class=\"pswp__scroll-wrap\">' +\r\n        '' +\r\n        '        <!-- Container that holds slides. ' +\r\n        '            PhotoSwipe keeps only 3 of them in the DOM to save memory.' +\r\n        '            Don\\'t modify these 3 pswp__item elements, data is added later on. -->' +\r\n        '        <div class=\"pswp__container\">' +\r\n        '            <div class=\"pswp__item\"></div>' +\r\n        '            <div class=\"pswp__item\"></div>' +\r\n        '            <div class=\"pswp__item\"></div>' +\r\n        '        </div>' +\r\n        '' +\r\n        '        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->' +\r\n        '        <div class=\"pswp__ui pswp__ui--hidden\">' +\r\n        '' +\r\n        '            <div class=\"pswp__top-bar\">' +\r\n        '' +\r\n        '                <!--  Controls are self-explanatory. Order can be changed. -->' +\r\n        '' +\r\n        '                <div class=\"pswp__counter\"></div>' +\r\n        '' +\r\n        '                <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>' +\r\n        '' +\r\n        '                <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>' +\r\n        '' +\r\n        '                <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>' +\r\n        '' +\r\n        '                <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>' +\r\n        '' +\r\n        '                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->' +\r\n        '                <!-- element will get class pswp__preloader--active when preloader is running -->' +\r\n        '                <div class=\"pswp__preloader\">' +\r\n        '                    <div class=\"pswp__preloader__icn\">' +\r\n        '                      <div class=\"pswp__preloader__cut\">' +\r\n        '                        <div class=\"pswp__preloader__donut\"></div>' +\r\n        '                      </div>' +\r\n        '                    </div>' +\r\n        '                </div>' +\r\n        '            </div>' +\r\n        '' +\r\n        '            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">' +\r\n        '                <div class=\"pswp__share-tooltip\"></div> ' +\r\n        '            </div>' +\r\n        '' +\r\n        '            <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">' +\r\n        '            </button>' +\r\n        '' +\r\n        '            <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">' +\r\n        '            </button>' +\r\n        '' +\r\n        '            <div class=\"pswp__caption\">' +\r\n        '                <div class=\"pswp__caption__center\"></div>' +\r\n        '            </div>' +\r\n        '' +\r\n        '        </div>' +\r\n        '' +\r\n        '    </div>' +\r\n        '' +\r\n        '</div>'\r\n    );\r\n};","import * as Remarkable from 'remarkable';\r\nimport { css } from './functions';\r\n\r\nexport const initResourcesList = () => {\r\n    fetch(`${location.origin}/assets/md/resources.md`).then((response) => {\r\n        response.text().then((text) => {\r\n            document.getElementById('resources-list').innerHTML = new Remarkable().render(text);\r\n        });\r\n    });\r\n\r\n    document.getElementById('resources-btn').onclick = () => {\r\n        css('.overlay', { 'visibility': 'visible', 'opacity': '1' });\r\n        css('body', { 'overflow': 'hidden' });\r\n    };\r\n\r\n    document.getElementById('close-btn').onclick = () => {\r\n        css('.overlay', { 'visibility': '', 'opacity': '' });\r\n        css('body', { 'overflow': '' });\r\n    };\r\n};"],"sourceRoot":""}