/*! Copyright (c) 2019 Loh Ka Hong. All rights reserved. */!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){var o,r;
/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */void 0===(r="function"==typeof(o=function(){"use strict";return function(e,t,n,o){var r={features:null,bind:function(e,t,n,o){var r=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var i=0;i<t.length;i++)t[i]&&e[r](t[i],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){r.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){r.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(r.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(r.features)return r.features;var e=r.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);i&&i.length>0&&(i=parseInt(i[1],10))>=1&&i<8&&(n.isOldIOSPhone=!0)}var s=o.match(/Android\s([0-9\.]*)/),a=s?s[1]:0;(a=parseFloat(a))>=1&&(a<4.4&&(n.isOldAndroid=!0),n.androidVersion=a),n.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var l,c,u=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],d=0;d<4;d++){t=p[d];for(var f=0;f<3;f++)l=u[f],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&c in e&&(n[l]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var h=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),o=window.setTimeout((function(){e(t+n)}),n);return h=t+n,o},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r.features=n,n}};r.detectFeatures(),r.features.oldIE&&(r.bind=function(e,t,n,o){t=t.split(" ");for(var r,i=(o?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},a=0;a<t.length;a++)if(r=t[a])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+r])return!1}else n["oldIE"+r]=s;e[i]("on"+r,n["oldIE"+r])}else e[i]("on"+r,n)});var i=this,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};r.extend(s,o);var a,l,c,u,p,d,f,h,m,v,g,y,b,_,w,k,x,C,I,E,A,M,S,T,O,L,R,D,F,z,P,N,Z,q,U,B,H,j,K,W,$,Y,V,G,X,Q,J,ee,te,ne,oe,re,ie,se,ae,le,ce={x:0,y:0},ue={x:0,y:0},pe={x:0,y:0},de={},fe=0,he={},me={x:0,y:0},ve=0,ge=!0,ye=[],be={},_e=!1,we=function(e,t){r.extend(i,t.publicMethods),ye.push(e)},ke=function(e){var t=Ut();return e>t-1?e-t:e<0?t+e:e},xe={},Ce=function(e,t){return xe[e]||(xe[e]=[]),xe[e].push(t)},Ie=function(e){var t=xe[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(i,n)}},Ee=function(){return(new Date).getTime()},Ae=function(e){se=e,i.bg.style.opacity=e*s.bgOpacity},Me=function(e,t,n,o,r){(!_e||r&&r!==i.currItem)&&(o/=r?r.fitRatio:i.currItem.fitRatio),e[M]=y+t+"px, "+n+"px"+b+" scale("+o+")"},Se=function(e){te&&(e&&(v>i.currItem.fitRatio?_e||(Gt(i.currItem,!1,!0),_e=!0):_e&&(Gt(i.currItem),_e=!1)),Me(te,pe.x,pe.y,v))},Te=function(e){e.container&&Me(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Oe=function(e,t){t[M]=y+e+"px, 0px"+b},Le=function(e,t){if(!s.loop&&t){var n=u+(me.x*fe-e)/me.x,o=Math.round(e-ut.x);(n<0&&o>0||n>=Ut()-1&&o<0)&&(e=ut.x+o*s.mainScrollEndFriction)}ut.x=e,Oe(e,p)},Re=function(e,t){var n=pt[e]-he[e];return ue[e]+ce[e]+n-n*(t/g)},De=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Fe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},ze=null,Pe=function(){ze&&(r.unbind(document,"mousemove",Pe),r.addClass(e,"pswp--has_mouse"),s.mouseUsed=!0,Ie("mouseUsed")),ze=setTimeout((function(){ze=null}),100)},Ne=function(e,t){var n=Wt(i.currItem,de,e);return t&&(ee=n),n},Ze=function(e){return e||(e=i.currItem),e.initialZoomLevel},qe=function(e){return e||(e=i.currItem),e.w>0?s.maxSpreadZoom:1},Ue=function(e,t,n,o){return o===i.currItem.initialZoomLevel?(n[e]=i.currItem.initialPosition[e],!0):(n[e]=Re(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Be=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,i[t]()))},He=function(e){e&&(Y||$||ne||H)&&(e.preventDefault(),e.stopPropagation())},je=function(){i.setScrollOffset(0,r.getScrollY())},Ke={},We=0,$e=function(e){Ke[e]&&(Ke[e].raf&&L(Ke[e].raf),We--,delete Ke[e])},Ye=function(e){Ke[e]&&$e(e),Ke[e]||(We++,Ke[e]={})},Ve=function(){for(var e in Ke)Ke.hasOwnProperty(e)&&$e(e)},Ge=function(e,t,n,o,r,i,s){var a,l=Ee();Ye(e);var c=function(){if(Ke[e]){if((a=Ee()-l)>=o)return $e(e),i(n),void(s&&s());i((n-t)*r(a/o)+t),Ke[e].raf=O(c)}};c()},Xe={shout:Ie,listen:Ce,viewportSize:de,options:s,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return v},getCurrentIndex:function(){return u},isDragging:function(){return K},isZooming:function(){return Q},setScrollOffset:function(e,t){he.x=e,z=he.y=t,Ie("updateScrollOffset",he)},applyZoomPan:function(e,t,n,o){pe.x=t,pe.y=n,v=e,Se(o)},init:function(){if(!a&&!l){var n;i.framework=r,i.template=e,i.bg=r.getChildByClass(e,"pswp__bg"),R=e.className,a=!0,P=r.detectFeatures(),O=P.raf,L=P.caf,M=P.transform,F=P.oldIE,i.scrollWrap=r.getChildByClass(e,"pswp__scroll-wrap"),i.container=r.getChildByClass(i.scrollWrap,"pswp__container"),p=i.container.style,i.itemHolders=k=[{el:i.container.children[0],wrap:0,index:-1},{el:i.container.children[1],wrap:0,index:-1},{el:i.container.children[2],wrap:0,index:-1}],k[0].el.style.display=k[2].el.style.display="none",function(){if(M){var t=P.perspective&&!T;return y="translate"+(t?"3d(":"("),void(b=P.perspective?", 0px)":")")}M="left",r.addClass(e,"pswp--ie"),Oe=function(e,t){t.left=e+"px"},Te=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,o=t*e.w,r=t*e.h;n.width=o+"px",n.height=r+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Se=function(){if(te){var e=te,t=i.currItem,n=t.fitRatio>1?1:t.fitRatio,o=n*t.w,r=n*t.h;e.width=o+"px",e.height=r+"px",e.left=pe.x+"px",e.top=pe.y+"px"}}}(),m={resize:i.updateSize,orientationchange:function(){clearTimeout(N),N=setTimeout((function(){de.x!==i.scrollWrap.clientWidth&&i.updateSize()}),500)},scroll:je,keydown:Be,click:He};var o=P.isOldIOSPhone||P.isOldAndroid||P.isMobileOpera;for(P.animationName&&P.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<ye.length;n++)i["init"+ye[n]]();t&&(i.ui=new t(i,r)).init(),Ie("firstUpdate"),u=u||s.index||0,(isNaN(u)||u<0||u>=Ut())&&(u=0),i.currItem=qt(u),(P.isOldIOSPhone||P.isOldAndroid)&&(ge=!1),e.setAttribute("aria-hidden","false"),s.modal&&(ge?e.style.position="fixed":(e.style.position="absolute",e.style.top=r.getScrollY()+"px")),void 0===z&&(Ie("initialLayout"),z=D=r.getScrollY());var c="pswp--open ";for(s.mainClass&&(c+=s.mainClass+" "),s.showHideOpacity&&(c+="pswp--animate_opacity "),c+=T?"pswp--touch":"pswp--notouch",c+=P.animationName?" pswp--css_animation":"",c+=P.svg?" pswp--svg":"",r.addClass(e,c),i.updateSize(),d=-1,ve=null,n=0;n<3;n++)Oe((n+d)*me.x,k[n].el.style);F||r.bind(i.scrollWrap,h,i),Ce("initialZoomInEnd",(function(){i.setContent(k[0],u-1),i.setContent(k[2],u+1),k[0].el.style.display=k[2].el.style.display="block",s.focus&&e.focus(),r.bind(document,"keydown",i),P.transform&&r.bind(i.scrollWrap,"click",i),s.mouseUsed||r.bind(document,"mousemove",Pe),r.bind(window,"resize scroll orientationchange",i),Ie("bindEvents")})),i.setContent(k[1],u),i.updateCurrItem(),Ie("afterInit"),ge||(_=setInterval((function(){We||K||Q||v!==i.currItem.initialZoomLevel||i.updateSize()}),1e3)),r.addClass(e,"pswp--visible")}},close:function(){a&&(a=!1,l=!0,Ie("close"),r.unbind(window,"resize scroll orientationchange",i),r.unbind(window,"scroll",m.scroll),r.unbind(document,"keydown",i),r.unbind(document,"mousemove",Pe),P.transform&&r.unbind(i.scrollWrap,"click",i),K&&r.unbind(window,f,i),clearTimeout(N),Ie("unbindEvents"),Bt(i.currItem,null,!0,i.destroy))},destroy:function(){Ie("destroy"),zt&&clearTimeout(zt),e.setAttribute("aria-hidden","true"),e.className=R,_&&clearInterval(_),r.unbind(i.scrollWrap,h,i),r.unbind(window,"scroll",i),ht(),Ve(),xe=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),pe.x=e,pe.y=t,Se()},handleEvent:function(e){e=e||window.event,m[e.type]&&m[e.type](e)},goTo:function(e){var t=(e=ke(e))-u;ve=t,u=e,i.currItem=qt(u),fe-=t,Le(me.x*fe),Ve(),ne=!1,i.updateCurrItem()},next:function(){i.goTo(u+1)},prev:function(){i.goTo(u-1)},updateCurrZoomItem:function(e){if(e&&Ie("beforeChange",0),k[1].el.children.length){var t=k[1].el.children[0];te=r.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=i.currItem.bounds,g=v=i.currItem.initialZoomLevel,pe.x=ee.center.x,pe.y=ee.center.y,e&&Ie("afterChange")},invalidateCurrItems:function(){w=!0;for(var e=0;e<3;e++)k[e].item&&(k[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ve){var t,n=Math.abs(ve);if(!(e&&n<2)){i.currItem=qt(u),_e=!1,Ie("beforeChange",ve),n>=3&&(d+=ve+(ve>0?-3:3),n=3);for(var o=0;o<n;o++)ve>0?(t=k.shift(),k[2]=t,d++,Oe((d+2)*me.x,t.el.style),i.setContent(t,u-n+o+1+1)):(t=k.pop(),k.unshift(t),d--,Oe(d*me.x,t.el.style),i.setContent(t,u+n-o-1-1));if(te&&1===Math.abs(ve)){var r=qt(x);r.initialZoomLevel!==v&&(Wt(r,de),Gt(r),Te(r))}ve=0,i.updateCurrZoomItem(),x=u,Ie("afterChange")}}},updateSize:function(t){if(!ge&&s.modal){var n=r.getScrollY();if(z!==n&&(e.style.top=n+"px",z=n),!t&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,e.style.height=be.y+"px"}if(de.x=i.scrollWrap.clientWidth,de.y=i.scrollWrap.clientHeight,je(),me.x=de.x+Math.round(de.x*s.spacing),me.y=de.y,Le(me.x*fe),Ie("beforeResize"),void 0!==d){for(var o,a,l,c=0;c<3;c++)o=k[c],Oe((c+d)*me.x,o.el.style),l=u+c-1,s.loop&&Ut()>2&&(l=ke(l)),(a=qt(l))&&(w||a.needsUpdate||!a.bounds)?(i.cleanSlide(a),i.setContent(o,l),1===c&&(i.currItem=a,i.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===o.index&&l>=0&&i.setContent(o,l),a&&a.container&&(Wt(a,de),Gt(a),Te(a));w=!1}g=v=i.currItem.initialZoomLevel,(ee=i.currItem.bounds)&&(pe.x=ee.center.x,pe.y=ee.center.y,Se(!0)),Ie("resize")},zoomTo:function(e,t,n,o,i){t&&(g=v,pt.x=Math.abs(t.x)-pe.x,pt.y=Math.abs(t.y)-pe.y,De(ue,pe));var s=Ne(e,!1),a={};Ue("x",s,a,e),Ue("y",s,a,e);var l=v,c=pe.x,u=pe.y;Fe(a);var p=function(t){1===t?(v=e,pe.x=a.x,pe.y=a.y):(v=(e-l)*t+l,pe.x=(a.x-c)*t+c,pe.y=(a.y-u)*t+u),i&&i(t),Se(1===t)};n?Ge("customZoomTo",0,1,n,o||r.easing.sine.inOut,p):p(1)}},Qe={},Je={},et={},tt={},nt={},ot=[],rt={},it=[],st={},at=0,lt={x:0,y:0},ct=0,ut={x:0,y:0},pt={x:0,y:0},dt={x:0,y:0},ft=function(e,t){return st.x=Math.abs(e.x-t.x),st.y=Math.abs(e.y-t.y),Math.sqrt(st.x*st.x+st.y*st.y)},ht=function(){V&&(L(V),V=null)},mt=function(){K&&(V=O(mt),St())},vt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:vt(e.parentNode,t))},gt={},yt=function(e,t){return gt.prevent=!vt(e.target,s.isClickableElement),Ie("preventDragEvent",e,t,gt),gt.prevent},bt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},_t=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},wt=function(){var e=pe.y-i.currItem.initialPosition.y;return 1-Math.abs(e/(de.y/2))},kt={},xt={},Ct=[],It=function(e){for(;Ct.length>0;)Ct.pop();return S?(le=0,ot.forEach((function(e){0===le?Ct[0]=e:1===le&&(Ct[1]=e),le++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ct[0]=bt(e.touches[0],kt),e.touches.length>1&&(Ct[1]=bt(e.touches[1],xt))):(kt.x=e.pageX,kt.y=e.pageY,kt.id="",Ct[0]=kt),Ct},Et=function(e,t){var n,o,r,a,l=pe[e]+t[e],c=t[e]>0,u=ut.x+t.x,p=ut.x-rt.x;if(n=l>ee.min[e]||l<ee.max[e]?s.panEndFriction:1,l=pe[e]+t[e]*n,(s.allowPanToNext||v===i.currItem.initialZoomLevel)&&(te?"h"!==oe||"x"!==e||$||(c?(l>ee.min[e]&&(n=s.panEndFriction,ee.min[e],o=ee.min[e]-ue[e]),(o<=0||p<0)&&Ut()>1?(a=u,p<0&&u>rt.x&&(a=rt.x)):ee.min.x!==ee.max.x&&(r=l)):(l<ee.max[e]&&(n=s.panEndFriction,ee.max[e],o=ue[e]-ee.max[e]),(o<=0||p>0)&&Ut()>1?(a=u,p>0&&u<rt.x&&(a=rt.x)):ee.min.x!==ee.max.x&&(r=l))):a=u,"x"===e))return void 0!==a&&(Le(a,!0),G=a!==rt.x),ee.min.x!==ee.max.x&&(void 0!==r?pe.x=r:G||(pe.x+=t.x*n)),void 0!==a;ne||G||v>i.currItem.fitRatio&&(pe[e]+=t[e]*n)},At=function(e){if(!("mousedown"===e.type&&e.button>0))if(Zt)e.preventDefault();else if(!j||"mousedown"!==e.type){if(yt(e,!0)&&e.preventDefault(),Ie("pointerDown"),S){var t=r.arraySearch(ot,e.pointerId,"id");t<0&&(t=ot.length),ot[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=It(e),o=n.length;X=null,Ve(),K&&1!==o||(K=re=!0,r.bind(window,f,i),B=ae=ie=H=G=Y=W=$=!1,oe=null,Ie("firstTouchStart",n),De(ue,pe),ce.x=ce.y=0,De(tt,n[0]),De(nt,tt),rt.x=me.x*fe,it=[{x:tt.x,y:tt.y}],q=Z=Ee(),Ne(v,!0),ht(),mt()),!Q&&o>1&&!ne&&!G&&(g=v,$=!1,Q=W=!0,ce.y=ce.x=0,De(ue,pe),De(Qe,n[0]),De(Je,n[1]),_t(Qe,Je,dt),pt.x=Math.abs(dt.x)-pe.x,pt.y=Math.abs(dt.y)-pe.y,J=ft(Qe,Je))}},Mt=function(e){if(e.preventDefault(),S){var t=r.arraySearch(ot,e.pointerId,"id");if(t>-1){var n=ot[t];n.x=e.pageX,n.y=e.pageY}}if(K){var o=It(e);if(oe||Y||Q)X=o;else if(ut.x!==me.x*fe)oe="h";else{var i=Math.abs(o[0].x-tt.x)-Math.abs(o[0].y-tt.y);Math.abs(i)>=10&&(oe=i>0?"h":"v",X=o)}}},St=function(){if(X){var e=X.length;if(0!==e)if(De(Qe,X[0]),et.x=Qe.x-tt.x,et.y=Qe.y-tt.y,Q&&e>1){if(tt.x=Qe.x,tt.y=Qe.y,!et.x&&!et.y&&function(e,t){return e.x===t.x&&e.y===t.y}(X[1],Je))return;De(Je,X[1]),$||($=!0,Ie("zoomGestureStarted"));var t=ft(Qe,Je),n=Dt(t);n>i.currItem.initialZoomLevel+i.currItem.initialZoomLevel/15&&(ae=!0);var o=1,r=Ze(),a=qe();if(n<r)if(s.pinchToClose&&!ae&&g<=i.currItem.initialZoomLevel){var l=1-(r-n)/(r/1.2);Ae(l),Ie("onPinchClose",l),ie=!0}else(o=(r-n)/r)>1&&(o=1),n=r-o*(r/3);else n>a&&((o=(n-a)/(6*r))>1&&(o=1),n=a+o*r);o<0&&(o=0),_t(Qe,Je,lt),ce.x+=lt.x-dt.x,ce.y+=lt.y-dt.y,De(dt,lt),pe.x=Re("x",n),pe.y=Re("y",n),B=n>v,v=n,Se()}else{if(!oe)return;if(re&&(re=!1,Math.abs(et.x)>=10&&(et.x-=X[0].x-nt.x),Math.abs(et.y)>=10&&(et.y-=X[0].y-nt.y)),tt.x=Qe.x,tt.y=Qe.y,0===et.x&&0===et.y)return;if("v"===oe&&s.closeOnVerticalDrag&&"fit"===s.scaleMode&&v===i.currItem.initialZoomLevel){ce.y+=et.y,pe.y+=et.y;var c=wt();return H=!0,Ie("onVerticalDrag",c),Ae(c),void Se()}!function(e,t,n){if(e-q>50){var o=it.length>2?it.shift():{};o.x=t,o.y=n,it.push(o),q=e}}(Ee(),Qe.x,Qe.y),Y=!0,ee=i.currItem.bounds,Et("x",et)||(Et("y",et),Fe(pe),Se())}}},Tt=function(e){if(P.isOldAndroid){if(j&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(j),j=setTimeout((function(){j=0}),600))}var t;if(Ie("pointerUp"),yt(e,!1)&&e.preventDefault(),S){var n=r.arraySearch(ot,e.pointerId,"id");n>-1&&(t=ot.splice(n,1)[0],navigator.msPointerEnabled?(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")):t.type=e.pointerType||"mouse")}var o,a=It(e),l=a.length;if("mouseup"===e.type&&(l=0),2===l)return X=null,!0;1===l&&De(nt,a[0]),0!==l||oe||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ie("touchRelease",e,t));var c=-1;if(0===l&&(K=!1,r.unbind(window,f,i),ht(),Q?c=0:-1!==ct&&(c=Ee()-ct)),ct=1===l?Ee():-1,o=-1!==c&&c<150?"zoom":"swipe",Q&&l<2&&(Q=!1,1===l&&(o="zoomPointerUp"),Ie("zoomGestureEnded")),X=null,Y||$||ne||H)if(Ve(),U||(U=Ot()),U.calculateSwipeSpeed("x"),H)if(wt()<s.verticalDragRange)i.close();else{var u=pe.y,p=se;Ge("verticalDrag",0,1,300,r.easing.cubic.out,(function(e){pe.y=(i.currItem.initialPosition.y-u)*e+u,Ae((1-p)*e+p),Se()})),Ie("onVerticalDrag",1)}else{if((G||ne)&&0===l){if(Rt(o,U))return;o="zoomPointerUp"}ne||("swipe"===o?!G&&v>i.currItem.fitRatio&&Lt(U):Ft())}},Ot=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){it.length>1?(e=Ee()-q+50,t=it[it.length-2][o]):(e=Ee()-Z,t=nt[o]),n.lastFlickOffset[o]=tt[o]-t,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickDist[o]>20?n.lastFlickSpeed[o]=n.lastFlickOffset[o]/e:n.lastFlickSpeed[o]=0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(pe[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:pe[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Ge("bounceZoomPan"+e,pe[e],n.backAnimDestination[e],t||300,r.easing.sine.out,(function(t){pe[e]=t,Se()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,pe[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Ke.zoomPan&&(Ke.zoomPan.raf=O(n.panAnimLoop),n.now=Ee(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Se(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return pe.x=Math.round(pe.x),pe.y=Math.round(pe.y),Se(),void $e("zoomPan")}};return n},Lt=function(e){if(e.calculateSwipeSpeed("y"),ee=i.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ye("zoomPan"),e.lastNow=Ee(),e.panAnimLoop()},Rt=function(e,t){var n,o,a;if(ne||(at=u),"swipe"===e){var l=tt.x-nt.x,c=t.lastFlickDist.x<10;l>30&&(c||t.lastFlickOffset.x>20)?o=-1:l<-30&&(c||t.lastFlickOffset.x<-20)&&(o=1)}o&&((u+=o)<0?(u=s.loop?Ut()-1:0,a=!0):u>=Ut()&&(u=s.loop?0:Ut()-1,a=!0),a&&!s.loop||(ve+=o,fe-=o,n=!0));var p,d=me.x*fe,f=Math.abs(d-ut.x);return n||d>ut.x==t.lastFlickSpeed.x>0?(p=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,p=Math.min(p,400),p=Math.max(p,250)):p=333,at===u&&(n=!1),ne=!0,Ie("mainScrollAnimStart"),Ge("mainScroll",ut.x,d,p,r.easing.cubic.out,Le,(function(){Ve(),ne=!1,at=-1,(n||at!==u)&&i.updateCurrItem(),Ie("mainScrollAnimComplete")})),n&&i.updateCurrItem(!0),n},Dt=function(e){return 1/J*e*g},Ft=function(){var e=v,t=Ze(),n=qe();v<t?e=t:v>n&&(e=n);var o,s=se;return ie&&!B&&!ae&&v<t?(i.close(),!0):(ie&&(o=function(e){Ae((1-s)*e+s)}),i.zoomTo(e,0,200,r.easing.cubic.out,o),!0)};we("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,r){C=e+t,I=e+n,E=e+o,A=r?e+r:""};(S=P.pointerEvent)&&P.touch&&(P.touch=!1),S?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):P.touch?(e("touch","start","move","end","cancel"),T=!0):e("mouse","down","move","up"),f=I+" "+E+" "+A,h=C,S&&!T&&(T=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),i.likelyTouchDevice=T,m[C]=At,m[I]=Mt,m[E]=Tt,A&&(m[A]=m[E]),P.touch&&(h+=" mousedown",f+=" mousemove mouseup",m.mousedown=m[C],m.mousemove=m[I],m.mouseup=m[E]),T||(s.allowPanToNext=!1)}}});var zt,Pt,Nt,Zt,qt,Ut,Bt=function(t,n,o,a){var l;zt&&clearTimeout(zt),Zt=!0,Nt=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=s.getThumbBoundsFn&&s.getThumbBoundsFn(u);var p,d,f=o?s.hideAnimationDuration:s.showAnimationDuration,h=function(){$e("initialZoom"),o?(i.template.removeAttribute("style"),i.bg.removeAttribute("style")):(Ae(1),n&&(n.style.display="block"),r.addClass(e,"pswp--animated-in"),Ie("initialZoom"+(o?"OutEnd":"InEnd"))),a&&a(),Zt=!1};if(!f||!l||void 0===l.x)return Ie("initialZoom"+(o?"Out":"In")),v=t.initialZoomLevel,De(pe,t.initialPosition),Se(),e.style.opacity=o?0:1,Ae(1),void(f?setTimeout((function(){h()}),f):h());p=c,d=!i.currItem.src||i.currItem.loadError||s.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),o||(v=l.w/t.w,pe.x=l.x,pe.y=l.y-D,i[d?"template":"bg"].style.opacity=.001,Se()),Ye("initialZoom"),o&&!p&&r.removeClass(e,"pswp--animated-in"),d&&(o?r[(p?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){r.addClass(e,"pswp--animate_opacity")}),30)),zt=setTimeout((function(){if(Ie("initialZoom"+(o?"Out":"In")),o){var n=l.w/t.w,i={x:pe.x,y:pe.y},s=v,a=se,c=function(t){1===t?(v=n,pe.x=l.x,pe.y=l.y-z):(v=(n-s)*t+s,pe.x=(l.x-i.x)*t+i.x,pe.y=(l.y-z-i.y)*t+i.y),Se(),d?e.style.opacity=1-t:Ae(a-t*a)};p?Ge("initialZoom",0,1,f,r.easing.cubic.out,c,h):(c(1),zt=setTimeout(h,f+20))}else v=t.initialZoomLevel,De(pe,t.initialPosition),Se(),Ae(1),d?e.style.opacity=1:Ae(1),zt=setTimeout(h,f+20)}),o?25:90)},Ht={},jt=[],Kt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Pt.length}},Wt=function(e,t,n){if(e.src&&!e.loadError){var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),Ie("parseVerticalMargin",e)),Ht.x=t.x,Ht.y=t.y-e.vGap.top-e.vGap.bottom,o){var r=Ht.x/e.w,i=Ht.y/e.h;e.fitRatio=r<i?r:i;var a=s.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var o=e.bounds;o.center.x=Math.round((Ht.x-t)/2),o.center.y=Math.round((Ht.y-n)/2)+e.vGap.top,o.max.x=t>Ht.x?Math.round(Ht.x-t):o.center.x,o.max.y=n>Ht.y?Math.round(Ht.y-n)+e.vGap.top:o.center.y,o.min.x=t>Ht.x?0:o.center.x,o.min.y=n>Ht.y?e.vGap.top:o.center.y}(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},$t=function(e,t,n,o,r,s){t.loadError||o&&(t.imageAppended=!0,Gt(t,o,t===i.currItem&&_e),n.appendChild(o),s&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},Yt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=r.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Vt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},Gt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var o=n?e.w:Math.round(e.w*e.fitRatio),r=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=r+"px"),t.style.width=o+"px",t.style.height=r+"px"}},Xt=function(){if(jt.length){for(var e,t=0;t<jt.length;t++)(e=jt[t]).holder.index===e.index&&$t(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);jt=[]}};we("Controller",{publicMethods:{lazyLoadItem:function(e){e=ke(e);var t=qt(e);t&&(!t.loaded&&!t.loading||w)&&(Ie("gettingData",e,t),t.src&&Yt(t))},initController:function(){r.extend(s,Kt,!0),i.items=Pt=n,qt=i.getItemAt,Ut=s.getNumItemsFn,s.loop,Ut()<3&&(s.loop=!1),Ce("beforeChange",(function(e){var t,n=s.preload,o=null===e||e>=0,r=Math.min(n[0],Ut()),a=Math.min(n[1],Ut());for(t=1;t<=(o?a:r);t++)i.lazyLoadItem(u+t);for(t=1;t<=(o?r:a);t++)i.lazyLoadItem(u-t)})),Ce("initialLayout",(function(){i.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(u)})),Ce("mainScrollAnimComplete",Xt),Ce("initialZoomInEnd",Xt),Ce("destroy",(function(){for(var e,t=0;t<Pt.length;t++)(e=Pt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);jt=null}))},getItemAt:function(e){return e>=0&&void 0!==Pt[e]&&Pt[e]},allowProgressiveImg:function(){return s.forceProgressiveLoading||!T||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=ke(t));var n=i.getItemAt(e.index);n&&(n.container=null);var o,l=i.getItemAt(t);if(l){Ie("gettingData",t,l),e.index=t,e.item=l;var c=l.container=r.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),Vt(l),Wt(l,de),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((o=r.createEl("pswp__img","img")).style.opacity=1,o.src=l.src,Gt(l,o),$t(0,l,c,o));else{if(l.loadComplete=function(n){if(a){if(e&&e.index===t){if(Vt(n,!0))return n.loadComplete=n.img=null,Wt(n,de),Te(n),void(e.index===u&&i.updateCurrZoomItem());n.imageAppended?!Zt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):P.transform&&(ne||Zt)?jt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e,clearPlaceholder:!0}):$t(0,n,c,n.img,0,!0)}n.loadComplete=null,n.img=null,Ie("imageLoadComplete",t,n)}},r.features.transform){var p="pswp__img pswp__img--placeholder";p+=l.msrc?"":" pswp__img--placeholder--blank";var d=r.createEl(p,l.msrc?"img":"");l.msrc&&(d.src=l.msrc),Gt(l,d),c.appendChild(d),l.placeholder=d}l.loading||Yt(l),i.allowProgressiveImg()&&(!Nt&&P.transform?jt.push({item:l,baseDiv:c,img:l.img,index:t,holder:e}):$t(0,l,c,l.img,0,!0))}Nt||t!==u?Te(l):(te=c.style,Bt(l,o||l.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Qt,Jt,en={},tn=function(e,t,n){var o=document.createEvent("CustomEvent"),r={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,r),e.target.dispatchEvent(o)};we("Tap",{publicMethods:{initTap:function(){Ce("firstTouchStart",i.onTapStart),Ce("touchRelease",i.onTapRelease),Ce("destroy",(function(){en={},Qt=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(Qt),Qt=null)},onTapRelease:function(e,t){var n,o;if(t&&!Y&&!W&&!We){var i=t;if(Qt&&(clearTimeout(Qt),Qt=null,n=i,o=en,Math.abs(n.x-o.x)<25&&Math.abs(n.y-o.y)<25))return void Ie("doubleTap",i);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||r.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);De(en,i),Qt=setTimeout((function(){tn(e,t),Qt=null}),300)}}}}),we("DesktopZoom",{publicMethods:{initDesktopZoom:function(){F||(T?Ce("mouseUsed",(function(){i.setupDesktopZoom()})):i.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Jt={};var n="wheel mousewheel DOMMouseScroll";Ce("bindEvents",(function(){r.bind(e,n,i.handleMouseWheel)})),Ce("unbindEvents",(function(){Jt&&r.unbind(e,n,i.handleMouseWheel)})),i.mouseZoomedIn=!1;var o,s=function(){i.mouseZoomedIn&&(r.removeClass(e,"pswp--zoomed-in"),i.mouseZoomedIn=!1),v<1?r.addClass(e,"pswp--zoom-allowed"):r.removeClass(e,"pswp--zoom-allowed"),a()},a=function(){o&&(r.removeClass(e,"pswp--dragging"),o=!1)};Ce("resize",s),Ce("afterChange",s),Ce("pointerDown",(function(){i.mouseZoomedIn&&(o=!0,r.addClass(e,"pswp--dragging"))})),Ce("pointerUp",a),t||s()},handleMouseWheel:function(e){if(v<=i.currItem.fitRatio)return s.modal&&(!s.closeOnScroll||We||K?e.preventDefault():M&&Math.abs(e.deltaY)>2&&(c=!0,i.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}Ne(v,!0);var t=pe.x-Jt.x,n=pe.y-Jt.y;(s.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),i.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:de.x/2+he.x,y:de.y/2+he.y};var n=s.getDoubleTapZoom(!0,i.currItem),o=v===n;i.mouseZoomedIn=!o,i.zoomTo(o?i.currItem.initialZoomLevel:n,t,333),r[(o?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var nn,on,rn,sn,an,ln,cn,un,pn,dn,fn,hn,mn={history:!0,galleryUID:1},vn=function(){return fn.hash.substring(1)},gn=function(){nn&&clearTimeout(nn),rn&&clearTimeout(rn)},yn=function(){var e=vn(),t={};if(e.length<5)return t;var n,o=e.split("&");for(n=0;n<o.length;n++)if(o[n]){var r=o[n].split("=");r.length<2||(t[r[0]]=r[1])}if(s.galleryPIDs){var i=t.pid;for(t.pid=0,n=0;n<Pt.length;n++)if(Pt[n].pid===i){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},bn=function(){if(rn&&clearTimeout(rn),We||K)rn=setTimeout(bn,500);else{sn?clearTimeout(on):sn=!0;var e=u+1,t=qt(u);t.hasOwnProperty("pid")&&(e=t.pid);var n=cn+"&gid="+s.galleryUID+"&pid="+e;un||-1===fn.hash.indexOf(n)&&(dn=!0);var o=fn.href.split("#")[0]+"#"+n;hn?"#"+n!==window.location.hash&&history[un?"replaceState":"pushState"]("",document.title,o):un?fn.replace(o):fn.hash=n,un=!0,on=setTimeout((function(){sn=!1}),60)}};we("History",{publicMethods:{initHistory:function(){if(r.extend(s,mn,!0),s.history){fn=window.location,dn=!1,pn=!1,un=!1,cn=vn(),hn="pushState"in history,cn.indexOf("gid=")>-1&&(cn=(cn=cn.split("&gid=")[0]).split("?gid=")[0]),Ce("afterChange",i.updateURL),Ce("unbindEvents",(function(){r.unbind(window,"hashchange",i.onHashChange)}));var e=function(){ln=!0,pn||(dn?history.back():cn?fn.hash=cn:hn?history.pushState("",document.title,fn.pathname+fn.search):fn.hash=""),gn()};Ce("unbindEvents",(function(){c&&e()})),Ce("destroy",(function(){ln||e()})),Ce("firstUpdate",(function(){u=yn().pid}));var t=cn.indexOf("pid=");t>-1&&"&"===(cn=cn.substring(0,t)).slice(-1)&&(cn=cn.slice(0,-1)),setTimeout((function(){a&&r.bind(window,"hashchange",i.onHashChange)}),40)}},onHashChange:function(){if(vn()===cn)return pn=!0,void i.close();sn||(an=!0,i.goTo(yn().pid),an=!1)},updateURL:function(){gn(),an||(un?nn=setTimeout(bn,800):bn())}}}),r.extend(i,Xe)}})?o.call(t,n,t,e):o)||(e.exports=r)},function(e,t,n){var o,r;
/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */void 0===(r="function"==typeof(o=function(){"use strict";return function(e,t){var n,o,r,i,s,a,l,c,u,p,d,f,h,m,v,g,y,b,_=this,w=!1,k=!0,x=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},I=function(e){if(g)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!u&&D();for(var n,o,r=(e.target||e.srcElement).getAttribute("class")||"",i=0;i<N.length;i++)(n=N[i]).onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),o=!0);if(o){e.stopPropagation&&e.stopPropagation(),g=!0;var s=t.features.isOldAndroid?600:30;setTimeout((function(){g=!1}),s)}},E=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"pswp__"+n)},A=function(){var e=1===v.getNumItemsFn();e!==m&&(E(o,"ui--one-slide",e),m=e)},M=function(){E(l,"share-modal--hidden",x)},S=function(){return(x=!x)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){x&&M()}),300)):(M(),setTimeout((function(){x||t.addClass(l,"pswp__share-modal--fade-in")}),30)),x||O(),!1},T=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!(!n.href||!n.hasAttribute("download")&&(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),x||S(),1))},O=function(){for(var e,t,n,o,r="",i=0;i<v.shareButtons.length;i++)e=v.shareButtons[i],t=v.getImageURLForShare(e),n=v.getPageURLForShare(e),o=v.getTextForShare(e),r+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(o))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(r=v.parseShareButtonOut(e,r));l.children[0].innerHTML=r,l.children[0].onclick=T},L=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},R=0,D=function(){clearTimeout(b),R=0,u&&_.setIdle(!1)},F=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout((function(){_.setIdle(!0)}),v.timeToIdleOutside))},z=function(e){f!==e&&(E(d,"preloader--active",!e),f=e)},P=function(n){var s=n.vGap;if(!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth){var a=v.barsSize;if(v.captionEl&&"auto"===a.bottom)if(i||((i=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),o.insertBefore(i,r),t.addClass(o,"pswp__ui--fit")),v.addCaptionHTMLFn(n,i,!0)){var l=i.clientHeight;s.bottom=parseInt(l,10)||44}else s.bottom=a.top;else s.bottom="auto"===a.bottom?0:a.bottom;s.top=a.top}else s.top=s.bottom=0},N=[{name:"caption",option:"captionEl",onInit:function(e){r=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){S()}},{name:"button--share",option:"shareEl",onInit:function(e){a=e},onTap:function(){S()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){s=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){d=e}}];_.init=function(){var s;t.extend(e.options,C,!0),v=e.options,o=t.getChildByClass(e.scrollWrap,"pswp__ui"),(p=e.listen)("onVerticalDrag",(function(e){k&&e<.95?_.hideControls():!k&&e>=.95&&_.showControls()})),p("onPinchClose",(function(e){k&&e<.9?(_.hideControls(),s=!0):s&&!k&&e>.9&&_.showControls()})),p("zoomGestureEnded",(function(){(s=!1)&&!k&&_.showControls()})),p("beforeChange",_.update),p("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)})),p("preventDragEvent",(function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)})),p("bindEvents",(function(){t.bind(o,"pswpTap click",I),t.bind(e.scrollWrap,"pswpTap",_.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",_.onMouseOver)})),p("unbindEvents",(function(){x||S(),y&&clearInterval(y),t.unbind(document,"mouseout",F),t.unbind(document,"mousemove",D),t.unbind(o,"pswpTap click",I),t.unbind(e.scrollWrap,"pswpTap",_.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",_.onMouseOver),n&&(t.unbind(document,n.eventK,_.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)})),p("destroy",(function(){v.captionEl&&(i&&o.removeChild(i),t.removeClass(r,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(o,"pswp__ui--over-close"),t.addClass(o,"pswp__ui--hidden"),_.setIdle(!1)})),v.showAnimationDuration||t.removeClass(o,"pswp__ui--hidden"),p("initialZoomIn",(function(){v.showAnimationDuration&&t.removeClass(o,"pswp__ui--hidden")})),p("initialZoomOut",(function(){t.addClass(o,"pswp__ui--hidden")})),p("parseVerticalMargin",P),function(){var e,n,r,i=function(o){if(o)for(var i=o.length,s=0;s<i;s++){e=o[s],n=e.className;for(var a=0;a<N.length;a++)r=N[a],n.indexOf("pswp__"+r.name)>-1&&(v[r.option]?(t.removeClass(e,"pswp__element--disabled"),r.onInit&&r.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};i(o.children);var s=t.getChildByClass(o,"pswp__top-bar");s&&i(s.children)}(),v.shareEl&&a&&l&&(x=!0),A(),v.timeToIdle&&p("mouseUsed",(function(){t.bind(document,"mousemove",D),t.bind(document,"mouseout",F),y=setInterval((function(){2==++R&&_.setIdle(!0)}),v.timeToIdle/2)})),v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=_.getFullscreenAPI()),n?(t.bind(document,n.eventK,_.updateFullscreen),_.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),v.preloaderEl&&(z(!0),p("beforeChange",(function(){clearTimeout(h),h=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&z(!1):z(!0)}),v.loadingIndicatorDelay)})),p("imageLoadComplete",(function(t,n){e.currItem===n&&z(!0)})))},_.setIdle=function(e){u=e,E(o,"ui--idle",e)},_.update=function(){k&&e.currItem?(_.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,r),E(r,"caption--empty",!e.currItem.title)),w=!0):w=!1,x||S(),A()},_.updateFullscreen=function(o){o&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},_.updateIndexIndicator=function(){v.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},_.onGlobalTap=function(n){var o=(n=n||window.event).target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(L(o))return void e.close();t.hasClass(o,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(k?_.hideControls():_.showControls()),v.tapToClose&&(t.hasClass(o,"pswp__img")||L(o)))return void e.close()},_.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;E(o,"ui--over-close",L(t))},_.hideControls=function(){t.addClass(o,"pswp__ui--hidden"),k=!1},_.showControls=function(){k=!0,w||_.update(),t.removeClass(o,"pswp__ui--hidden")},_.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},_.getFullscreenAPI=function(){var t,n=document.documentElement,o="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(c=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})?o.call(t,n,t,e):o)||(e.exports=r)},function(e,t,n){},function(e,t){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=r(t);n;)n=r(t=n.ownerDocument);return t}(),t=[],n=null,o=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(e,n){o=e&&n?p(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,o=null},s.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},s.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},s.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var o=this._checkForIntersections,i=null,s=null;if(this.POLL_INTERVAL?i=n.setInterval(o,this.POLL_INTERVAL):(a(n,"resize",o,!0),a(t,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(o)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),l(e,"resize",o,!0)),l(t,"scroll",o,!0),s&&s.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var c=r(t);c&&this._monitorIntersections(c.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var o=this.root&&this.root.ownerDocument||e;if(!this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=o;){var i=r(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),t!=o){var s=r(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},s.prototype._checkForIntersections=function(){if(this.root||!n||o){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var r=o.element,s=c(r),a=this._rootContainsTarget(r),l=o.entry,u=e&&a&&this._computeTargetAndRootIntersection(r,s,t),p=o.entry=new i({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:n&&!this.root?null:t,intersectionRect:u});l?e&&a?this._hasCrossedThreshold(l,p)&&this._queuedEntries.push(p):l&&l.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,r,i){if("none"!=window.getComputedStyle(t).display){for(var s,a,l,u,d,h,m,v,g=r,y=f(t),b=!1;!b&&y;){var _=null,w=1==y.nodeType?window.getComputedStyle(y):{};if("none"==w.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!o||0==o.width&&0==o.height?(y=null,_=null,g=null):_=o:_=i;else{var k=f(y),x=k&&c(k),C=k&&this._computeTargetAndRootIntersection(k,x,i);x&&C?(y=k,_=p(x,C)):(y=null,g=null)}else{var I=y.ownerDocument;y!=I.body&&y!=I.documentElement&&"visible"!=w.overflow&&(_=c(y))}if(_&&(s=_,a=g,l=void 0,u=void 0,d=void 0,h=void 0,m=void 0,v=void 0,l=Math.max(s.top,a.top),u=Math.min(s.bottom,a.bottom),d=Math.max(s.left,a.left),h=Math.min(s.right,a.right),v=u-l,g=(m=h-d)>=0&&v>=0&&{top:l,bottom:u,left:d,right:h,width:m,height:v}||null),!g)break;y=y&&f(y)}return g}},s.prototype._getRootRect=function(){var t;if(this.root)t=c(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},s.prototype._rootIsInDom=function(){return!this.root||d(e,this.root)},s.prototype._rootContainsTarget=function(t){return d(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=i}function r(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=u(e.rootBounds),this.boundingClientRect=u(e.boundingClientRect),this.intersectionRect=u(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var n,o,r,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),o))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(e,t,n,o){"function"==typeof e.addEventListener?e.addEventListener(t,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function l(e,t,n,o){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function p(e,t){var n=t.top-e.top,o=t.left-e.left;return{top:n,left:o,height:t.height,width:t.width,bottom:n+t.height,right:o+t.width}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?r(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}}()},function(e,t,n){(function(n){var o,r;/*! smooth-scroll v16.1.3 | (c) 2020 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),r=Math.max(0,16-(o-e)),i=window.setTimeout((function(){t(o+r)}),r);return e=o+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),r=void 0!==n?n:"undefined"!=typeof window?window:this,void 0===(o=function(){return function(e){"use strict";var t={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},n=function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e},o=function(e){"#"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),o=n.length,r=-1,i="",s=n.charCodeAt(0);++r<o;){if(0===(t=n.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");i+=1<=t&&t<=31||127==t||0===r&&48<=t&&t<=57||1===r&&48<=t&&t<=57&&45===s?"\\"+t.toString(16)+" ":128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?n.charAt(r):"\\"+n.charAt(r)}return"#"+i},r=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},i=function(t,n,o){0===t&&document.body.focus(),o||(t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),e.scrollTo(0,n))},s=function(t,n,o,r){if(n.emitEvents&&"function"==typeof e.CustomEvent){var i=new CustomEvent(t,{bubbles:!0,detail:{anchor:o,toggle:r}});document.dispatchEvent(i)}};return function(a,l){var c,u,p,d,f={cancelScroll:function(e){cancelAnimationFrame(d),d=null,e||s("scrollCancel",c)},animateScroll:function(o,a,l){f.cancelScroll();var u=n(c||t,l||{}),h="[object Number]"===Object.prototype.toString.call(o),m=h||!o.tagName?null:o;if(h||m){var v=e.pageYOffset;u.header&&!p&&(p=document.querySelector(u.header));var g,y,b,_,w,k,x,C,I=function(t){return t?(n=t,parseInt(e.getComputedStyle(n).height,10)+t.offsetTop):0;var n}(p),E=h?o:function(t,n,o,i){var s=0;if(t.offsetParent)for(;s+=t.offsetTop,t=t.offsetParent;);return s=Math.max(s-n-o,0),i&&(s=Math.min(s,r()-e.innerHeight)),s}(m,I,parseInt("function"==typeof u.offset?u.offset(o,a):u.offset,10),u.clip),A=E-v,M=r(),S=0,T=(g=A,b=(y=u).speedAsDuration?y.speed:Math.abs(g/1e3*y.speed),y.durationMax&&b>y.durationMax?y.durationMax:y.durationMin&&b<y.durationMin?y.durationMin:parseInt(b,10)),O=function(t){var n,r,l;_||(_=t),S+=t-_,k=v+A*(r=w=1<(w=0===T?0:S/T)?1:w,"easeInQuad"===(n=u).easing&&(l=r*r),"easeOutQuad"===n.easing&&(l=r*(2-r)),"easeInOutQuad"===n.easing&&(l=r<.5?2*r*r:(4-2*r)*r-1),"easeInCubic"===n.easing&&(l=r*r*r),"easeOutCubic"===n.easing&&(l=--r*r*r+1),"easeInOutCubic"===n.easing&&(l=r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1),"easeInQuart"===n.easing&&(l=r*r*r*r),"easeOutQuart"===n.easing&&(l=1- --r*r*r*r),"easeInOutQuart"===n.easing&&(l=r<.5?8*r*r*r*r:1-8*--r*r*r*r),"easeInQuint"===n.easing&&(l=r*r*r*r*r),"easeOutQuint"===n.easing&&(l=1+--r*r*r*r*r),"easeInOutQuint"===n.easing&&(l=r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r),n.customEasing&&(l=n.customEasing(r)),l||r),e.scrollTo(0,Math.floor(k)),function(t,n){var r=e.pageYOffset;if(t==n||r==n||(v<n&&e.innerHeight+r)>=M)return f.cancelScroll(!0),i(o,n,h),s("scrollStop",u,o,a),!(d=_=null)}(k,E)||(d=e.requestAnimationFrame(O),_=t)};0===e.pageYOffset&&e.scrollTo(0,0),x=o,C=u,h||history.pushState&&C.updateURL&&history.pushState({smoothScroll:JSON.stringify(C),anchor:x.id},document.title,x===document.documentElement?"#top":"#"+x.id),"matchMedia"in e&&e.matchMedia("(prefers-reduced-motion)").matches?i(o,Math.floor(E),!1):(s("scrollStart",u,o,a),f.cancelScroll(!0),e.requestAnimationFrame(O))}}},h=function(t){if(!t.defaultPrevented&&!(0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey)&&"closest"in t.target&&(u=t.target.closest(a))&&"a"===u.tagName.toLowerCase()&&!t.target.closest(c.ignore)&&u.hostname===e.location.hostname&&u.pathname===e.location.pathname&&/#/.test(u.href)){var n,r;try{n=o(decodeURIComponent(u.hash))}catch(t){n=o(u.hash)}if("#"===n){if(!c.topOnEmptyHash)return;r=document.documentElement}else r=document.querySelector(n);(r=r||"#top"!==n?r:document.documentElement)&&(t.preventDefault(),function(t){if(history.replaceState&&t.updateURL&&!history.state){var n=e.location.hash;n=n||"",history.replaceState({smoothScroll:JSON.stringify(t),anchor:n||e.pageYOffset},document.title,n||e.location.href)}}(c),f.animateScroll(r,u))}},m=function(e){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(c)){var t=history.state.anchor;"string"==typeof t&&t&&!(t=document.querySelector(o(history.state.anchor)))||f.animateScroll(t,null,{updateURL:!1})}};return f.destroy=function(){c&&(document.removeEventListener("click",h,!1),e.removeEventListener("popstate",m,!1),f.cancelScroll(),d=p=u=c=null)},function(){if(!("querySelector"in document&&"addEventListener"in e&&"requestAnimationFrame"in e&&"closest"in e.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";f.destroy(),c=n(t,l||{}),p=c.header?document.querySelector(c.header):null,document.addEventListener("click",h,!1),c.updateURL&&c.popstate&&e.addEventListener("popstate",m,!1)}(),f}}(r)}.apply(t,[]))||(e.exports=o)}).call(this,n(5))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"Remarkable",(function(){return Te})),n.d(o,"utils",(function(){return I}));n(2),n(3),n(4);var r=n(0),i=n(1);const s=()=>{[...document.querySelectorAll(".gallery-item img")].forEach(e=>{e.onclick=e=>{e.preventDefault(),((e,t)=>{let n,o=document.querySelector(".pswp"),s=0;{let o=0;n=[...e.closest(t).getElementsByTagName("img")].map(t=>(t===e&&(s=o),o++,{src:t.currentSrc,msrc:t.currentSrc,w:t.naturalWidth,h:t.naturalHeight}))}let a=new r(o,i,n,{index:s,getThumbBoundsFn:()=>{let t=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect();return{x:n.left,y:n.top+t,w:n.width}},showHideOpacity:!0,bgOpacity:.32,shareEl:!1,closeElClasses:["item","caption","zoom-wrap","ui"]});a.init(),a.listen("initialZoomInEnd",()=>{document.getElementsByClassName("pswp__img--placeholder")[0].style.display="none"}),a.listen("close",()=>{document.body.style.overflow=""})})(e.target,".gallery"),document.body.style.overflow="hidden"}}),document.body.insertAdjacentHTML("beforeend",'\x3c!-- Root element of PhotoSwipe. Must have class pswp. --\x3e<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">    \x3c!-- Background of PhotoSwipe.          It\'s a separate element as animating opacity is faster than rgba(). --\x3e    <div class="pswp__bg"></div>    \x3c!-- Slides wrapper with overflow:hidden. --\x3e    <div class="pswp__scroll-wrap">        \x3c!-- Container that holds slides.             PhotoSwipe keeps only 3 of them in the DOM to save memory.            Don\'t modify these 3 pswp__item elements, data is added later on. --\x3e        <div class="pswp__container">            <div class="pswp__item"></div>            <div class="pswp__item"></div>            <div class="pswp__item"></div>        </div>        \x3c!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. --\x3e        <div class="pswp__ui pswp__ui--hidden">            <div class="pswp__top-bar">                \x3c!--  Controls are self-explanatory. Order can be changed. --\x3e                <div class="pswp__counter"></div>                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>                <button class="pswp__button pswp__button--share" title="Share"></button>                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>                \x3c!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR --\x3e                \x3c!-- element will get class pswp__preloader--active when preloader is running --\x3e                <div class="pswp__preloader">                    <div class="pswp__preloader__icn">                      <div class="pswp__preloader__cut">                        <div class="pswp__preloader__donut"></div>                      </div>                    </div>                </div>            </div>            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">                <div class="pswp__share-tooltip"></div>             </div>            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">            </button>            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">            </button>            <div class="pswp__caption">                <div class="pswp__caption__center"></div>            </div>        </div>    </div></div>')};var a;function l(e){return(a=a||document.createElement("textarea")).innerHTML="&"+e+";",a.value}var c=Object.prototype.hasOwnProperty;function u(e,t){return!!e&&c.call(e,t)}function p(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var d=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function f(e){return e.indexOf("\\")<0?e:e.replace(d,"$1")}function h(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function m(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var v=/&([a-z#][a-z0-9]{1,31});/gi,g=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function y(e,t){var n=0,o=l(t);return t!==o?o:35===t.charCodeAt(0)&&g.test(t)&&h(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?m(n):e}function b(e){return e.indexOf("&")<0?e:e.replace(v,y)}var _=/[&<>"]/,w=/[&<>"]/g,k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function x(e){return k[e]}function C(e){return _.test(e)?e.replace(w,x):e}var I=Object.freeze({isString:function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},has:u,assign:p,unescapeMd:f,isValidEntityCode:h,fromCodePoint:m,replaceEntities:b,escapeHtml:C}),E={};E.blockquote_open=function(){return"<blockquote>\n"},E.blockquote_close=function(e,t){return"</blockquote>"+A(e,t)},E.code=function(e,t){return e[t].block?"<pre><code>"+C(e[t].content)+"</code></pre>"+A(e,t):"<code>"+C(e[t].content)+"</code>"},E.fence=function(e,t,n,o,r){var i,s,a=e[t],l="",c=n.langPrefix;if(a.params){if(s=(i=a.params.split(/\s+/g)).join(" "),u(r.rules.fence_custom,i[0]))return r.rules.fence_custom[i[0]](e,t,n,o,r);l=' class="'+c+C(b(f(s)))+'"'}return"<pre><code"+l+">"+(n.highlight&&n.highlight.apply(n.highlight,[a.content].concat(i))||C(a.content))+"</code></pre>"+A(e,t)},E.fence_custom={},E.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},E.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},E.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+A(e,t)},E.bullet_list_open=function(){return"<ul>\n"},E.bullet_list_close=function(e,t){return"</ul>"+A(e,t)},E.list_item_open=function(){return"<li>"},E.list_item_close=function(){return"</li>\n"},E.ordered_list_open=function(e,t){var n=e[t];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},E.ordered_list_close=function(e,t){return"</ol>"+A(e,t)},E.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},E.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?A(e,t):"")},E.link_open=function(e,t,n){var o=e[t].title?' title="'+C(b(e[t].title))+'"':"",r=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+C(e[t].href)+'"'+o+r+">"},E.link_close=function(){return"</a>"},E.image=function(e,t,n){var o=' src="'+C(e[t].src)+'"',r=e[t].title?' title="'+C(b(e[t].title))+'"':"";return"<img"+o+(' alt="'+(e[t].alt?C(b(f(e[t].alt))):"")+'"')+r+(n.xhtmlOut?" /":"")+">"},E.table_open=function(){return"<table>\n"},E.table_close=function(){return"</table>\n"},E.thead_open=function(){return"<thead>\n"},E.thead_close=function(){return"</thead>\n"},E.tbody_open=function(){return"<tbody>\n"},E.tbody_close=function(){return"</tbody>\n"},E.tr_open=function(){return"<tr>"},E.tr_close=function(){return"</tr>\n"},E.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},E.th_close=function(){return"</th>"},E.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},E.td_close=function(){return"</td>"},E.strong_open=function(){return"<strong>"},E.strong_close=function(){return"</strong>"},E.em_open=function(){return"<em>"},E.em_close=function(){return"</em>"},E.del_open=function(){return"<del>"},E.del_close=function(){return"</del>"},E.ins_open=function(){return"<ins>"},E.ins_close=function(){return"</ins>"},E.mark_open=function(){return"<mark>"},E.mark_close=function(){return"</mark>"},E.sub=function(e,t){return"<sub>"+C(e[t].content)+"</sub>"},E.sup=function(e,t){return"<sup>"+C(e[t].content)+"</sup>"},E.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},E.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},E.text=function(e,t){return C(e[t].content)},E.htmlblock=function(e,t){return e[t].content},E.htmltag=function(e,t){return e[t].content},E.abbr_open=function(e,t){return'<abbr title="'+C(b(e[t].title))+'">'},E.abbr_close=function(){return"</abbr>"},E.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),o="fnref"+n;return e[t].subId>0&&(o+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+o+'">['+n+"]</a></sup>"},E.footnote_block_open=function(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},E.footnote_block_close=function(){return"</ol>\n</section>\n"},E.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},E.footnote_close=function(){return"</li>\n"},E.footnote_anchor=function(e,t){var n="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">↩</a>'},E.dl_open=function(){return"<dl>\n"},E.dt_open=function(){return"<dt>"},E.dd_open=function(){return"<dd>"},E.dl_close=function(){return"</dl>\n"},E.dt_close=function(){return"</dt>\n"},E.dd_close=function(){return"</dd>\n"};var A=E.getBreak=function(e,t){return(t=function e(t,n){return++n>=t.length-2?n:"paragraph_open"===t[n].type&&t[n].tight&&"inline"===t[n+1].type&&0===t[n+1].content.length&&"paragraph_close"===t[n+2].type&&t[n+2].tight?e(t,n+2):n}(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function M(){this.rules=p({},E),this.getBreak=E.getBreak}function S(){this.__rules__=[],this.__cache__=null}function T(e,t,n,o,r){this.src=e,this.env=o,this.options=n,this.parser=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function O(e,t){var n,o,r,i=-1,s=e.posMax,a=e.pos,l=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,n=1;e.pos<s;){if(91===(r=e.src.charCodeAt(e.pos)))n++;else if(93===r&&0===--n){o=!0;break}e.parser.skipToken(e)}return o?(i=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=a,e.isInLabel=l,i}function L(e,t,n,o){var r,i,s,a,l,c;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((i=O(r=new T(e,t,n,o,[]),1))<0||58!==e.charCodeAt(i+1))return-1;for(a=r.posMax,s=i+2;s<a&&10!==r.src.charCodeAt(s);s++);return l=e.slice(2,i),0===(c=e.slice(i+2,s).trim()).length?-1:(o.abbreviations||(o.abbreviations={}),void 0===o.abbreviations[":"+l]&&(o.abbreviations[":"+l]=c),s)}function R(e){var t=b(e);try{t=decodeURI(t)}catch(e){}return encodeURI(t)}function D(e,t){var n,o,r,i=t,s=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<s;){if(10===(n=e.src.charCodeAt(t)))return!1;if(62===n)return r=R(f(e.src.slice(i+1,t))),!!e.parser.validateLink(r)&&(e.pos=t+1,e.linkContent=r,!0);92===n&&t+1<s?t+=2:t++}return!1}for(o=0;t<s&&32!==(n=e.src.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<s)t+=2;else{if(40===n&&++o>1)break;if(41===n&&--o<0)break;t++}return i!==t&&(r=f(e.src.slice(i,t)),!!e.parser.validateLink(r)&&(e.linkContent=r,e.pos=t,!0))}function F(e,t){var n,o=t,r=e.posMax,i=e.src.charCodeAt(t);if(34!==i&&39!==i&&40!==i)return!1;for(t++,40===i&&(i=41);t<r;){if((n=e.src.charCodeAt(t))===i)return e.pos=t+1,e.linkContent=f(e.src.slice(o+1,t)),!0;92===n&&t+1<r?t+=2:t++}return!1}function z(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function P(e,t,n,o){var r,i,s,a,l,c,u,p,d;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((i=O(r=new T(e,t,n,o,[]),0))<0||58!==e.charCodeAt(i+1))return-1;for(a=r.posMax,s=i+2;s<a&&(32===(l=r.src.charCodeAt(s))||10===l);s++);if(!D(r,s))return-1;for(u=r.linkContent,c=s=r.pos,s+=1;s<a&&(32===(l=r.src.charCodeAt(s))||10===l);s++);for(s<a&&c!==s&&F(r,s)?(p=r.linkContent,s=r.pos):(p="",s=c);s<a&&32===r.src.charCodeAt(s);)s++;return s<a&&10!==r.src.charCodeAt(s)?-1:(d=z(e.slice(1,i)),void 0===o.references[d]&&(o.references[d]={title:p,href:u}),s)}M.prototype.renderInline=function(e,t,n){for(var o=this.rules,r=e.length,i=0,s="";r--;)s+=o[e[i].type](e,i++,t,n,this);return s},M.prototype.render=function(e,t,n){for(var o=this.rules,r=e.length,i=-1,s="";++i<r;)"inline"===e[i].type?s+=this.renderInline(e[i].children,t,n):s+=o[e[i].type](e,i,t,n,this);return s},S.prototype.__find__=function(e){for(var t=this.__rules__.length,n=-1;t--;)if(this.__rules__[++n].name===e)return n;return-1},S.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},S.prototype.at=function(e,t,n){var o=this.__find__(e),r=n||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__[o].fn=t,this.__rules__[o].alt=r.alt||[],this.__cache__=null},S.prototype.before=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},S.prototype.after=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},S.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},S.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},S.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},S.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},T.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},T.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},T.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},T.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function N(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var Z=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,q=/\((c|tm|r|p)\)/gi,U={c:"©",r:"®",p:"§",tm:"™"};var B=/['"]/,H=/['"]/g,j=/[-\s()\[\]]/;function K(e,t){return!(t<0||t>=e.length)&&!j.test(e[t])}function W(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}var $=[["block",function(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}],["abbr",function(e){var t,n,o,r,i=e.tokens;if(!e.inlineMode)for(t=1,n=i.length-1;t<n;t++)if("paragraph_open"===i[t-1].type&&"inline"===i[t].type&&"paragraph_close"===i[t+1].type){for(o=i[t].content;o.length&&!((r=L(o,e.inline,e.options,e.env))<0);)o=o.slice(r).trim();i[t].content=o,o.length||(i[t-1].tight=!0,i[t+1].tight=!0)}}],["references",function(e){var t,n,o,r,i=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=i.length-1;t<n;t++)if("inline"===i[t].type&&"paragraph_open"===i[t-1].type&&"paragraph_close"===i[t+1].type){for(o=i[t].content;o.length&&!((r=P(o,e.inline,e.options,e.env))<0);)o=o.slice(r).trim();i[t].content=o,o.length||(i[t-1].tight=!0,i[t+1].tight=!0)}}],["inline",function(e){var t,n,o,r=e.tokens;for(n=0,o=r.length;n<o;n++)"inline"===(t=r[n]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}],["footnote_tail",function(e){var t,n,o,r,i,s,a,l,c,u=0,p=!1,d={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(p=!0,l=[],c=e.label,!1):"footnote_reference_close"===e.type?(p=!1,d[":"+c]=l,!1):(p&&l.push(e),!p)})),e.env.footnotes.list)){for(s=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),t=0,n=s.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:u++}),s[t].tokens?((a=[]).push({type:"paragraph_open",tight:!1,level:u++}),a.push({type:"inline",content:"",level:u,children:s[t].tokens}),a.push({type:"paragraph_close",tight:!1,level:--u})):s[t].label&&(a=d[":"+s[t].label]),e.tokens=e.tokens.concat(a),i="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,r=s[t].count>0?s[t].count:1,o=0;o<r;o++)e.tokens.push({type:"footnote_anchor",id:t,subId:o,level:u});i&&e.tokens.push(i),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}],["abbr2",function(e){var t,n,o,r,i,s,a,l,c,u,p,d,f=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(d="(^|["+" \n()[]'\".,!?-".split("").map(N).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(N).join("|")+")($|["+" \n()[]'\".,!?-".split("").map(N).join("")+"])",e.env.abbrRegExp=new RegExp(d,"g")),u=e.env.abbrRegExp,n=0,o=f.length;n<o;n++)if("inline"===f[n].type)for(t=(r=f[n].children).length-1;t>=0;t--)if("text"===(i=r[t]).type){for(l=0,s=i.content,u.lastIndex=0,c=i.level,a=[];p=u.exec(s);)u.lastIndex>l&&a.push({type:"text",content:s.slice(l,p.index+p[1].length),level:c}),a.push({type:"abbr_open",title:e.env.abbreviations[":"+p[2]],level:c++}),a.push({type:"text",content:p[2],level:c}),a.push({type:"abbr_close",level:--c}),l=u.lastIndex-p[3].length;a.length&&(l<s.length&&a.push({type:"text",content:s.slice(l),level:c}),f[n].children=r=[].concat(r.slice(0,t),a,r.slice(t+1)))}}],["replacements",function(e){var t,n,o,r,i,s;if(e.options.typographer)for(i=e.tokens.length-1;i>=0;i--)if("inline"===e.tokens[i].type)for(t=(r=e.tokens[i].children).length-1;t>=0;t--)"text"===(n=r[t]).type&&(o=n.content,o=(s=o).indexOf("(")<0?s:s.replace(q,(function(e,t){return U[t.toLowerCase()]})),Z.test(o)&&(o=o.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=o)}],["smartquotes",function(e){var t,n,o,r,i,s,a,l,c,u,p,d,f,h,m,v,g;if(e.options.typographer)for(g=[],m=e.tokens.length-1;m>=0;m--)if("inline"===e.tokens[m].type)for(v=e.tokens[m].children,g.length=0,t=0;t<v.length;t++)if("text"===(n=v[t]).type&&!B.test(n.text)){for(a=v[t].level,f=g.length-1;f>=0&&!(g[f].level<=a);f--);g.length=f+1,i=0,s=(o=n.content).length;e:for(;i<s&&(H.lastIndex=i,r=H.exec(o));)if(l=!K(o,r.index-1),i=r.index+1,h="'"===r[0],(c=!K(o,i))||l){if(p=!c,d=!l)for(f=g.length-1;f>=0&&(u=g[f],!(g[f].level<a));f--)if(u.single===h&&g[f].level===a){u=g[f],h?(v[u.token].content=W(v[u.token].content,u.pos,e.options.quotes[2]),n.content=W(n.content,r.index,e.options.quotes[3])):(v[u.token].content=W(v[u.token].content,u.pos,e.options.quotes[0]),n.content=W(n.content,r.index,e.options.quotes[1])),g.length=f;continue e}p?g.push({token:t,pos:r.index,single:h,level:a}):d&&h&&(n.content=W(n.content,r.index,"’"))}else h&&(n.content=W(n.content,r.index,"’"))}}]];function Y(){this.options={},this.ruler=new S;for(var e=0;e<$.length;e++)this.ruler.push($[e][0],$[e][1])}function V(e,t,n,o,r){var i,s,a,l,c,u,p;for(this.src=e,this.parser=t,this.options=n,this.env=o,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",u=0,p=!1,a=l=u=0,c=(s=this.src).length;l<c;l++){if(i=s.charCodeAt(l),!p){if(32===i){u++;continue}p=!0}10!==i&&l!==c-1||(10!==i&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(u),p=!1,u=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function G(e,t){var n,o,r;return(o=e.bMarks[t]+e.tShift[t])>=(r=e.eMarks[t])||42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<r&&32!==e.src.charCodeAt(o)?-1:o}function X(e,t){var n,o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(o+1>=r)return-1;if((n=e.src.charCodeAt(o++))<48||n>57)return-1;for(;;){if(o>=r)return-1;if(!((n=e.src.charCodeAt(o++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return o<r&&32!==e.src.charCodeAt(o)?-1:o}Y.prototype.process=function(e){var t,n,o;for(t=0,n=(o=this.ruler.getRules("")).length;t<n;t++)o[t](e)},V.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},V.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},V.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},V.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},V.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},V.prototype.getLines=function(e,t,n,o){var r,i,s,a,l,c=e;if(e>=t)return"";if(c+1===t)return i=this.bMarks[c]+Math.min(this.tShift[c],n),s=o?this.eMarks[c]+1:this.eMarks[c],this.src.slice(i,s);for(a=new Array(t-e),r=0;c<t;c++,r++)(l=this.tShift[c])>n&&(l=n),l<0&&(l=0),i=this.bMarks[c]+l,s=c+1<t||o?this.eMarks[c]+1:this.eMarks[c],a[r]=this.src.slice(i,s);return a.join("")};var Q={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){Q[e]=!0}));var J=/^<([a-zA-Z]{1,15})[\s\/>]/,ee=/^<\/([a-zA-Z]{1,15})[\s>]/;function te(e,t){var n=e.bMarks[t]+e.blkIndent,o=e.eMarks[t];return e.src.substr(n,o-n)}function ne(e,t){var n,o,r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return r>=i||126!==(o=e.src.charCodeAt(r++))&&58!==o||r===(n=e.skipSpaces(r))||n>=i?-1:n}var oe=[["code",function(e,t,n){var o,r;if(e.tShift[t]-e.blkIndent<4)return!1;for(r=o=t+1;o<n;)if(e.isEmpty(o))o++;else{if(!(e.tShift[o]-e.blkIndent>=4))break;r=++o}return e.line=o,e.tokens.push({type:"code",content:e.getLines(t,r,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}],["fences",function(e,t,n,o){var r,i,s,a,l,c=!1,u=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(u+3>p)return!1;if(126!==(r=e.src.charCodeAt(u))&&96!==r)return!1;if(l=u,(i=(u=e.skipChars(u,r))-l)<3)return!1;if((s=e.src.slice(u,p).trim()).indexOf("`")>=0)return!1;if(o)return!0;for(a=t;!(++a>=n)&&!((u=l=e.bMarks[a]+e.tShift[a])<(p=e.eMarks[a])&&e.tShift[a]<e.blkIndent);)if(e.src.charCodeAt(u)===r&&!(e.tShift[a]-e.blkIndent>=4||(u=e.skipChars(u,r))-l<i||(u=e.skipSpaces(u))<p)){c=!0;break}return i=e.tShift[t],e.line=a+(c?1:0),e.tokens.push({type:"fence",params:s,content:e.getLines(t+1,a,i,!0),lines:[t,e.line],level:e.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(e,t,n,o){var r,i,s,a,l,c,u,p,d,f,h,m=e.bMarks[t]+e.tShift[t],v=e.eMarks[t];if(m>v)return!1;if(62!==e.src.charCodeAt(m++))return!1;if(e.level>=e.options.maxNesting)return!1;if(o)return!0;for(32===e.src.charCodeAt(m)&&m++,l=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=m,i=(m=m<v?e.skipSpaces(m):m)>=v,s=[e.tShift[t]],e.tShift[t]=m-e.bMarks[t],p=e.parser.ruler.getRules("blockquote"),r=t+1;r<n&&!((m=e.bMarks[r]+e.tShift[r])>=(v=e.eMarks[r]));r++)if(62!==e.src.charCodeAt(m++)){if(i)break;for(h=!1,d=0,f=p.length;d<f;d++)if(p[d](e,r,n,!0)){h=!0;break}if(h)break;a.push(e.bMarks[r]),s.push(e.tShift[r]),e.tShift[r]=-1337}else 32===e.src.charCodeAt(m)&&m++,a.push(e.bMarks[r]),e.bMarks[r]=m,i=(m=m<v?e.skipSpaces(m):m)>=v,s.push(e.tShift[r]),e.tShift[r]=m-e.bMarks[r];for(c=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[t,0],level:e.level++}),e.parser.tokenize(e,t,r),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=c,u[1]=e.line,d=0;d<s.length;d++)e.bMarks[d+t]=a[d],e.tShift[d+t]=s[d];return e.blkIndent=l,!0},["paragraph","blockquote","list"]],["hr",function(e,t,n,o){var r,i,s,a=e.bMarks[t],l=e.eMarks[t];if((a+=e.tShift[t])>l)return!1;if(42!==(r=e.src.charCodeAt(a++))&&45!==r&&95!==r)return!1;for(i=1;a<l;){if((s=e.src.charCodeAt(a++))!==r&&32!==s)return!1;s===r&&i++}return!(i<3)&&(o||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)},["paragraph","blockquote","list"]],["list",function(e,t,n,o){var r,i,s,a,l,c,u,p,d,f,h,m,v,g,y,b,_,w,k,x,C,I=!0;if((p=X(e,t))>=0)m=!0;else{if(!((p=G(e,t))>=0))return!1;m=!1}if(e.level>=e.options.maxNesting)return!1;if(h=e.src.charCodeAt(p-1),o)return!0;for(g=e.tokens.length,m?(u=e.bMarks[t]+e.tShift[t],f=Number(e.src.substr(u,p-u-1)),e.tokens.push({type:"ordered_list_open",order:f,lines:b=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:b=[t,0],level:e.level++}),r=t,y=!1,w=e.parser.ruler.getRules("list");!(!(r<n)||((d=(v=e.skipSpaces(p))>=e.eMarks[r]?1:v-p)>4&&(d=1),d<1&&(d=1),i=p-e.bMarks[r]+d,e.tokens.push({type:"list_item_open",lines:_=[t,0],level:e.level++}),a=e.blkIndent,l=e.tight,s=e.tShift[t],c=e.parentType,e.tShift[t]=v-e.bMarks[t],e.blkIndent=i,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!y||(I=!1),y=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=a,e.tShift[t]=s,e.tight=l,e.parentType=c,e.tokens.push({type:"list_item_close",level:--e.level}),r=t=e.line,_[1]=r,v=e.bMarks[t],r>=n)||e.isEmpty(r)||e.tShift[r]<e.blkIndent);){for(C=!1,k=0,x=w.length;k<x;k++)if(w[k](e,r,n,!0)){C=!0;break}if(C)break;if(m){if((p=X(e,r))<0)break}else if((p=G(e,r))<0)break;if(h!==e.src.charCodeAt(p-1))break}return e.tokens.push({type:m?"ordered_list_close":"bullet_list_close",level:--e.level}),b[1]=r,e.line=r,I&&function(e,t){var n,o,r=e.level+2;for(n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,g),!0},["paragraph","blockquote"]],["footnote",function(e,t,n,o){var r,i,s,a,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(c+4>u)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(a=c+2;a<u;a++){if(32===e.src.charCodeAt(a))return!1;if(93===e.src.charCodeAt(a))break}return a!==c+2&&(!(a+1>=u||58!==e.src.charCodeAt(++a))&&(o||(a++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),l=e.src.slice(c+2,a-2),e.env.footnotes.refs[":"+l]=-1,e.tokens.push({type:"footnote_reference_open",label:l,level:e.level++}),r=e.bMarks[t],i=e.tShift[t],s=e.parentType,e.tShift[t]=e.skipSpaces(a)-a,e.bMarks[t]=a,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=s,e.blkIndent-=4,e.tShift[t]=i,e.bMarks[t]=r,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))},["paragraph"]],["heading",function(e,t,n,o){var r,i,s,a=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(a>=l)return!1;if(35!==(r=e.src.charCodeAt(a))||a>=l)return!1;for(i=1,r=e.src.charCodeAt(++a);35===r&&a<l&&i<=6;)i++,r=e.src.charCodeAt(++a);return!(i>6||a<l&&32!==r)&&(o||(l=e.skipCharsBack(l,32,a),(s=e.skipCharsBack(l,35,a))>a&&32===e.src.charCodeAt(s-1)&&(l=s),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:i,lines:[t,e.line],level:e.level}),a<l&&e.tokens.push({type:"inline",content:e.src.slice(a,l).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:i,level:e.level})),!0)},["paragraph","blockquote"]],["lheading",function(e,t,n){var o,r,i,s=t+1;return!(s>=n)&&(!(e.tShift[s]<e.blkIndent)&&(!(e.tShift[s]-e.blkIndent>3)&&(!((r=e.bMarks[s]+e.tShift[s])>=(i=e.eMarks[s]))&&((45===(o=e.src.charCodeAt(r))||61===o)&&(r=e.skipChars(r,o),!((r=e.skipSpaces(r))<i)&&(r=e.bMarks[t]+e.tShift[t],e.line=s+1,e.tokens.push({type:"heading_open",hLevel:61===o?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(r,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===o?1:2,level:e.level}),!0))))))}],["htmlblock",function(e,t,n,o){var r,i,s,a=e.bMarks[t],l=e.eMarks[t],c=e.tShift[t];if(a+=c,!e.options.html)return!1;if(c>3||a+2>=l)return!1;if(60!==e.src.charCodeAt(a))return!1;if(33===(r=e.src.charCodeAt(a+1))||63===r){if(o)return!0}else{if(47!==r&&!function(e){var t=32|e;return t>=97&&t<=122}(r))return!1;if(47===r){if(!(i=e.src.slice(a,l).match(ee)))return!1}else if(!(i=e.src.slice(a,l).match(J)))return!1;if(!0!==Q[i[1].toLowerCase()])return!1;if(o)return!0}for(s=t+1;s<e.lineMax&&!e.isEmpty(s);)s++;return e.line=s,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,s,0,!0)}),!0},["paragraph","blockquote"]],["table",function(e,t,n,o){var r,i,s,a,l,c,u,p,d,f,h;if(t+2>n)return!1;if(l=t+1,e.tShift[l]<e.blkIndent)return!1;if((s=e.bMarks[l]+e.tShift[l])>=e.eMarks[l])return!1;if(124!==(r=e.src.charCodeAt(s))&&45!==r&&58!==r)return!1;if(i=te(e,t+1),!/^[-:| ]+$/.test(i))return!1;if((c=i.split("|"))<=2)return!1;for(p=[],a=0;a<c.length;a++){if(!(d=c[a].trim())){if(0===a||a===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(d))return!1;58===d.charCodeAt(d.length-1)?p.push(58===d.charCodeAt(0)?"center":"right"):58===d.charCodeAt(0)?p.push("left"):p.push("")}if(-1===(i=te(e,t).trim()).indexOf("|"))return!1;if(c=i.replace(/^\||\|$/g,"").split("|"),p.length!==c.length)return!1;if(o)return!0;for(e.tokens.push({type:"table_open",lines:f=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),a=0;a<c.length;a++)e.tokens.push({type:"th_open",align:p[a],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:c[a].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:h=[t+2,0],level:e.level++}),l=t+2;l<n&&!(e.tShift[l]<e.blkIndent)&&-1!==(i=te(e,l).trim()).indexOf("|");l++){for(c=i.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),a=0;a<c.length;a++)e.tokens.push({type:"td_open",align:p[a],level:e.level++}),u=c[a].substring(124===c[a].charCodeAt(0)?1:0,124===c[a].charCodeAt(c[a].length-1)?c[a].length-1:c[a].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),f[1]=h[1]=l,e.line=l,!0},["paragraph"]],["deflist",function(e,t,n,o){var r,i,s,a,l,c,u,p,d,f,h,m,v,g;if(o)return!(e.ddIndent<0)&&ne(e,t)>=0;if(u=t+1,e.isEmpty(u)&&++u>n)return!1;if(e.tShift[u]<e.blkIndent)return!1;if((r=ne(e,u))<0)return!1;if(e.level>=e.options.maxNesting)return!1;c=e.tokens.length,e.tokens.push({type:"dl_open",lines:l=[t,0],level:e.level++}),s=t,i=u;e:for(;;){for(g=!0,v=!1,e.tokens.push({type:"dt_open",lines:[s,s],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(s,s+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[s,s],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:a=[u,0],level:e.level++}),m=e.tight,d=e.ddIndent,p=e.blkIndent,h=e.tShift[i],f=e.parentType,e.blkIndent=e.ddIndent=e.tShift[i]+2,e.tShift[i]=r-e.bMarks[i],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,i,n,!0),e.tight&&!v||(g=!1),v=e.line-i>1&&e.isEmpty(e.line-1),e.tShift[i]=h,e.tight=m,e.parentType=f,e.blkIndent=p,e.ddIndent=d,e.tokens.push({type:"dd_close",level:--e.level}),a[1]=u=e.line,u>=n)break e;if(e.tShift[u]<e.blkIndent)break e;if((r=ne(e,u))<0)break;i=u}if(u>=n)break;if(s=u,e.isEmpty(s))break;if(e.tShift[s]<e.blkIndent)break;if((i=s+1)>=n)break;if(e.isEmpty(i)&&i++,i>=n)break;if(e.tShift[i]<e.blkIndent)break;if((r=ne(e,i))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),l[1]=u,e.line=u,g&&function(e,t){var n,o,r=e.level+2;for(n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,c),!0},["paragraph"]],["paragraph",function(e,t){var n,o,r,i,s,a,l=t+1;if(l<(n=e.lineMax)&&!e.isEmpty(l))for(a=e.parser.ruler.getRules("paragraph");l<n&&!e.isEmpty(l);l++)if(!(e.tShift[l]-e.blkIndent>3)){for(r=!1,i=0,s=a.length;i<s;i++)if(a[i](e,l,n,!0)){r=!0;break}if(r)break}return o=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,o.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:o,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}]];function re(){this.ruler=new S;for(var e=0;e<oe.length;e++)this.ruler.push(oe[e][0],oe[e][1],{alt:(oe[e][2]||[]).slice()})}re.prototype.tokenize=function(e,t,n){for(var o,r=this.ruler.getRules(""),i=r.length,s=t,a=!1;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.tShift[s]<e.blkIndent);){for(o=0;o<i&&!r[o](e,s,n,!1);o++);if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<n&&e.isEmpty(s)){if(a=!0,++s<n&&"list"===e.parentType&&e.isEmpty(s))break;e.line=s}}};var ie=/[\n\t]/g,se=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,ae=/\u00a0/g;function le(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}re.prototype.parse=function(e,t,n,o){var r,i=0,s=0;if(!e)return[];(e=(e=e.replace(ae," ")).replace(se,"\n")).indexOf("\t")>=0&&(e=e.replace(ie,(function(t,n){var o;return 10===e.charCodeAt(n)?(i=n+1,s=0,t):(o="    ".slice((n-i-s)%4),s=n-i+1,o)}))),r=new V(e,this,t,n,o),this.tokenize(r,r.line,r.lineMax)};for(var ce=[],ue=0;ue<256;ue++)ce.push(0);function pe(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function de(e,t){var n,o,r,i=t,s=!0,a=!0,l=e.posMax,c=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;i<l&&e.src.charCodeAt(i)===c;)i++;return i>=l&&(s=!1),(r=i-t)>=4?s=a=!1:(32!==(o=i<l?e.src.charCodeAt(i):-1)&&10!==o||(s=!1),32!==n&&10!==n||(a=!1),95===c&&(pe(n)&&(s=!1),pe(o)&&(a=!1))),{can_open:s,can_close:a,delims:r}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){ce[e.charCodeAt(0)]=1}));var fe=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var he=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var me=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],ve=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,ge=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function ye(e,t){return e=e.source,t=t||"",function n(o,r){return o?(r=r.source||r,e=e.replace(o,r),n):new RegExp(e,t)}}var be=ye(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),_e=ye(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",be)(),we=ye(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",_e)(),ke=ye(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",we)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var xe=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,Ce=/^&([a-z][a-z0-9]{1,31});/i;var Ie=[["text",function(e,t){for(var n=e.pos;n<e.posMax&&!le(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["newline",function(e,t){var n,o,r=e.pos;if(10!==e.src.charCodeAt(r))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var i=n-2;i>=0;i--)if(32!==e.pending.charCodeAt(i)){e.pending=e.pending.substring(0,i+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(r++;r<o&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}],["escape",function(e,t){var n,o=e.pos,r=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(++o<r){if((n=e.src.charCodeAt(o))<256&&0!==ce[n])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),o++;o<r&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}],["backticks",function(e,t){var n,o,r,i,s,a=e.pos;if(96!==e.src.charCodeAt(a))return!1;for(n=a,a++,o=e.posMax;a<o&&96===e.src.charCodeAt(a);)a++;for(r=e.src.slice(n,a),i=s=a;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;s<o&&96===e.src.charCodeAt(s);)s++;if(s-i===r.length)return t||e.push({type:"code",content:e.src.slice(a,i).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=s,!0}return t||(e.pending+=r),e.pos+=r.length,!0}],["del",function(e,t){var n,o,r,i,s,a=e.posMax,l=e.pos;if(126!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=a)return!1;if(126!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),126===i)return!1;if(126===s)return!1;if(32===s||10===s)return!1;for(o=l+2;o<a&&126===e.src.charCodeAt(o);)o++;if(o>l+3)return e.pos+=o-l,t||(e.pending+=e.src.slice(l,o)),!0;for(e.pos=l+2,r=1;e.pos+1<a;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),126!==(s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&126!==i&&(32!==i&&10!==i?r--:32!==s&&10!==s&&r++,r<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=l,!1)}],["ins",function(e,t){var n,o,r,i,s,a=e.posMax,l=e.pos;if(43!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=a)return!1;if(43!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),43===i)return!1;if(43===s)return!1;if(32===s||10===s)return!1;for(o=l+2;o<a&&43===e.src.charCodeAt(o);)o++;if(o!==l+2)return e.pos+=o-l,t||(e.pending+=e.src.slice(l,o)),!0;for(e.pos=l+2,r=1;e.pos+1<a;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),43!==(s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&43!==i&&(32!==i&&10!==i?r--:32!==s&&10!==s&&r++,r<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=l,!1)}],["mark",function(e,t){var n,o,r,i,s,a=e.posMax,l=e.pos;if(61!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=a)return!1;if(61!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),61===i)return!1;if(61===s)return!1;if(32===s||10===s)return!1;for(o=l+2;o<a&&61===e.src.charCodeAt(o);)o++;if(o!==l+2)return e.pos+=o-l,t||(e.pending+=e.src.slice(l,o)),!0;for(e.pos=l+2,r=1;e.pos+1<a;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),61!==(s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&61!==i&&(32!==i&&10!==i?r--:32!==s&&10!==s&&r++,r<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=l,!1)}],["emphasis",function(e,t){var n,o,r,i,s,a,l,c=e.posMax,u=e.pos,p=e.src.charCodeAt(u);if(95!==p&&42!==p)return!1;if(t)return!1;if(n=(l=de(e,u)).delims,!l.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+n,a=[n];e.pos<c;)if(e.src.charCodeAt(e.pos)!==p)e.parser.skipToken(e);else{if(o=(l=de(e,e.pos)).delims,l.can_close){for(i=a.pop(),s=o;i!==s;){if(s<i){a.push(i-s);break}if(s-=i,0===a.length)break;e.pos+=i,i=a.pop()}if(0===a.length){n=i,r=!0;break}e.pos+=o;continue}l.can_open&&a.push(o),e.pos+=o}return r?(e.posMax=e.pos,e.pos=u+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=c,!0):(e.pos=u,!1)}],["sub",function(e,t){var n,o,r=e.posMax,i=e.pos;if(126!==e.src.charCodeAt(i))return!1;if(t)return!1;if(i+2>=r)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<r;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&i+1!==e.pos?(o=e.src.slice(i+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,t||e.push({type:"sub",level:e.level,content:o.replace(fe,"$1")}),e.pos=e.posMax+1,e.posMax=r,!0):(e.pos=i,!1)}],["sup",function(e,t){var n,o,r=e.posMax,i=e.pos;if(94!==e.src.charCodeAt(i))return!1;if(t)return!1;if(i+2>=r)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<r;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&i+1!==e.pos?(o=e.src.slice(i+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,t||e.push({type:"sup",level:e.level,content:o.replace(he,"$1")}),e.pos=e.posMax+1,e.posMax=r,!0):(e.pos=i,!1)}],["links",function(e,t){var n,o,r,i,s,a,l,c,u=!1,p=e.pos,d=e.posMax,f=e.pos,h=e.src.charCodeAt(f);if(33===h&&(u=!0,h=e.src.charCodeAt(++f)),91!==h)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=f+1,(o=O(e,f))<0)return!1;if((a=o+1)<d&&40===e.src.charCodeAt(a)){for(a++;a<d&&(32===(c=e.src.charCodeAt(a))||10===c);a++);if(a>=d)return!1;for(f=a,D(e,a)?(i=e.linkContent,a=e.pos):i="",f=a;a<d&&(32===(c=e.src.charCodeAt(a))||10===c);a++);if(a<d&&f!==a&&F(e,a))for(s=e.linkContent,a=e.pos;a<d&&(32===(c=e.src.charCodeAt(a))||10===c);a++);else s="";if(a>=d||41!==e.src.charCodeAt(a))return e.pos=p,!1;a++}else{if(e.linkLevel>0)return!1;for(;a<d&&(32===(c=e.src.charCodeAt(a))||10===c);a++);if(a<d&&91===e.src.charCodeAt(a)&&(f=a+1,(a=O(e,a))>=0?r=e.src.slice(f,a++):a=f-1),r||(void 0===r&&(a=o+1),r=e.src.slice(n,o)),!(l=e.env.references[z(r)]))return e.pos=p,!1;i=l.href,s=l.title}return t||(e.pos=n,e.posMax=o,u?e.push({type:"image",src:i,title:s,alt:e.src.substr(n,o-n),level:e.level}):(e.push({type:"link_open",href:i,title:s,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=a,e.posMax=d,!0}],["footnote_inline",function(e,t){var n,o,r,i,s=e.posMax,a=e.pos;return!(a+2>=s)&&(94===e.src.charCodeAt(a)&&(91===e.src.charCodeAt(a+1)&&(!(e.level>=e.options.maxNesting)&&(n=a+2,!((o=O(e,a+1))<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),r=e.env.footnotes.list.length,e.pos=n,e.posMax=o,e.push({type:"footnote_ref",id:r,level:e.level}),e.linkLevel++,i=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[r]={tokens:e.tokens.splice(i)},e.linkLevel--),e.pos=o+1,e.posMax=s,!0)))))}],["footnote_ref",function(e,t){var n,o,r,i,s=e.posMax,a=e.pos;if(a+3>s)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(a))return!1;if(94!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(o=a+2;o<s;o++){if(32===e.src.charCodeAt(o))return!1;if(10===e.src.charCodeAt(o))return!1;if(93===e.src.charCodeAt(o))break}return o!==a+2&&(!(o>=s)&&(o++,n=e.src.slice(a+2,o-1),void 0!==e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(r=e.env.footnotes.list.length,e.env.footnotes.list[r]={label:n,count:0},e.env.footnotes.refs[":"+n]=r):r=e.env.footnotes.refs[":"+n],i=e.env.footnotes.list[r].count,e.env.footnotes.list[r].count++,e.push({type:"footnote_ref",id:r,subId:i,level:e.level})),e.pos=o,e.posMax=s,!0)))}],["autolink",function(e,t){var n,o,r,i,s,a=e.pos;return 60===e.src.charCodeAt(a)&&(!((n=e.src.slice(a)).indexOf(">")<0)&&((o=n.match(ge))?!(me.indexOf(o[1].toLowerCase())<0)&&(s=R(i=o[0].slice(1,-1)),!!e.parser.validateLink(i)&&(t||(e.push({type:"link_open",href:s,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0)):!!(r=n.match(ve))&&(s=R("mailto:"+(i=r[0].slice(1,-1))),!!e.parser.validateLink(s)&&(t||(e.push({type:"link_open",href:s,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0))))}],["htmltag",function(e,t){var n,o,r,i=e.pos;return!!e.options.html&&(r=e.posMax,!(60!==e.src.charCodeAt(i)||i+2>=r)&&(!(33!==(n=e.src.charCodeAt(i+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(i).match(ke))&&(t||e.push({type:"htmltag",content:e.src.slice(i,i+o[0].length),level:e.level}),e.pos+=o[0].length,!0))))}],["entity",function(e,t){var n,o,r=e.pos,i=e.posMax;if(38!==e.src.charCodeAt(r))return!1;if(r+1<i)if(35===e.src.charCodeAt(r+1)){if(o=e.src.slice(r).match(xe))return t||(n="x"===o[1][0].toLowerCase()?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=h(n)?m(n):m(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(r).match(Ce)){var s=l(o[1]);if(o[1]!==s)return t||(e.pending+=s),e.pos+=o[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}]];function Ee(){this.ruler=new S;for(var e=0;e<Ie.length;e++)this.ruler.push(Ie[e][0],Ie[e][1]);this.validateLink=Ae}function Ae(e){var t=e.trim().toLowerCase();return-1===(t=b(t)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(t.split(":")[0])}Ee.prototype.skipToken=function(e){var t,n,o=this.ruler.getRules(""),r=o.length,i=e.pos;if((n=e.cacheGet(i))>0)e.pos=n;else{for(t=0;t<r;t++)if(o[t](e,!0))return void e.cacheSet(i,e.pos);e.pos++,e.cacheSet(i,e.pos)}},Ee.prototype.tokenize=function(e){for(var t,n,o=this.ruler.getRules(""),r=o.length,i=e.posMax;e.pos<i;){for(n=0;n<r&&!(t=o[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Ee.prototype.parse=function(e,t,n,o){var r=new T(e,this,t,n,o);this.tokenize(r)};var Me={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function Se(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Te(e,t){"string"!=typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new Ee,this.block=new re,this.core=new Y,this.renderer=new M,this.ruler=new S,this.options={},this.configure(Me[e]),this.set(t||{})}Te.prototype.set=function(e){p(this.options,e)},Te.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},Te.prototype.use=function(e,t){return e(this,t),this},Te.prototype.parse=function(e,t){var n=new Se(this,e,t);return this.core.process(n),n.tokens},Te.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Te.prototype.parseInline=function(e,t){var n=new Se(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Te.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};addEventListener("DOMContentLoaded",(function(){(()=>{const e=window.innerWidth<768?"mobile":"desktop",t=document.getElementById("navbar"),n=t.getBoundingClientRect().height,o=[...document.getElementsByTagName("section")];let r=()=>{for(let e of o){let t=Math.trunc(e.getBoundingClientRect().top),n=Math.trunc(e.getBoundingClientRect().bottom);if(0===t||t<0&&n>0)return e}return null};if(addEventListener("scroll",()=>{let n=document.querySelector("a.nav-link.active");n&&n.classList.remove("active"),"mobile"===e&&0!==t.getBoundingClientRect().top||r()&&document.querySelector('a.nav-link[href="#'+r().id+'"]').classList.add("active")}),"mobile"===e){const e=400,r=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.intersectionRatio>0&&(t.unobserve(e.target),e.target.classList.remove("before-animation"))})});t.classList.remove("before-animation"),setTimeout(()=>{o.forEach(e=>{r.observe(e)})},e),window.addEventListener("scroll",()=>{0===t.getBoundingClientRect().top?t.classList.add("sticky"):t.classList.remove("sticky")}),[...document.getElementsByClassName("nav-link")].forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=document.getElementById(e.target.href.split("#")[1]);window.scroll({top:t.offsetTop-n-parseInt(getComputedStyle(t).marginTop),behavior:"smooth"})})})}else{document.getElementById("background"),document.getElementsByTagName("footer")[0],(()=>{const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;document.body.removeChild(e)})();const e=1250;let n=(new Date).getTime();r=()=>o.find(e=>!e.classList.contains("above-viewport")&&!e.classList.contains("below-viewport"));const i=(t,n)=>{document.body.style.overflow="hidden",o[t].style.display="",o[n].classList.add("animating"),o[t].classList.add("animating"),setTimeout(()=>{t>n?(o[n].classList.add("above-viewport"),o[t].classList.remove("below-viewport")):(o[n].classList.add("below-viewport"),o[t].classList.remove("above-viewport"))},50),setTimeout(()=>{document.body.style.overflow="",o[n].classList.remove("animating"),o[t].classList.remove("animating")},e)},s=(t,s)=>{const a=(new Date).getTime();if(a-n<e)return;n=a;let l=r(),c=o.findIndex(e=>e===l);l&&("down"===s?(t.preventDefault(),c!==o.length&&i(c+1,c)):"up"===s&&0!==c&&i(c-1,c))};0!==window.scrollY&&(t.classList.remove("before-animation"),document.getElementById("background").style.opacity=.5,r().classList.remove("before-animation"),document.querySelector('a.nav-link[href="#'+r().id+'"]').classList.add("active")),document.addEventListener("wheel",e=>s(e,e.deltaY<0?"up":"down"),{passive:!1}),document.addEventListener("keydown",e=>{38===e.keyCode?s(e,"up"):40===e.keyCode&&s(e,"down")},{passive:!1}),o.forEach((e,t)=>{0!==t&&e.classList.add("below-viewport")}),document.querySelectorAll("#navbar a.nav-link").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),i(document.getElementById(e.target.href.split("#")[1]))})})}})(),s(),fetch(location.origin+"/assets/md/resources.md").then(e=>e.text()).then(e=>{document.getElementById("resources-list").innerHTML=(new o).render(e)}),document.getElementById("resources-btn").onclick=()=>{document.getElementsByClassName("overlay")[0].style.visibility="visible",document.getElementsByClassName("overlay")[0].style.opacity="1",document.body.style.overflow="hidden"},document.getElementById("close-btn").onclick=()=>{document.getElementsByClassName("overlay")[0].style.visibility="",document.getElementsByClassName("overlay")[0].style.opacity="",document.body.style.overflow=""}}))}]);
//# sourceMappingURL=app.bundle.js.map